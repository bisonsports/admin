(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var fv={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA=Symbol.for("react.transitional.element"),pA=Symbol.for("react.fragment");function dv(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:gA,type:t,key:i,ref:e!==void 0?e:null,props:n}}rc.Fragment=pA;rc.jsx=dv;rc.jsxs=dv;fv.exports=rc;var y=fv.exports,mv={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=Symbol.for("react.transitional.element"),yA=Symbol.for("react.portal"),_A=Symbol.for("react.fragment"),vA=Symbol.for("react.strict_mode"),EA=Symbol.for("react.profiler"),TA=Symbol.for("react.consumer"),bA=Symbol.for("react.context"),SA=Symbol.for("react.forward_ref"),AA=Symbol.for("react.suspense"),wA=Symbol.for("react.memo"),gv=Symbol.for("react.lazy"),pp=Symbol.iterator;function RA(t){return t===null||typeof t!="object"?null:(t=pp&&t[pp]||t["@@iterator"],typeof t=="function"?t:null)}var pv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yv=Object.assign,_v={};function Gs(t,e,n){this.props=t,this.context=e,this.refs=_v,this.updater=n||pv}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vv(){}vv.prototype=Gs.prototype;function Sd(t,e,n){this.props=t,this.context=e,this.refs=_v,this.updater=n||pv}var Ad=Sd.prototype=new vv;Ad.constructor=Sd;yv(Ad,Gs.prototype);Ad.isPureReactComponent=!0;var yp=Array.isArray,Ce={H:null,A:null,T:null,S:null},Ev=Object.prototype.hasOwnProperty;function wd(t,e,n,i,r,s){return n=s.ref,{$$typeof:bd,type:t,key:e,ref:n!==void 0?n:null,props:s}}function IA(t,e){return wd(t.type,e,void 0,void 0,void 0,t.props)}function Rd(t){return typeof t=="object"&&t!==null&&t.$$typeof===bd}function CA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _p=/\/+/g;function hh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CA(""+t.key):e.toString(36)}function vp(){}function NA(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(vp,vp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Xr(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bd:case yA:a=!0;break;case gv:return a=t._init,Xr(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+hh(t,0):i,yp(r)?(n="",a!=null&&(n=a.replace(_p,"$&/")+"/"),Xr(r,e,n,"",function(h){return h})):r!=null&&(Rd(r)&&(r=IA(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(_p,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(yp(t))for(var u=0;u<t.length;u++)i=t[u],s=l+hh(i,u),a+=Xr(i,e,n,s,r);else if(u=RA(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+hh(i,u++),a+=Xr(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return Xr(NA(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function El(t,e,n){if(t==null)return t;var i=[],r=0;return Xr(t,i,"","",function(s){return e.call(n,s,r++)}),i}function xA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ep=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function DA(){}te.Children={map:El,forEach:function(t,e,n){El(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return El(t,function(){e++}),e},toArray:function(t){return El(t,function(e){return e})||[]},only:function(t){if(!Rd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Gs;te.Fragment=_A;te.Profiler=EA;te.PureComponent=Sd;te.StrictMode=vA;te.Suspense=AA;te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ce;te.act=function(){throw Error("act(...) is not supported in production builds of React.")};te.cache=function(t){return function(){return t.apply(null,arguments)}};te.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=yv({},t.props),r=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(r=""+e.key),e)!Ev.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return wd(t.type,r,void 0,void 0,s,i)};te.createContext=function(t){return t={$$typeof:bA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:TA,_context:t},t};te.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)Ev.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return wd(t,s,void 0,void 0,null,r)};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:SA,render:t}};te.isValidElement=Rd;te.lazy=function(t){return{$$typeof:gv,_payload:{_status:-1,_result:t},_init:xA}};te.memo=function(t,e){return{$$typeof:wA,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Ce.T,n={};Ce.T=n;try{var i=t(),r=Ce.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(DA,Ep)}catch(s){Ep(s)}finally{Ce.T=e}};te.unstable_useCacheRefresh=function(){return Ce.H.useCacheRefresh()};te.use=function(t){return Ce.H.use(t)};te.useActionState=function(t,e,n){return Ce.H.useActionState(t,e,n)};te.useCallback=function(t,e){return Ce.H.useCallback(t,e)};te.useContext=function(t){return Ce.H.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t,e){return Ce.H.useDeferredValue(t,e)};te.useEffect=function(t,e){return Ce.H.useEffect(t,e)};te.useId=function(){return Ce.H.useId()};te.useImperativeHandle=function(t,e,n){return Ce.H.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Ce.H.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Ce.H.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Ce.H.useMemo(t,e)};te.useOptimistic=function(t,e){return Ce.H.useOptimistic(t,e)};te.useReducer=function(t,e,n){return Ce.H.useReducer(t,e,n)};te.useRef=function(t){return Ce.H.useRef(t)};te.useState=function(t){return Ce.H.useState(t)};te.useSyncExternalStore=function(t,e,n){return Ce.H.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Ce.H.useTransition()};te.version="19.0.0";mv.exports=te;var G=mv.exports,Tv={exports:{}},sc={},bv={exports:{}},Sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,W){var z=q.length;q.push(W);e:for(;0<z;){var K=z-1>>>1,Y=q[K];if(0<r(Y,W))q[K]=W,q[z]=Y,z=K;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var W=q[0],z=q.pop();if(z!==W){q[0]=z;e:for(var K=0,Y=q.length,oe=Y>>>1;K<oe;){var ie=2*(K+1)-1,ye=q[ie],Je=ie+1,De=q[Je];if(0>r(ye,z))Je<Y&&0>r(De,ye)?(q[K]=De,q[Je]=z,K=Je):(q[K]=ye,q[ie]=z,K=ie);else if(Je<Y&&0>r(De,z))q[K]=De,q[Je]=z,K=Je;else break e}}return W}function r(q,W){var z=q.sortIndex-W.sortIndex;return z!==0?z:q.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,_=!1,C=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(q){for(var W=n(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=q)i(h),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(h)}}function N(q){if(O=!1,A(q),!C)if(n(u)!==null)C=!0,yt();else{var W=n(h);W!==null&&tn(N,W.startTime-q)}}var U=!1,j=-1,T=5,v=-1;function b(){return!(t.unstable_now()-v<T)}function w(){if(U){var q=t.unstable_now();v=q;var W=!0;try{e:{C=!1,O&&(O=!1,S(j),j=-1),_=!0;var z=m;try{t:{for(A(q),g=n(u);g!==null&&!(g.expirationTime>q&&b());){var K=g.callback;if(typeof K=="function"){g.callback=null,m=g.priorityLevel;var Y=K(g.expirationTime<=q);if(q=t.unstable_now(),typeof Y=="function"){g.callback=Y,A(q),W=!0;break t}g===n(u)&&i(u),A(q)}else i(u);g=n(u)}if(g!==null)W=!0;else{var oe=n(h);oe!==null&&tn(N,oe.startTime-q),W=!1}}break e}finally{g=null,m=z,_=!1}W=void 0}}finally{W?I():U=!1}}}var I;if(typeof E=="function")I=function(){E(w)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,R=D.port2;D.port1.onmessage=w,I=function(){R.postMessage(null)}}else I=function(){M(w,0)};function yt(){U||(U=!0,I())}function tn(q,W){j=M(function(){q(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,yt())},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var z=m;m=W;try{return q()}finally{m=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var z=m;m=q;try{return W()}finally{m=z}},t.unstable_scheduleCallback=function(q,W,z){var K=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=z+Y,q={id:d++,callback:W,priorityLevel:q,startTime:z,expirationTime:Y,sortIndex:-1},z>K?(q.sortIndex=z,e(h,q),n(u)===null&&q===n(h)&&(O?(S(j),j=-1):O=!0,tn(N,z-K))):(q.sortIndex=Y,e(u,q),C||_||(C=!0,yt())),q},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(q){var W=m;return function(){var z=m;m=W;try{return q.apply(this,arguments)}finally{m=z}}}})(Sv);bv.exports=Sv;var OA=bv.exports,Av={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA=G;function wv(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ui(){}var bt={d:{f:ui,r:function(){throw Error(wv(522))},D:ui,C:ui,L:ui,m:ui,X:ui,S:ui,M:ui},p:0,findDOMNode:null},VA=Symbol.for("react.portal");function kA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:VA,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var za=MA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ac(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(wv(299));return kA(t,e,null,n)};At.flushSync=function(t){var e=za.T,n=bt.p;try{if(za.T=null,bt.p=2,t)return t()}finally{za.T=e,bt.p=n,bt.d.f()}};At.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,bt.d.C(t,e))};At.prefetchDNS=function(t){typeof t=="string"&&bt.d.D(t)};At.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=ac(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?bt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&bt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};At.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ac(e.as,e.crossOrigin);bt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&bt.d.M(t)};At.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=ac(n,e.crossOrigin);bt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};At.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ac(e.as,e.crossOrigin);bt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else bt.d.m(t)};At.requestFormReset=function(t){bt.d.r(t)};At.unstable_batchedUpdates=function(t,e){return t(e)};At.useFormState=function(t,e,n){return za.H.useFormState(t,e,n)};At.useFormStatus=function(){return za.H.useHostTransitionStatus()};At.version="19.0.0";function Rv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rv)}catch(t){console.error(t)}}Rv(),Av.exports=At;var PA=Av.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke=OA,Iv=G,LA=PA;function P(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Cv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var UA=Symbol.for("react.element"),Tl=Symbol.for("react.transitional.element"),Na=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),Nv=Symbol.for("react.strict_mode"),rf=Symbol.for("react.profiler"),jA=Symbol.for("react.provider"),xv=Symbol.for("react.consumer"),Vn=Symbol.for("react.context"),Id=Symbol.for("react.forward_ref"),sf=Symbol.for("react.suspense"),af=Symbol.for("react.suspense_list"),Cd=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),Dv=Symbol.for("react.offscreen"),zA=Symbol.for("react.memo_cache_sentinel"),Tp=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=Tp&&t[Tp]||t["@@iterator"],typeof t=="function"?t:null)}var BA=Symbol.for("react.client.reference");function of(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===BA?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rs:return"Fragment";case Na:return"Portal";case rf:return"Profiler";case Nv:return"StrictMode";case sf:return"Suspense";case af:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vn:return(t.displayName||"Context")+".Provider";case xv:return(t._context.displayName||"Context")+".Consumer";case Id:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cd:return e=t.displayName||null,e!==null?e:of(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return of(t(e))}catch{}}return null}var ee=Iv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=Object.assign,fh,bp;function xa(t){if(fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fh=e&&e[1]||"",bp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fh+t+bp}var dh=!1;function mh(t,e){if(!t||dh)return"";dh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(t,[],g)}else{try{g.call()}catch(_){m=_}t.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=r);break}}}finally{dh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?xa(n):""}function qA(t){switch(t.tag){case 26:case 27:case 5:return xa(t.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 15:return t=mh(t.type,!1),t;case 11:return t=mh(t.type.render,!1),t;case 1:return t=mh(t.type,!0),t;default:return""}}function Sp(t){try{var e="";do e+=qA(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ov(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ap(t){if(Ks(t)!==t)throw Error(P(188))}function HA(t){var e=t.alternate;if(!e){if(e=Ks(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Ap(r),t;if(s===i)return Ap(r),e;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Mv(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Mv(t),e!==null)return e;t=t.sibling}return null}var Da=Array.isArray,Ae=LA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mr={pending:!1,data:null,method:null,action:null},lf=[],ss=-1;function bn(t){return{current:t}}function We(t){0>ss||(t.current=lf[ss],lf[ss]=null,ss--)}function Re(t,e){ss++,lf[ss]=t.current,t.current=e}var mn=bn(null),oo=bn(null),Ri=bn(null),cu=bn(null);function hu(t,e){switch(Re(Ri,e),Re(oo,t),Re(mn,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?wy(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=wy(t),e=GE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}We(mn),Re(mn,e)}function Is(){We(mn),We(oo),We(Ri)}function uf(t){t.memoizedState!==null&&Re(cu,t);var e=mn.current,n=GE(e,t.type);e!==n&&(Re(oo,t),Re(mn,n))}function fu(t){oo.current===t&&(We(mn),We(oo)),cu.current===t&&(We(cu),vo._currentValue=mr)}var cf=Object.prototype.hasOwnProperty,Nd=Ke.unstable_scheduleCallback,gh=Ke.unstable_cancelCallback,FA=Ke.unstable_shouldYield,GA=Ke.unstable_requestPaint,gn=Ke.unstable_now,KA=Ke.unstable_getCurrentPriorityLevel,Vv=Ke.unstable_ImmediatePriority,kv=Ke.unstable_UserBlockingPriority,du=Ke.unstable_NormalPriority,QA=Ke.unstable_LowPriority,Pv=Ke.unstable_IdlePriority,YA=Ke.log,$A=Ke.unstable_setDisableYieldValue,Vo=null,Lt=null;function XA(t){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Vo,t,void 0,(t.current.flags&128)===128)}catch{}}function Si(t){if(typeof YA=="function"&&$A(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Vo,t)}catch{}}var Ut=Math.clz32?Math.clz32:JA,WA=Math.log,ZA=Math.LN2;function JA(t){return t>>>=0,t===0?32:31-(WA(t)/ZA|0)|0}var bl=128,Sl=4194304;function ar(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=t.warmLanes;t=t.finishedLanes!==0;var l=n&134217727;return l!==0?(n=l&~r,n!==0?i=ar(n):(s&=l,s!==0?i=ar(s):t||(a=l&~a,a!==0&&(i=ar(a))))):(l=n&~r,l!==0?i=ar(l):s!==0?i=ar(s):t||(a=n&~a,a!==0&&(i=ar(a)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,a=e&-e,r>=a||r===32&&(a&4194176)!==0)?e:i}function ko(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function ew(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lv(){var t=bl;return bl<<=1,!(bl&4194176)&&(bl=128),t}function Uv(){var t=Sl;return Sl<<=1,!(Sl&62914560)&&(Sl=4194304),t}function ph(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Po(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tw(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Ut(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&jv(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function jv(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Ut(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194218}function zv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ut(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function Bv(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function qv(){var t=Ae.p;return t!==0?t:(t=window.event,t===void 0?32:tT(t.type))}function nw(t,e){var n=Ae.p;try{return Ae.p=t,e()}finally{Ae.p=n}}var $i=Math.random().toString(36).slice(2),dt="__reactFiber$"+$i,Nt="__reactProps$"+$i,Qs="__reactContainer$"+$i,hf="__reactEvents$"+$i,iw="__reactListeners$"+$i,rw="__reactHandles$"+$i,wp="__reactResources$"+$i,lo="__reactMarker$"+$i;function xd(t){delete t[dt],delete t[Nt],delete t[hf],delete t[iw],delete t[rw]}function cr(t){var e=t[dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qs]||n[dt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Iy(t);t!==null;){if(n=t[dt])return n;t=Iy(t)}return e}t=n,n=t.parentNode}return null}function Ys(t){if(t=t[dt]||t[Qs]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Oa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(P(33))}function gs(t){var e=t[wp];return e||(e=t[wp]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function $e(t){t[lo]=!0}var Hv=new Set,Fv={};function Mr(t,e){Cs(t,e),Cs(t+"Capture",e)}function Cs(t,e){for(Fv[t]=e,t=0;t<e.length;t++)Hv.add(e[t])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rp={},Ip={};function aw(t){return cf.call(Ip,t)?!0:cf.call(Rp,t)?!1:sw.test(t)?Ip[t]=!0:(Rp[t]=!0,!1)}function ql(t,e,n){if(aw(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Al(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Rn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ow(t){var e=Gv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mu(t){t._valueTracker||(t._valueTracker=ow(t))}function Kv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Gv(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function gu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lw=/[\n"\\]/g;function Qt(t){return t.replace(lw,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ff(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ft(e)):t.value!==""+Ft(e)&&(t.value=""+Ft(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?df(t,a,Ft(e)):n!=null?df(t,a,Ft(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Ft(l):t.removeAttribute("name")}function Qv(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Ft(n):"",e=e!=null?""+Ft(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function df(t,e,n){e==="number"&&gu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ps(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ft(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Yv(t,e,n){if(e!=null&&(e=""+Ft(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ft(n):""}function $v(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(P(92));if(Da(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Ft(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function Ns(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cp(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||uw.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Xv(t,e,n){if(e!=null&&typeof e!="object")throw Error(P(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Cp(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Cp(t,s,e[s])}function Dd(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(t){return hw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mf=null;function Od(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var as=null,ys=null;function Np(t){var e=Ys(t);if(e&&(t=e.stateNode)){var n=t[Nt]||null;e:switch(t=e.stateNode,e.type){case"input":if(ff(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Nt]||null;if(!r)throw Error(P(90));ff(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&Kv(i)}break e;case"textarea":Yv(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ps(t,!!n.multiple,e,!1)}}}var yh=!1;function Wv(t,e,n){if(yh)return t(e,n);yh=!0;try{var i=t(e);return i}finally{if(yh=!1,(as!==null||ys!==null)&&(yc(),as&&(e=as,t=ys,ys=as=null,Np(e),t)))for(e=0;e<t.length;e++)Np(t[e])}}function uo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Nt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var gf=!1;if(Gn)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){gf=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{gf=!1}var Ai=null,Md=null,Fl=null;function Zv(){if(Fl)return Fl;var t,e=Md,n=e.length,i,r="value"in Ai?Ai.value:Ai.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return Fl=r.slice(t,1<i?1-i:void 0)}function Gl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wl(){return!0}function xp(){return!1}function xt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wl:xp,this.isPropagationStopped=xp,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),e}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=xt(Vr),Lo=we({},Vr,{view:0,detail:0}),fw=xt(Lo),_h,vh,ba,uc=we({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ba&&(ba&&t.type==="mousemove"?(_h=t.screenX-ba.screenX,vh=t.screenY-ba.screenY):vh=_h=0,ba=t),_h)},movementY:function(t){return"movementY"in t?t.movementY:vh}}),Dp=xt(uc),dw=we({},uc,{dataTransfer:0}),mw=xt(dw),gw=we({},Lo,{relatedTarget:0}),Eh=xt(gw),pw=we({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),yw=xt(pw),_w=we({},Vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vw=xt(_w),Ew=we({},Vr,{data:0}),Op=xt(Ew),Tw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Sw[t])?!!e[t]:!1}function Vd(){return Aw}var ww=we({},Lo,{key:function(t){if(t.key){var e=Tw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(t){return t.type==="keypress"?Gl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rw=xt(ww),Iw=we({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mp=xt(Iw),Cw=we({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),Nw=xt(Cw),xw=we({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dw=xt(xw),Ow=we({},uc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mw=xt(Ow),Vw=we({},Vr,{newState:0,oldState:0}),kw=xt(Vw),Pw=[9,13,27,32],kd=Gn&&"CompositionEvent"in window,Ba=null;Gn&&"documentMode"in document&&(Ba=document.documentMode);var Lw=Gn&&"TextEvent"in window&&!Ba,Jv=Gn&&(!kd||Ba&&8<Ba&&11>=Ba),Vp=" ",kp=!1;function e0(t,e){switch(t){case"keyup":return Pw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function Uw(t,e){switch(t){case"compositionend":return t0(e);case"keypress":return e.which!==32?null:(kp=!0,Vp);case"textInput":return t=e.data,t===Vp&&kp?null:t;default:return null}}function jw(t,e){if(os)return t==="compositionend"||!kd&&e0(t,e)?(t=Zv(),Fl=Md=Ai=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jv&&e.locale!=="ko"?null:e.data;default:return null}}var zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zw[t.type]:e==="textarea"}function n0(t,e,n,i){as?ys?ys.push(i):ys=[i]:as=i,e=Du(e,"onChange"),0<e.length&&(n=new lc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var qa=null,co=null;function Bw(t){qE(t,0)}function cc(t){var e=Oa(t);if(Kv(e))return t}function Lp(t,e){if(t==="change")return e}var i0=!1;if(Gn){var Th;if(Gn){var bh="oninput"in document;if(!bh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),bh=typeof Up.oninput=="function"}Th=bh}else Th=!1;i0=Th&&(!document.documentMode||9<document.documentMode)}function jp(){qa&&(qa.detachEvent("onpropertychange",r0),co=qa=null)}function r0(t){if(t.propertyName==="value"&&cc(co)){var e=[];n0(e,co,t,Od(t)),Wv(Bw,e)}}function qw(t,e,n){t==="focusin"?(jp(),qa=e,co=n,qa.attachEvent("onpropertychange",r0)):t==="focusout"&&jp()}function Hw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(co)}function Fw(t,e){if(t==="click")return cc(e)}function Gw(t,e){if(t==="input"||t==="change")return cc(e)}function Kw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zt=typeof Object.is=="function"?Object.is:Kw;function ho(t,e){if(zt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!cf.call(e,r)||!zt(t[r],e[r]))return!1}return!0}function zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,e){var n=zp(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zp(n)}}function s0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=gu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gu(t.document)}return e}function Pd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qw(t,e){var n=a0(e);e=t.focusedElem;var i=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&s0(e.ownerDocument.documentElement,e)){if(i!==null&&Pd(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var r=e.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Bp(e,s);var a=Bp(e,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Yw=Gn&&"documentMode"in document&&11>=document.documentMode,ls=null,pf=null,Ha=null,yf=!1;function qp(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yf||ls==null||ls!==gu(i)||(i=ls,"selectionStart"in i&&Pd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ha&&ho(Ha,i)||(Ha=i,i=Du(pf,"onSelect"),0<i.length&&(e=new lc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ls)))}function sr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var us={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionrun:sr("Transition","TransitionRun"),transitionstart:sr("Transition","TransitionStart"),transitioncancel:sr("Transition","TransitionCancel"),transitionend:sr("Transition","TransitionEnd")},Sh={},o0={};Gn&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function kr(t){if(Sh[t])return Sh[t];if(!us[t])return t;var e=us[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in o0)return Sh[t]=e[n];return t}var l0=kr("animationend"),u0=kr("animationiteration"),c0=kr("animationstart"),$w=kr("transitionrun"),Xw=kr("transitionstart"),Ww=kr("transitioncancel"),h0=kr("transitionend"),f0=new Map,Hp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function cn(t,e){f0.set(t,e),Mr(e,[t])}var Ht=[],cs=0,Ld=0;function hc(){for(var t=cs,e=Ld=cs=0;e<t;){var n=Ht[e];Ht[e++]=null;var i=Ht[e];Ht[e++]=null;var r=Ht[e];Ht[e++]=null;var s=Ht[e];if(Ht[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&d0(n,r,s)}}function fc(t,e,n,i){Ht[cs++]=t,Ht[cs++]=e,Ht[cs++]=n,Ht[cs++]=i,Ld|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Ud(t,e,n,i){return fc(t,e,n,i),pu(t)}function ji(t,e){return fc(t,null,null,e),pu(t)}function d0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;r&&e!==null&&t.tag===3&&(s=t.stateNode,r=31-Ut(n),s=s.hiddenUpdates,t=s[r],t===null?s[r]=[e]:t.push(e),e.lane=n|536870912)}function pu(t){if(50<to)throw to=0,jf=null,Error(P(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var hs={},Fp=new WeakMap;function Yt(t,e){if(typeof t=="object"&&t!==null){var n=Fp.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Sp(e)},Fp.set(t,e),e)}return{value:t,source:e,stack:Sp(e)}}var fs=[],ds=0,yu=null,_u=0,Gt=[],Kt=0,gr=null,kn=1,Pn="";function or(t,e){fs[ds++]=_u,fs[ds++]=yu,yu=t,_u=e}function m0(t,e,n){Gt[Kt++]=kn,Gt[Kt++]=Pn,Gt[Kt++]=gr,gr=t;var i=kn;t=Pn;var r=32-Ut(i)-1;i&=~(1<<r),n+=1;var s=32-Ut(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,kn=1<<32-Ut(e)+r|n<<r|i,Pn=s+t}else kn=1<<s|n<<r|i,Pn=t}function jd(t){t.return!==null&&(or(t,1),m0(t,1,0))}function zd(t){for(;t===yu;)yu=fs[--ds],fs[ds]=null,_u=fs[--ds],fs[ds]=null;for(;t===gr;)gr=Gt[--Kt],Gt[Kt]=null,Pn=Gt[--Kt],Gt[Kt]=null,kn=Gt[--Kt],Gt[Kt]=null}var Tt=null,it=null,de=!1,sn=null,fn=!1,_f=Error(P(519));function br(t){var e=Error(P(418,""));throw fo(Yt(e,t)),_f}function Gp(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[dt]=t,e[Nt]=i,n){case"dialog":le("cancel",e),le("close",e);break;case"iframe":case"object":case"embed":le("load",e);break;case"video":case"audio":for(n=0;n<po.length;n++)le(po[n],e);break;case"source":le("error",e);break;case"img":case"image":case"link":le("error",e),le("load",e);break;case"details":le("toggle",e);break;case"input":le("invalid",e),Qv(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),mu(e);break;case"select":le("invalid",e);break;case"textarea":le("invalid",e),$v(e,i.value,i.defaultValue,i.children),mu(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||FE(e.textContent,n)?(i.popover!=null&&(le("beforetoggle",e),le("toggle",e)),i.onScroll!=null&&le("scroll",e),i.onScrollEnd!=null&&le("scrollend",e),i.onClick!=null&&(e.onclick=vc),e=!0):e=!1,e||br(t)}function Kp(t){for(Tt=t.return;Tt;)switch(Tt.tag){case 3:case 27:fn=!0;return;case 5:case 13:fn=!1;return;default:Tt=Tt.return}}function Sa(t){if(t!==Tt)return!1;if(!de)return Kp(t),de=!0,!1;var e=!1,n;if((n=t.tag!==3&&t.tag!==27)&&((n=t.tag===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Kf(t.type,t.memoizedProps)),n=!n),n&&(e=!0),e&&it&&br(t),Kp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){it=an(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}it=null}}else it=Tt?an(t.stateNode.nextSibling):null;return!0}function Uo(){it=Tt=null,de=!1}function fo(t){sn===null?sn=[t]:sn.push(t)}var Fa=Error(P(460)),g0=Error(P(474)),vf={then:function(){}};function Qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rl(){}function p0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Rl,Rl),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===Fa?Error(P(483)):t;default:if(typeof e.status=="string")e.then(Rl,Rl);else{if(t=Te,t!==null&&100<t.shellSuspendCounter)throw Error(P(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===Fa?Error(P(483)):t}throw Ga=e,Fa}}var Ga=null;function Yp(){if(Ga===null)throw Error(P(459));var t=Ga;return Ga=null,t}var _s=null,mo=0;function Il(t){var e=mo;return mo+=1,_s===null&&(_s=[]),p0(_s,t,e)}function Aa(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Cl(t,e){throw e.$$typeof===UA?Error(P(525)):(t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function $p(t){var e=t._init;return e(t._payload)}function y0(t){function e(S,E){if(t){var A=S.deletions;A===null?(S.deletions=[E],S.flags|=16):A.push(E)}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function i(S){for(var E=new Map;S!==null;)S.key!==null?E.set(S.key,S):E.set(S.index,S),S=S.sibling;return E}function r(S,E){return S=Ni(S,E),S.index=0,S.sibling=null,S}function s(S,E,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<E?(S.flags|=33554434,E):A):(S.flags|=33554434,E)):(S.flags|=1048576,E)}function a(S){return t&&S.alternate===null&&(S.flags|=33554434),S}function l(S,E,A,N){return E===null||E.tag!==6?(E=kh(A,S.mode,N),E.return=S,E):(E=r(E,A),E.return=S,E)}function u(S,E,A,N){var U=A.type;return U===rs?d(S,E,A.props.children,N,A.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===mi&&$p(U)===E.type)?(E=r(E,A.props),Aa(E,A),E.return=S,E):(E=Xl(A.type,A.key,A.props,null,S.mode,N),Aa(E,A),E.return=S,E)}function h(S,E,A,N){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Ph(A,S.mode,N),E.return=S,E):(E=r(E,A.children||[]),E.return=S,E)}function d(S,E,A,N,U){return E===null||E.tag!==7?(E=yr(A,S.mode,N,U),E.return=S,E):(E=r(E,A),E.return=S,E)}function g(S,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=kh(""+E,S.mode,A),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Tl:return A=Xl(E.type,E.key,E.props,null,S.mode,A),Aa(A,E),A.return=S,A;case Na:return E=Ph(E,S.mode,A),E.return=S,E;case mi:var N=E._init;return E=N(E._payload),g(S,E,A)}if(Da(E)||Ea(E))return E=yr(E,S.mode,A,null),E.return=S,E;if(typeof E.then=="function")return g(S,Il(E),A);if(E.$$typeof===Vn)return g(S,Nl(S,E),A);Cl(S,E)}return null}function m(S,E,A,N){var U=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return U!==null?null:l(S,E,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Tl:return A.key===U?u(S,E,A,N):null;case Na:return A.key===U?h(S,E,A,N):null;case mi:return U=A._init,A=U(A._payload),m(S,E,A,N)}if(Da(A)||Ea(A))return U!==null?null:d(S,E,A,N,null);if(typeof A.then=="function")return m(S,E,Il(A),N);if(A.$$typeof===Vn)return m(S,E,Nl(S,A),N);Cl(S,A)}return null}function _(S,E,A,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return S=S.get(A)||null,l(E,S,""+N,U);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Tl:return S=S.get(N.key===null?A:N.key)||null,u(E,S,N,U);case Na:return S=S.get(N.key===null?A:N.key)||null,h(E,S,N,U);case mi:var j=N._init;return N=j(N._payload),_(S,E,A,N,U)}if(Da(N)||Ea(N))return S=S.get(A)||null,d(E,S,N,U,null);if(typeof N.then=="function")return _(S,E,A,Il(N),U);if(N.$$typeof===Vn)return _(S,E,A,Nl(E,N),U);Cl(E,N)}return null}function C(S,E,A,N){for(var U=null,j=null,T=E,v=E=0,b=null;T!==null&&v<A.length;v++){T.index>v?(b=T,T=null):b=T.sibling;var w=m(S,T,A[v],N);if(w===null){T===null&&(T=b);break}t&&T&&w.alternate===null&&e(S,T),E=s(w,E,v),j===null?U=w:j.sibling=w,j=w,T=b}if(v===A.length)return n(S,T),de&&or(S,v),U;if(T===null){for(;v<A.length;v++)T=g(S,A[v],N),T!==null&&(E=s(T,E,v),j===null?U=T:j.sibling=T,j=T);return de&&or(S,v),U}for(T=i(T);v<A.length;v++)b=_(T,S,v,A[v],N),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?v:b.key),E=s(b,E,v),j===null?U=b:j.sibling=b,j=b);return t&&T.forEach(function(I){return e(S,I)}),de&&or(S,v),U}function O(S,E,A,N){if(A==null)throw Error(P(151));for(var U=null,j=null,T=E,v=E=0,b=null,w=A.next();T!==null&&!w.done;v++,w=A.next()){T.index>v?(b=T,T=null):b=T.sibling;var I=m(S,T,w.value,N);if(I===null){T===null&&(T=b);break}t&&T&&I.alternate===null&&e(S,T),E=s(I,E,v),j===null?U=I:j.sibling=I,j=I,T=b}if(w.done)return n(S,T),de&&or(S,v),U;if(T===null){for(;!w.done;v++,w=A.next())w=g(S,w.value,N),w!==null&&(E=s(w,E,v),j===null?U=w:j.sibling=w,j=w);return de&&or(S,v),U}for(T=i(T);!w.done;v++,w=A.next())w=_(T,S,v,w.value,N),w!==null&&(t&&w.alternate!==null&&T.delete(w.key===null?v:w.key),E=s(w,E,v),j===null?U=w:j.sibling=w,j=w);return t&&T.forEach(function(D){return e(S,D)}),de&&or(S,v),U}function M(S,E,A,N){if(typeof A=="object"&&A!==null&&A.type===rs&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Tl:e:{for(var U=A.key;E!==null;){if(E.key===U){if(U=A.type,U===rs){if(E.tag===7){n(S,E.sibling),N=r(E,A.props.children),N.return=S,S=N;break e}}else if(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===mi&&$p(U)===E.type){n(S,E.sibling),N=r(E,A.props),Aa(N,A),N.return=S,S=N;break e}n(S,E);break}else e(S,E);E=E.sibling}A.type===rs?(N=yr(A.props.children,S.mode,N,A.key),N.return=S,S=N):(N=Xl(A.type,A.key,A.props,null,S.mode,N),Aa(N,A),N.return=S,S=N)}return a(S);case Na:e:{for(U=A.key;E!==null;){if(E.key===U)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(S,E.sibling),N=r(E,A.children||[]),N.return=S,S=N;break e}else{n(S,E);break}else e(S,E);E=E.sibling}N=Ph(A,S.mode,N),N.return=S,S=N}return a(S);case mi:return U=A._init,A=U(A._payload),M(S,E,A,N)}if(Da(A))return C(S,E,A,N);if(Ea(A)){if(U=Ea(A),typeof U!="function")throw Error(P(150));return A=U.call(A),O(S,E,A,N)}if(typeof A.then=="function")return M(S,E,Il(A),N);if(A.$$typeof===Vn)return M(S,E,Nl(S,A),N);Cl(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(n(S,E.sibling),N=r(E,A),N.return=S,S=N):(n(S,E),N=kh(A,S.mode,N),N.return=S,S=N),a(S)):n(S,E)}return function(S,E,A,N){try{mo=0;var U=M(S,E,A,N);return _s=null,U}catch(T){if(T===Fa)throw T;var j=$t(29,T,null,S.mode);return j.lanes=N,j.return=S,j}finally{}}}var Sr=y0(!0),_0=y0(!1),xs=bn(null),vu=bn(0);function Xp(t,e){t=Yn,Re(vu,t),Re(xs,e),Yn=t|e.baseLanes}function Ef(){Re(vu,Yn),Re(xs,xs.current)}function Bd(){Yn=vu.current,We(xs),We(vu)}var Zt=bn(null),pn=null;function pi(t){var e=t.alternate;Re(He,He.current&1),Re(Zt,t),pn===null&&(e===null||xs.current!==null||e.memoizedState!==null)&&(pn=t)}function v0(t){if(t.tag===22){if(Re(He,He.current),Re(Zt,t),pn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(pn=t)}}else yi()}function yi(){Re(He,He.current),Re(Zt,Zt.current)}function Ln(t){We(Zt),pn===t&&(pn=null),We(He)}var He=bn(0);function Eu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zw=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Jw=Ke.unstable_scheduleCallback,e1=Ke.unstable_NormalPriority,qe={$$typeof:Vn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new Zw,data:new Map,refCount:0}}function jo(t){t.refCount--,t.refCount===0&&Jw(e1,function(){t.controller.abort()})}var Ka=null,Tf=0,Ds=0,vs=null;function t1(t,e){if(Ka===null){var n=Ka=[];Tf=0,Ds=hm(),vs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Tf++,e.then(Wp,Wp),e}function Wp(){if(--Tf===0&&Ka!==null){vs!==null&&(vs.status="fulfilled");var t=Ka;Ka=null,Ds=0,vs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function n1(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Zp=ee.S;ee.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&t1(t,e),Zp!==null&&Zp(t,e)};var pr=bn(null);function Hd(){var t=pr.current;return t!==null?t:Te.pooledCache}function Kl(t,e){e===null?Re(pr,pr.current):Re(pr,e.pool)}function E0(){var t=Hd();return t===null?null:{parent:qe._currentValue,pool:t}}var zi=0,ne=null,pe=null,je=null,Tu=!1,Es=!1,Ar=!1,bu=0,go=0,Ts=null,i1=0;function ke(){throw Error(P(321))}function Fd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zt(t[n],e[n]))return!1;return!0}function Gd(t,e,n,i,r,s){return zi=s,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ee.H=t===null||t.memoizedState===null?Pr:Xi,Ar=!1,s=n(i,r),Ar=!1,Es&&(s=b0(e,n,i,r)),T0(t),s}function T0(t){ee.H=En;var e=pe!==null&&pe.next!==null;if(zi=0,je=pe=ne=null,Tu=!1,go=0,Ts=null,e)throw Error(P(300));t===null||Xe||(t=t.dependencies,t!==null&&wu(t)&&(Xe=!0))}function b0(t,e,n,i){ne=t;var r=0;do{if(Es&&(Ts=null),go=0,Es=!1,25<=r)throw Error(P(301));if(r+=1,je=pe=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ee.H=Lr,s=e(n,i)}while(Es);return s}function r1(){var t=ee.H,e=t.useState()[0];return e=typeof e.then=="function"?zo(e):e,t=t.useState()[0],(pe!==null?pe.memoizedState:null)!==t&&(ne.flags|=1024),e}function Kd(){var t=bu!==0;return bu=0,t}function Qd(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Yd(t){if(Tu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Tu=!1}zi=0,je=pe=ne=null,Es=!1,go=bu=0,Ts=null}function wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ne.memoizedState=je=t:je=je.next=t,je}function Be(){if(pe===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var e=je===null?ne.memoizedState:je.next;if(e!==null)je=e,pe=t;else{if(t===null)throw ne.alternate===null?Error(P(467)):Error(P(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},je===null?ne.memoizedState=je=t:je=je.next=t}return je}var dc;dc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function zo(t){var e=go;return go+=1,Ts===null&&(Ts=[]),t=p0(Ts,t,e),e=ne,(je===null?e.memoizedState:je.next)===null&&(e=e.alternate,ee.H=e===null||e.memoizedState===null?Pr:Xi),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zo(t);if(t.$$typeof===Vn)return mt(t)}throw Error(P(438,String(t)))}function $d(t){var e=null,n=ne.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ne.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=dc(),ne.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=zA;return e.index++,n}function Kn(t,e){return typeof e=="function"?e(t):e}function Ql(t){var e=Be();return Xd(e,pe,t)}function Xd(t,e,n){var i=t.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,h=e,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(he&g)===g:(zi&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Ds&&(d=!0);else if((zi&m)===m){h=h.next,m===Ds&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,ne.lanes|=m,qi|=m;g=h.action,Ar&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,ne.lanes|=g,qi|=g;h=h.next}while(h!==null&&h!==e);if(u===null?a=s:u.next=l,!zt(s,t.memoizedState)&&(Xe=!0,d&&(n=vs,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Ah(t){var e=Be(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);zt(s,e.memoizedState)||(Xe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function S0(t,e,n){var i=ne,r=Be(),s=de;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=e();var a=!zt((pe||r).memoizedState,n);if(a&&(r.memoizedState=n,Xe=!0),r=r.queue,Wd(R0.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||je!==null&&je.memoizedState.tag&1){if(i.flags|=2048,Os(9,w0.bind(null,i,r,n,e),{destroy:void 0},null),Te===null)throw Error(P(349));s||zi&60||A0(i,e,n)}return n}function A0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e=dc(),ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function w0(t,e,n,i){e.value=n,e.getSnapshot=i,I0(e)&&C0(t)}function R0(t,e,n){return n(function(){I0(e)&&C0(t)})}function I0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zt(t,n)}catch{return!0}}function C0(t){var e=ji(t,2);e!==null&&St(e,t,2)}function bf(t){var e=wt();if(typeof t=="function"){var n=t;if(t=n(),Ar){Si(!0);try{n()}finally{Si(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:t},e}function N0(t,e,n,i){return t.baseState=n,Xd(t,pe,typeof i=="function"?i:Kn)}function s1(t,e,n,i,r){if(pc(t))throw Error(P(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};ee.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,x0(e,s)):(s.next=n.next,e.pending=n.next=s)}}function x0(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=ee.T,a={};ee.T=a;try{var l=n(r,i),u=ee.S;u!==null&&u(a,l),Jp(t,e,l)}catch(h){Sf(t,e,h)}finally{ee.T=s}}else try{s=n(r,i),Jp(t,e,s)}catch(h){Sf(t,e,h)}}function Jp(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ey(t,e,i)},function(i){return Sf(t,e,i)}):ey(t,e,n)}function ey(t,e,n){e.status="fulfilled",e.value=n,D0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,x0(t,n)))}function Sf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,D0(e),e=e.next;while(e!==i)}t.action=null}function D0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function O0(t,e){return e}function M0(t,e){if(de){var n=Te.formState;if(n!==null){e:{var i=ne;if(de){if(it){t:{for(var r=it,s=fn;r.nodeType!==8;){if(!s){r=null;break t}if(r=an(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){it=an(r.nextSibling),i=r.data==="F!";break e}}br(i)}i=!1}i&&(e=n[0])}}return n=wt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:e},n.queue=i,n=X0.bind(null,ne,i),i.dispatch=n,i=bf(!1),s=tm.bind(null,ne,!1,i.queue),i=wt(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=s1.bind(null,ne,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function V0(t){var e=Be();return k0(e,pe,t)}function k0(t,e,n){e=Xd(t,e,O0)[0],t=Ql(Kn)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?zo(e):e;var i=Be(),r=i.queue,s=r.dispatch;return n!==i.memoizedState&&(ne.flags|=2048,Os(9,a1.bind(null,r,n),{destroy:void 0},null)),[e,s,t]}function a1(t,e){t.action=e}function P0(t){var e=Be(),n=pe;if(n!==null)return k0(e,n,t);Be(),e=e.memoizedState,n=Be();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Os(t,e,n,i){return t={tag:t,create:e,inst:n,deps:i,next:null},e=ne.updateQueue,e===null&&(e=dc(),ne.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function L0(){return Be().memoizedState}function Yl(t,e,n,i){var r=wt();ne.flags|=t,r.memoizedState=Os(1|e,n,{destroy:void 0},i===void 0?null:i)}function gc(t,e,n,i){var r=Be();i=i===void 0?null:i;var s=r.memoizedState.inst;pe!==null&&i!==null&&Fd(i,pe.memoizedState.deps)?r.memoizedState=Os(e,n,s,i):(ne.flags|=t,r.memoizedState=Os(1|e,n,s,i))}function ty(t,e){Yl(8390656,8,t,e)}function Wd(t,e){gc(2048,8,t,e)}function U0(t,e){return gc(4,2,t,e)}function j0(t,e){return gc(4,4,t,e)}function z0(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B0(t,e,n){n=n!=null?n.concat([t]):null,gc(4,4,z0.bind(null,e,t),n)}function Zd(){}function q0(t,e){var n=Be();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Fd(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function H0(t,e){var n=Be();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Fd(e,i[1]))return i[0];if(i=t(),Ar){Si(!0);try{t()}finally{Si(!1)}}return n.memoizedState=[i,e],i}function Jd(t,e,n){return n===void 0||zi&1073741824?t.memoizedState=e:(t.memoizedState=n,t=DE(),ne.lanes|=t,qi|=t,n)}function F0(t,e,n,i){return zt(n,e)?n:xs.current!==null?(t=Jd(t,n,i),zt(t,e)||(Xe=!0),t):zi&42?(t=DE(),ne.lanes|=t,qi|=t,e):(Xe=!0,t.memoizedState=n)}function G0(t,e,n,i,r){var s=Ae.p;Ae.p=s!==0&&8>s?s:8;var a=ee.T,l={};ee.T=l,tm(t,!1,e,n);try{var u=r(),h=ee.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=n1(u,i);Qa(t,e,d,jt(t))}else Qa(t,e,i,jt(t))}catch(g){Qa(t,e,{then:function(){},status:"rejected",reason:g},jt())}finally{Ae.p=s,ee.T=a}}function o1(){}function Af(t,e,n,i){if(t.tag!==5)throw Error(P(476));var r=K0(t).queue;G0(t,r,e,mr,n===null?o1:function(){return Q0(t),n(i)})}function K0(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:mr,baseState:mr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:mr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Q0(t){var e=K0(t).next.queue;Qa(t,e,{},jt())}function em(){return mt(vo)}function Y0(){return Be().memoizedState}function $0(){return Be().memoizedState}function l1(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=jt();t=Ii(n);var i=Ci(e,t,n);i!==null&&(St(i,e,n),$a(i,e,n)),e={cache:qd()},t.payload=e;return}e=e.return}}function u1(t,e,n){var i=jt();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},pc(t)?W0(e,n):(n=Ud(t,e,n,i),n!==null&&(St(n,t,i),Z0(n,e,i)))}function X0(t,e,n){var i=jt();Qa(t,e,n,i)}function Qa(t,e,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(pc(t))W0(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,zt(l,a))return fc(t,e,r,0),Te===null&&hc(),!1}catch{}finally{}if(n=Ud(t,e,r,i),n!==null)return St(n,t,i),Z0(n,e,i),!0}return!1}function tm(t,e,n,i){if(i={lane:2,revertLane:hm(),action:i,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(e)throw Error(P(479))}else e=Ud(t,n,i,2),e!==null&&St(e,t,2)}function pc(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function W0(t,e){Es=Tu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Z0(t,e,n){if(n&4194176){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,zv(t,n)}}var En={readContext:mt,use:mc,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke};En.useCacheRefresh=ke;En.useMemoCache=ke;En.useHostTransitionStatus=ke;En.useFormState=ke;En.useActionState=ke;En.useOptimistic=ke;var Pr={readContext:mt,use:mc,useCallback:function(t,e){return wt().memoizedState=[t,e===void 0?null:e],t},useContext:mt,useEffect:ty,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Yl(4194308,4,z0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yl(4194308,4,t,e)},useInsertionEffect:function(t,e){Yl(4,2,t,e)},useMemo:function(t,e){var n=wt();e=e===void 0?null:e;var i=t();if(Ar){Si(!0);try{t()}finally{Si(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=wt();if(n!==void 0){var r=n(e);if(Ar){Si(!0);try{n(e)}finally{Si(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=u1.bind(null,ne,t),[i.memoizedState,t]},useRef:function(t){var e=wt();return t={current:t},e.memoizedState=t},useState:function(t){t=bf(t);var e=t.queue,n=X0.bind(null,ne,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Zd,useDeferredValue:function(t,e){var n=wt();return Jd(n,t,e)},useTransition:function(){var t=bf(!1);return t=G0.bind(null,ne,t.queue,!0,!1),wt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ne,r=wt();if(de){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Te===null)throw Error(P(349));he&60||A0(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,ty(R0.bind(null,i,s,t),[t]),i.flags|=2048,Os(9,w0.bind(null,i,s,n,e),{destroy:void 0},null),n},useId:function(){var t=wt(),e=Te.identifierPrefix;if(de){var n=Pn,i=kn;n=(i&~(1<<32-Ut(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=bu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=i1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return wt().memoizedState=l1.bind(null,ne)}};Pr.useMemoCache=$d;Pr.useHostTransitionStatus=em;Pr.useFormState=M0;Pr.useActionState=M0;Pr.useOptimistic=function(t){var e=wt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=tm.bind(null,ne,!0,n),n.dispatch=e,[t,e]};var Xi={readContext:mt,use:mc,useCallback:q0,useContext:mt,useEffect:Wd,useImperativeHandle:B0,useInsertionEffect:U0,useLayoutEffect:j0,useMemo:H0,useReducer:Ql,useRef:L0,useState:function(){return Ql(Kn)},useDebugValue:Zd,useDeferredValue:function(t,e){var n=Be();return F0(n,pe.memoizedState,t,e)},useTransition:function(){var t=Ql(Kn)[0],e=Be().memoizedState;return[typeof t=="boolean"?t:zo(t),e]},useSyncExternalStore:S0,useId:Y0};Xi.useCacheRefresh=$0;Xi.useMemoCache=$d;Xi.useHostTransitionStatus=em;Xi.useFormState=V0;Xi.useActionState=V0;Xi.useOptimistic=function(t,e){var n=Be();return N0(n,pe,t,e)};var Lr={readContext:mt,use:mc,useCallback:q0,useContext:mt,useEffect:Wd,useImperativeHandle:B0,useInsertionEffect:U0,useLayoutEffect:j0,useMemo:H0,useReducer:Ah,useRef:L0,useState:function(){return Ah(Kn)},useDebugValue:Zd,useDeferredValue:function(t,e){var n=Be();return pe===null?Jd(n,t,e):F0(n,pe.memoizedState,t,e)},useTransition:function(){var t=Ah(Kn)[0],e=Be().memoizedState;return[typeof t=="boolean"?t:zo(t),e]},useSyncExternalStore:S0,useId:Y0};Lr.useCacheRefresh=$0;Lr.useMemoCache=$d;Lr.useHostTransitionStatus=em;Lr.useFormState=P0;Lr.useActionState=P0;Lr.useOptimistic=function(t,e){var n=Be();return pe!==null?N0(n,pe,t,e):(n.baseState=t,[t,n.queue.dispatch])};function wh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wf={isMounted:function(t){return(t=t._reactInternals)?Ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=jt(),r=Ii(i);r.payload=e,n!=null&&(r.callback=n),e=Ci(t,r,i),e!==null&&(St(e,t,i),$a(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=jt(),r=Ii(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ci(t,r,i),e!==null&&(St(e,t,i),$a(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),i=Ii(n);i.tag=2,e!=null&&(i.callback=e),e=Ci(t,i,n),e!==null&&(St(e,t,n),$a(e,t,n))}};function ny(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!ho(n,i)||!ho(r,s):!0}function iy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&wf.enqueueReplaceState(e,e.state,null)}function wr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=we({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var Su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function J0(t){Su(t)}function eE(t){console.error(t)}function tE(t){Su(t)}function Au(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function ry(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Rf(t,e,n){return n=Ii(n),n.tag=3,n.payload={element:null},n.callback=function(){Au(t,e)},n}function nE(t){return t=Ii(t),t.tag=3,t}function iE(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){ry(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){ry(e,n,i),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function c1(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Bo(e,n,r,!0),n=Zt.current,n!==null){switch(n.tag){case 13:return pn===null?Bf():n.alternate===null&&Ve===0&&(Ve=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===vf?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Uh(t,i,r)),!1;case 22:return n.flags|=65536,i===vf?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Uh(t,i,r)),!1}throw Error(P(435,n.tag))}return Uh(t,i,r),Bf(),!1}if(de)return e=Zt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==_f&&(t=Error(P(422),{cause:i}),fo(Yt(t,n)))):(i!==_f&&(e=Error(P(423),{cause:i}),fo(Yt(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Yt(i,n),r=Rf(t.stateNode,i,r),Dh(t,r),Ve!==4&&(Ve=2)),!1;var s=Error(P(520),{cause:i});if(s=Yt(s,n),Ja===null?Ja=[s]:Ja.push(s),Ve!==4&&(Ve=2),e===null)return!0;i=Yt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Rf(n.stateNode,i,t),Dh(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(xi===null||!xi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=nE(r),iE(r,t,n,i),Dh(n,r),!1}n=n.return}while(n!==null);return!1}var rE=Error(P(461)),Xe=!1;function tt(t,e,n,i){e.child=t===null?_0(e,null,n,i):Sr(e,t.child,n,i)}function sy(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Rr(e),i=Gd(t,e,n,a,s,r),l=Kd(),t!==null&&!Xe?(Qd(t,e,r),Qn(t,e,r)):(de&&l&&jd(e),e.flags|=1,tt(t,e,i,r),e.child)}function ay(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!am(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,sE(t,e,s,i,r)):(t=Xl(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!nm(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ho,n(a,i)&&t.ref===e.ref)return Qn(t,e,r)}return e.flags|=1,t=Ni(s,i),t.ref=e.ref,t.return=e,e.child=t}function sE(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(ho(s,i)&&t.ref===e.ref)if(Xe=!1,e.pendingProps=i=s,nm(t,r))t.flags&131072&&(Xe=!0);else return e.lanes=t.lanes,Qn(t,e,r)}return If(t,e,n,i,r)}function aE(t,e,n){var i=e.pendingProps,r=i.children,s=(e.stateNode._pendingVisibility&2)!==0,a=t!==null?t.memoizedState:null;if(Ya(t,e),i.mode==="hidden"||s){if(e.flags&128){if(i=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;e.childLanes=s&~i}else e.childLanes=0,e.child=null;return oy(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Kl(e,a!==null?a.cachePool:null),a!==null?Xp(e,a):Ef(),v0(e);else return e.lanes=e.childLanes=536870912,oy(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(Kl(e,a.cachePool),Xp(e,a),yi(),e.memoizedState=null):(t!==null&&Kl(e,null),Ef(),yi());return tt(t,e,r,n),e.child}function oy(t,e,n,i){var r=Hd();return r=r===null?null:{parent:qe._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Kl(e,null),Ef(),v0(e),t!==null&&Bo(t,e,i,!0),null}function Ya(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(t===null||t.ref!==n)&&(e.flags|=2097664)}}function If(t,e,n,i,r){return Rr(e),n=Gd(t,e,n,i,void 0,r),i=Kd(),t!==null&&!Xe?(Qd(t,e,r),Qn(t,e,r)):(de&&i&&jd(e),e.flags|=1,tt(t,e,n,r),e.child)}function ly(t,e,n,i,r,s){return Rr(e),e.updateQueue=null,n=b0(e,i,n,r),T0(t),i=Kd(),t!==null&&!Xe?(Qd(t,e,s),Qn(t,e,s)):(de&&i&&jd(e),e.flags|=1,tt(t,e,n,s),e.child)}function uy(t,e,n,i,r){if(Rr(e),e.stateNode===null){var s=hs,a=n.contextType;typeof a=="object"&&a!==null&&(s=mt(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wf,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},im(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?mt(a):hs,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(wh(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&wf.enqueueReplaceState(s,s.state,null),Wa(e,i,s,r),Xa(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=wr(n,l);s.props=u;var h=s.context,d=n.contextType;a=hs,typeof d=="object"&&d!==null&&(a=mt(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&iy(e,s,i,a),gi=!1;var m=e.memoizedState;s.state=m,Wa(e,i,s,r),Xa(),h=e.memoizedState,l||m!==h||gi?(typeof g=="function"&&(wh(e,n,g,i),h=e.memoizedState),(u=gi||ny(e,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Mf(t,e),a=e.memoizedProps,d=wr(n,a),s.props=d,g=e.pendingProps,m=s.context,h=n.contextType,u=hs,typeof h=="object"&&h!==null&&(u=mt(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||m!==u)&&iy(e,s,i,u),gi=!1,m=e.memoizedState,s.state=m,Wa(e,i,s,r),Xa();var _=e.memoizedState;a!==g||m!==_||gi||t!==null&&t.dependencies!==null&&wu(t.dependencies)?(typeof l=="function"&&(wh(e,n,l,i),_=e.memoizedState),(d=gi||ny(e,n,d,i,m,_,u)||t!==null&&t.dependencies!==null&&wu(t.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,Ya(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Sr(e,t.child,null,r),e.child=Sr(e,null,n,r)):tt(t,e,n,r),e.memoizedState=s.state,t=e.child):t=Qn(t,e,r),t}function cy(t,e,n,i){return Uo(),e.flags|=256,tt(t,e,n,i),e.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function Ih(t){return{baseLanes:t,cachePool:E0()}}function Ch(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Xt),t}function oE(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(He.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(de){if(r?pi(e):yi(),de){var l=it,u;if(u=l){e:{for(u=l,l=fn;u.nodeType!==8;){if(!l){l=null;break e}if(u=an(u.nextSibling),u===null){l=null;break e}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:gr!==null?{id:kn,overflow:Pn}:null,retryLane:536870912},u=$t(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,Tt=e,it=null,u=!0):u=!1}u||br(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return l.data==="$!"?e.lanes=16:e.lanes=536870912,null;Ln(e)}return l=i.children,i=i.fallback,r?(yi(),r=e.mode,l=Nf({mode:"hidden",children:l},r),i=yr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,r=e.child,r.memoizedState=Ih(n),r.childLanes=Ch(t,a,n),e.memoizedState=Rh,i):(pi(e),Cf(e,l))}if(u=t.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(pi(e),e.flags&=-257,e=Nh(t,e,n)):e.memoizedState!==null?(yi(),e.child=t.child,e.flags|=128,e=null):(yi(),r=i.fallback,l=e.mode,i=Nf({mode:"visible",children:i.children},l),r=yr(r,l,n,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,Sr(e,t.child,null,n),i=e.child,i.memoizedState=Ih(n),i.childLanes=Ch(t,a,n),e.memoizedState=Rh,e=r);else if(pi(e),l.data==="$!"){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,fo({value:i,source:null,stack:null}),e=Nh(t,e,n)}else if(Xe||Bo(t,e,n,!1),a=(n&t.childLanes)!==0,Xe||a){if(a=Te,a!==null){if(i=n&-n,i&42)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane)throw u.retryLane=i,ji(t,i),St(a,t,i),rE}l.data==="$?"||Bf(),e=Nh(t,e,n)}else l.data==="$?"?(e.flags|=128,e.child=t.child,e=w1.bind(null,t),l._reactRetry=e,e=null):(t=u.treeContext,it=an(l.nextSibling),Tt=e,de=!0,sn=null,fn=!1,t!==null&&(Gt[Kt++]=kn,Gt[Kt++]=Pn,Gt[Kt++]=gr,kn=t.id,Pn=t.overflow,gr=e),e=Cf(e,i.children),e.flags|=4096);return e}return r?(yi(),r=i.fallback,l=e.mode,u=t.child,h=u.sibling,i=Ni(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&31457280,h!==null?r=Ni(h,r):(r=yr(r,l,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,l=t.child.memoizedState,l===null?l=Ih(n):(u=l.cachePool,u!==null?(h=qe._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=E0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Ch(t,a,n),e.memoizedState=Rh,i):(pi(e),n=t.child,t=n.sibling,n=Ni(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Cf(t,e){return e=Nf({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Nf(t,e){return NE(t,e,0,null)}function Nh(t,e,n){return Sr(e,t.child,null,n),t=Cf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Df(t.return,e,n)}function xh(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function lE(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(tt(t,e,i.children,n),i=He.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hy(t,n,e);else if(t.tag===19)hy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Re(He,i),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Eu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),xh(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Eu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}xh(e,!0,n,null,s);break;case"together":xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qi|=e.lanes,!(n&e.childLanes))if(t!==null){if(Bo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nm(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&wu(t)))}function h1(t,e,n){switch(e.tag){case 3:hu(e,e.stateNode.containerInfo),_i(e,qe,t.memoizedState.cache),Uo();break;case 27:case 5:uf(e);break;case 4:hu(e,e.stateNode.containerInfo);break;case 10:_i(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(pi(e),e.flags|=128,null):n&e.child.childLanes?oE(t,e,n):(pi(e),t=Qn(t,e,n),t!==null?t.sibling:null);pi(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Bo(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return lE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Re(He,He.current),i)break;return null;case 22:case 23:return e.lanes=0,aE(t,e,n);case 24:_i(e,qe,t.memoizedState.cache)}return Qn(t,e,n)}function uE(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Xe=!0;else{if(!nm(t,n)&&!(e.flags&128))return Xe=!1,h1(t,e,n);Xe=!!(t.flags&131072)}else Xe=!1,de&&e.flags&1048576&&m0(e,_u,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,typeof i=="function")am(i)?(t=wr(i,t),e.tag=1,e=uy(null,e,i,t,n)):(e.tag=0,e=If(null,e,i,t,n));else{if(i!=null){if(r=i.$$typeof,r===Id){e.tag=11,e=sy(null,e,i,t,n);break e}else if(r===Cd){e.tag=14,e=ay(null,e,i,t,n);break e}}throw e=of(i)||i,Error(P(306,e,""))}}return e;case 0:return If(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=wr(i,e.pendingProps),uy(t,e,i,r,n);case 3:e:{if(hu(e,e.stateNode.containerInfo),t===null)throw Error(P(387));var s=e.pendingProps;r=e.memoizedState,i=r.element,Mf(t,e),Wa(e,s,null,n);var a=e.memoizedState;if(s=a.cache,_i(e,qe,s),s!==r.cache&&Of(e,[qe],n,!0),Xa(),s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=cy(t,e,s,n);break e}else if(s!==i){i=Yt(Error(P(424)),e),fo(i),e=cy(t,e,s,n);break e}else for(it=an(e.stateNode.containerInfo.firstChild),Tt=e,de=!0,sn=null,fn=!0,n=_0(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uo(),s===i){e=Qn(t,e,n);break e}tt(t,e,s,n)}e=e.child}return e;case 26:return Ya(t,e),t===null?(n=Ny(e.type,null,e.pendingProps,null))?e.memoizedState=n:de||(n=e.type,t=e.pendingProps,i=Ou(Ri.current).createElement(n),i[dt]=e,i[Nt]=t,st(i,n,t),$e(i),e.stateNode=i):e.memoizedState=Ny(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return uf(e),t===null&&de&&(i=e.stateNode=QE(e.type,e.pendingProps,Ri.current),Tt=e,fn=!0,it=an(i.firstChild)),i=e.pendingProps.children,t!==null||de?tt(t,e,i,n):e.child=Sr(e,null,i,n),Ya(t,e),e.child;case 5:return t===null&&de&&((r=i=it)&&(i=B1(i,e.type,e.pendingProps,fn),i!==null?(e.stateNode=i,Tt=e,it=an(i.firstChild),fn=!1,r=!0):r=!1),r||br(e)),uf(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,Kf(r,s)?i=null:a!==null&&Kf(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Gd(t,e,r1,null,null,n),vo._currentValue=r),Ya(t,e),tt(t,e,i,n),e.child;case 6:return t===null&&de&&((t=n=it)&&(n=q1(n,e.pendingProps,fn),n!==null?(e.stateNode=n,Tt=e,it=null,t=!0):t=!1),t||br(e)),null;case 13:return oE(t,e,n);case 4:return hu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Sr(e,null,i,n):tt(t,e,i,n),e.child;case 11:return sy(t,e,e.type,e.pendingProps,n);case 7:return tt(t,e,e.pendingProps,n),e.child;case 8:return tt(t,e,e.pendingProps.children,n),e.child;case 12:return tt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,_i(e,e.type,i.value),tt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Rr(e),r=mt(r),i=i(r),e.flags|=1,tt(t,e,i,n),e.child;case 14:return ay(t,e,e.type,e.pendingProps,n);case 15:return sE(t,e,e.type,e.pendingProps,n);case 19:return lE(t,e,n);case 22:return aE(t,e,n);case 24:return Rr(e),i=mt(qe),t===null?(r=Hd(),r===null&&(r=Te,s=qd(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},im(e),_i(e,qe,r)):(t.lanes&n&&(Mf(t,e),Wa(e,null,null,n),Xa()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),_i(e,qe,i)):(i=s.cache,_i(e,qe,i),i!==r.cache&&Of(e,[qe],n,!0))),tt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(P(156,e.tag))}var xf=bn(null),Ur=null,Un=null;function _i(t,e,n){Re(xf,e._currentValue),e._currentValue=n}function qn(t){t._currentValue=xf.current,We(xf)}function Df(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Of(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Df(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Df(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Bo(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;zt(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===cu.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(vo):t=[vo])}r=r.return}t!==null&&Of(e,t,n,i),e.flags|=262144}function wu(t){for(t=t.firstContext;t!==null;){if(!zt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rr(t){Ur=t,Un=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mt(t){return cE(Ur,t)}function Nl(t,e){return Ur===null&&Rr(t),cE(t,e)}function cE(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Un===null){if(t===null)throw Error(P(308));Un=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Un=Un.next=e;return n}var gi=!1;function im(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ii(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ne&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=pu(t),d0(t,null,n),e}return fc(t,i,e,n),pu(t)}function $a(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194176)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,zv(t,n)}}function Dh(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Vf=!1;function Xa(){if(Vf){var t=vs;if(t!==null)throw t}}function Wa(t,e,n,i){Vf=!1;var r=t.updateQueue;gi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(he&m)===m:(i&m)===m){m!==0&&m===Ds&&(Vf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var C=t,O=l;m=e;var M=n;switch(O.tag){case 1:if(C=O.payload,typeof C=="function"){g=C.call(M,g,m);break e}g=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=O.payload,m=typeof C=="function"?C.call(M,g,m):C,m==null)break e;g=we({},g,m);break e;case 2:gi=!0}}m=l.callback,m!==null&&(t.flags|=64,_&&(t.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=g),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),qi|=a,t.lanes=a,t.memoizedState=g}}function hE(t,e){if(typeof t!="function")throw Error(P(191,t));t.call(e)}function fE(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)hE(n[t],e)}function qo(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){ve(e,e.return,l)}}function Bi(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n;try{l()}catch(h){ve(r,u,h)}}}i=i.next}while(i!==s)}}catch(h){ve(e,e.return,h)}}function dE(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{fE(e,n)}catch(i){ve(t,t.return,i)}}}function mE(t,e,n){n.props=wr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){ve(t,e,i)}}function hr(t,e){try{var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 26:case 27:case 5:var r=i;break;default:r=i}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(s){ve(t,e,s)}}function Vt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){ve(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function gE(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){ve(t,t.return,r)}}function fy(t,e,n){try{var i=t.stateNode;P1(i,t.type,n,e),i[Nt]=e}catch(r){ve(t,t.return,r)}}function pE(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Oh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vc));else if(i!==4&&i!==27&&(t=t.child,t!==null))for(kf(t,e,n),t=t.sibling;t!==null;)kf(t,e,n),t=t.sibling}function Ru(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&i!==27&&(t=t.child,t!==null))for(Ru(t,e,n),t=t.sibling;t!==null;)Ru(t,e,n),t=t.sibling}var xn=!1,Me=!1,Mh=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Ye=null,my=!1;function f1(t,e){if(t=t.containerInfo,Ff=Pu,t=a0(t),Pd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,d=0,g=t,m=null;t:for(;;){for(var _;g!==n||r!==0&&g.nodeType!==3||(l=a+r),g!==s||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===t)break t;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gf={focusedElem:t,selectionRange:n},Pu=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){switch(e=Ye,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var C=wr(n.type,r,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(C,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(O){ve(n,n.return,O)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Qf(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(P(163))}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return C=my,my=!1,C}function yE(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Cn(t,n),i&4&&qo(5,n);break;case 1:if(Cn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(l){ve(n,n.return,l)}else{var r=wr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){ve(n,n.return,l)}}i&64&&dE(n),i&512&&hr(n,n.return);break;case 3:if(Cn(t,n),i&64&&(i=n.updateQueue,i!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{fE(i,t)}catch(l){ve(n,n.return,l)}}break;case 26:Cn(t,n),i&512&&hr(n,n.return);break;case 27:case 5:Cn(t,n),e===null&&i&4&&gE(n),i&512&&hr(n,n.return);break;case 12:Cn(t,n);break;case 13:Cn(t,n),i&4&&EE(t,n);break;case 22:if(r=n.memoizedState!==null||xn,!r){e=e!==null&&e.memoizedState!==null||Me;var s=xn,a=Me;xn=r,(Me=e)&&!a?fi(t,n,(n.subtreeFlags&8772)!==0):Cn(t,n),xn=s,Me=a}i&512&&(n.memoizedProps.mode==="manual"?hr(n,n.return):Vt(n,n.return));break;default:Cn(t,n)}}function _E(t){var e=t.alternate;e!==null&&(t.alternate=null,_E(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&xd(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ue=null,Ot=!1;function In(t,e,n){for(n=n.child;n!==null;)vE(t,e,n),n=n.sibling}function vE(t,e,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 26:Me||Vt(n,e),In(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Me||Vt(n,e);var i=Ue,r=Ot;for(Ue=n.stateNode,In(t,e,n),n=n.stateNode,e=n.attributes;e.length;)n.removeAttributeNode(e[0]);xd(n),Ue=i,Ot=r;break;case 5:Me||Vt(n,e);case 6:r=Ue;var s=Ot;if(Ue=null,In(t,e,n),Ue=r,Ot=s,Ue!==null)if(Ot)try{t=Ue,i=n.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)}catch(a){ve(n,e,a)}else try{Ue.removeChild(n.stateNode)}catch(a){ve(n,e,a)}break;case 18:Ue!==null&&(Ot?(e=Ue,n=n.stateNode,e.nodeType===8?Gh(e.parentNode,n):e.nodeType===1&&Gh(e,n),bo(e)):Gh(Ue,n.stateNode));break;case 4:i=Ue,r=Ot,Ue=n.stateNode.containerInfo,Ot=!0,In(t,e,n),Ue=i,Ot=r;break;case 0:case 11:case 14:case 15:Me||Bi(2,n,e),Me||Bi(4,n,e),In(t,e,n);break;case 1:Me||(Vt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&mE(n,e,i)),In(t,e,n);break;case 21:In(t,e,n);break;case 22:Me||Vt(n,e),Me=(i=Me)||n.memoizedState!==null,In(t,e,n),Me=i;break;default:In(t,e,n)}}function EE(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bo(t)}catch(n){ve(e,e.return,n)}}function d1(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new dy),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new dy),e;default:throw Error(P(435,t.tag))}}function Vh(t,e){var n=d1(t);e.forEach(function(i){var r=R1.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}function Bt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:case 5:Ue=l.stateNode,Ot=!1;break e;case 3:Ue=l.stateNode.containerInfo,Ot=!0;break e;case 4:Ue=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(Ue===null)throw Error(P(160));vE(s,a,r),Ue=null,Ot=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)TE(e,t),e=e.sibling}var rn=null;function TE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bt(e,t),qt(t),i&4&&(Bi(3,t,t.return),qo(3,t),Bi(5,t,t.return));break;case 1:Bt(e,t),qt(t),i&512&&(Me||n===null||Vt(n,n.return)),i&64&&xn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=rn;if(Bt(e,t),qt(t),i&512&&(Me||n===null||Vt(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[lo]||s[dt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),st(s,i,n),s[dt]=t,$e(s),i=s;break e;case"link":var a=Dy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),st(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Dy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),st(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[dt]=t,$e(s),i=s}t.stateNode=i}else Oy(r,t.type,t.stateNode);else t.stateNode=xy(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Oy(r,t.type,t.stateNode):xy(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&fy(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(i&4&&t.alternate===null){r=t.stateNode,s=t.memoizedProps;try{for(var u=r.firstChild;u;){var h=u.nextSibling,d=u.nodeName;u[lo]||d==="HEAD"||d==="BODY"||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&u.rel.toLowerCase()==="stylesheet"||r.removeChild(u),u=h}for(var g=t.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);st(r,g,s),r[dt]=t,r[Nt]=s}catch(C){ve(t,t.return,C)}}case 5:if(Bt(e,t),qt(t),i&512&&(Me||n===null||Vt(n,n.return)),t.flags&32){r=t.stateNode;try{Ns(r,"")}catch(C){ve(t,t.return,C)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,fy(t,r,n!==null?n.memoizedProps:r)),i&1024&&(Mh=!0);break;case 6:if(Bt(e,t),qt(t),i&4){if(t.stateNode===null)throw Error(P(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(C){ve(t,t.return,C)}}break;case 3:if(Zl=null,r=rn,rn=Mu(e.containerInfo),Bt(e,t),rn=r,qt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{bo(e.containerInfo)}catch(C){ve(t,t.return,C)}Mh&&(Mh=!1,bE(t));break;case 4:i=rn,rn=Mu(t.stateNode.containerInfo),Bt(e,t),qt(t),rn=i;break;case 12:Bt(e,t),qt(t);break;case 13:Bt(e,t),qt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(um=gn()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Vh(t,i)));break;case 22:if(i&512&&(Me||n===null||Vt(n,n.return)),u=t.memoizedState!==null,h=n!==null&&n.memoizedState!==null,d=xn,g=Me,xn=d||u,Me=g||h,Bt(e,t),Me=g,xn=d,qt(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,i&8192&&(e._visibility=u?e._visibility&-2:e._visibility|1,u&&(e=xn||Me,n===null||h||e||Wr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(n=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(n===null){h=n=e;try{if(r=h.stateNode,u)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{a=h.stateNode,l=h.memoizedProps.style;var _=l!=null&&l.hasOwnProperty("display")?l.display:null;a.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(C){ve(h,h.return,C)}}}else if(e.tag===6){if(n===null){h=e;try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(C){ve(h,h.return,C)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Vh(t,n))));break;case 19:Bt(e,t),qt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Vh(t,i)));break;case 21:break;default:Bt(e,t),qt(t)}}function qt(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var n=t.return;n!==null;){if(pE(n)){var i=n;break e}n=n.return}throw Error(P(160))}switch(i.tag){case 27:var r=i.stateNode,s=Oh(t);Ru(t,s,r);break;case 5:var a=i.stateNode;i.flags&32&&(Ns(a,""),i.flags&=-33);var l=Oh(t);Ru(t,l,a);break;case 3:case 4:var u=i.stateNode.containerInfo,h=Oh(t);kf(t,h,u);break;default:throw Error(P(161))}}}catch(d){ve(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bE(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;bE(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Cn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)yE(t,e.alternate,e),e=e.sibling}function Wr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Bi(4,e,e.return),Wr(e);break;case 1:Vt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&mE(e,e.return,n),Wr(e);break;case 26:case 27:case 5:Vt(e,e.return),Wr(e);break;case 22:Vt(e,e.return),e.memoizedState===null&&Wr(e);break;default:Wr(e)}t=t.sibling}}function fi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:fi(r,s,n),qo(4,s);break;case 1:if(fi(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){ve(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)hE(u[r],l)}catch(h){ve(i,i.return,h)}}n&&a&64&&dE(s),hr(s,s.return);break;case 26:case 27:case 5:fi(r,s,n),n&&i===null&&a&4&&gE(s),hr(s,s.return);break;case 12:fi(r,s,n);break;case 13:fi(r,s,n),n&&a&4&&EE(r,s);break;case 22:s.memoizedState===null&&fi(r,s,n),hr(s,s.return);break;default:fi(r,s,n)}e=e.sibling}}function rm(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&jo(n))}function sm(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&jo(t))}function ci(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)SE(t,e,n,i),e=e.sibling}function SE(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:ci(t,e,n,i),r&2048&&qo(9,e);break;case 3:ci(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&jo(t)));break;case 12:if(r&2048){ci(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){ve(e,e.return,u)}}else ci(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,e.memoizedState!==null?s._visibility&4?ci(t,e,n,i):Za(t,e):s._visibility&4?ci(t,e,n,i):(s._visibility|=4,Zr(t,e,n,i,(e.subtreeFlags&10256)!==0)),r&2048&&rm(e.alternate,e);break;case 24:ci(t,e,n,i),r&2048&&sm(e.alternate,e);break;default:ci(t,e,n,i)}}function Zr(t,e,n,i,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(s,a,l,u,r),qo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&4?Zr(s,a,l,u,r):Za(s,a):(d._visibility|=4,Zr(s,a,l,u,r)),r&&h&2048&&rm(a.alternate,a);break;case 24:Zr(s,a,l,u,r),r&&h&2048&&sm(a.alternate,a);break;default:Zr(s,a,l,u,r)}e=e.sibling}}function Za(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:Za(n,i),r&2048&&rm(i.alternate,i);break;case 24:Za(n,i),r&2048&&sm(i.alternate,i);break;default:Za(n,i)}e=e.sibling}}var Ma=8192;function Qr(t){if(t.subtreeFlags&Ma)for(t=t.child;t!==null;)AE(t),t=t.sibling}function AE(t){switch(t.tag){case 26:Qr(t),t.flags&Ma&&t.memoizedState!==null&&tR(rn,t.memoizedState,t.memoizedProps);break;case 5:Qr(t);break;case 3:case 4:var e=rn;rn=Mu(t.stateNode.containerInfo),Qr(t),rn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ma,Ma=16777216,Qr(t),Ma=e):Qr(t));break;default:Qr(t)}}function wE(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function wa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ye=i,IE(i,t)}wE(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)RE(t),t=t.sibling}function RE(t){switch(t.tag){case 0:case 11:case 15:wa(t),t.flags&2048&&Bi(9,t,t.return);break;case 3:wa(t);break;case 12:wa(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,$l(t)):wa(t);break;default:wa(t)}}function $l(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ye=i,IE(i,t)}wE(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Bi(8,e,e.return),$l(e);break;case 22:n=e.stateNode,n._visibility&4&&(n._visibility&=-5,$l(e));break;default:$l(e)}t=t.sibling}}function IE(t,e){for(;Ye!==null;){var n=Ye;switch(n.tag){case 0:case 11:case 15:Bi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:jo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ye=i;else e:for(n=t;Ye!==null;){i=Ye;var r=i.sibling,s=i.return;if(_E(i),i===n){Ye=null;break e}if(r!==null){r.return=s,Ye=r;break e}Ye=s}}}function m1(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,i){return new m1(t,e,n,i)}function am(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function CE(t,e){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Xl(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")am(t)&&(a=1);else if(typeof t=="string")a=J1(t,n,mn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case rs:return yr(n.children,r,s,e);case Nv:a=8,r|=24;break;case rf:return t=$t(12,n,e,r|2),t.elementType=rf,t.lanes=s,t;case sf:return t=$t(13,n,e,r),t.elementType=sf,t.lanes=s,t;case af:return t=$t(19,n,e,r),t.elementType=af,t.lanes=s,t;case Dv:return NE(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jA:case Vn:a=10;break e;case xv:a=9;break e;case Id:a=11;break e;case Cd:a=14;break e;case mi:a=16,i=null;break e}a=29,n=Error(P(130,t===null?"null":typeof t,"")),i=null}return e=$t(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function yr(t,e,n,i){return t=$t(7,t,i,e),t.lanes=n,t}function NE(t,e,n,i){t=$t(22,t,i,e),t.elementType=Dv,t.lanes=n;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var s=r._current;if(s===null)throw Error(P(456));if(!(r._pendingVisibility&2)){var a=ji(s,2);a!==null&&(r._pendingVisibility|=2,St(a,s,2))}},attach:function(){var s=r._current;if(s===null)throw Error(P(456));if(r._pendingVisibility&2){var a=ji(s,2);a!==null&&(r._pendingVisibility&=-3,St(a,s,2))}}};return t.stateNode=r,t}function kh(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function Ph(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Nn(t){t.flags|=4}function gy(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!XE(e)){if(e=Zt.current,e!==null&&((he&4194176)===he?pn!==null:(he&62914560)!==he&&!(he&536870912)||e!==pn))throw Ga=vf,g0;t.flags|=8192}}function xl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Uv():536870912,t.lanes|=e,Ms|=e)}function Ra(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ie(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&31457280,i|=r.flags&31457280,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function g1(t,e,n){var i=e.pendingProps;switch(zd(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(e),null;case 1:return Ie(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),qn(qe),Is(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Sa(e)?Nn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(zf(sn),sn=null))),Ie(e),null;case 26:return n=e.memoizedState,t===null?(Nn(e),n!==null?(Ie(e),gy(e,n)):(Ie(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Nn(e),Ie(e),gy(e,n)):(Ie(e),e.flags&=-16777217):(t.memoizedProps!==i&&Nn(e),Ie(e),e.flags&=-16777217),null;case 27:fu(e),n=Ri.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Nn(e);else{if(!i){if(e.stateNode===null)throw Error(P(166));return Ie(e),null}t=mn.current,Sa(e)?Gp(e):(t=QE(r,i,n),e.stateNode=t,Nn(e))}return Ie(e),null;case 5:if(fu(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Nn(e);else{if(!i){if(e.stateNode===null)throw Error(P(166));return Ie(e),null}if(t=mn.current,Sa(e))Gp(e);else{switch(r=Ou(Ri.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}t[dt]=e,t[Nt]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(st(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Nn(e)}}return Ie(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Nn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(P(166));if(t=Ri.current,Sa(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=Tt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[dt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||FE(t.nodeValue,n)),t||br(e)}else t=Ou(t).createTextNode(i),t[dt]=e,e.stateNode=t}return Ie(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Sa(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(P(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[dt]=e}else Uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),r=!1}else sn!==null&&(zf(sn),sn=null),r=!0;if(!r)return e.flags&256?(Ln(e),e):(Ln(e),null)}if(Ln(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),xl(e,e.updateQueue),Ie(e),null;case 4:return Is(),t===null&&fm(e.stateNode.containerInfo),Ie(e),null;case 10:return qn(e.type),Ie(e),null;case 19:if(We(He),r=e.memoizedState,r===null)return Ie(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)Ra(r,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Eu(t),s!==null){for(e.flags|=128,Ra(r,!1),t=s.updateQueue,e.updateQueue=t,xl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)CE(n,t),n=n.sibling;return Re(He,He.current&1|2),e.child}t=t.sibling}r.tail!==null&&gn()>Iu&&(e.flags|=128,i=!0,Ra(r,!1),e.lanes=4194304)}else{if(!i)if(t=Eu(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,xl(e,t),Ra(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!de)return Ie(e),null}else 2*gn()-r.renderingStartTime>Iu&&n!==536870912&&(e.flags|=128,i=!0,Ra(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=gn(),e.sibling=null,t=He.current,Re(He,i?t&1|2:t&1),e):(Ie(e),null);case 22:case 23:return Ln(e),Bd(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Ie(e),e.subtreeFlags&6&&(e.flags|=8192)):Ie(e),n=e.updateQueue,n!==null&&xl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&We(pr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),qn(qe),Ie(e),null;case 25:return null}throw Error(P(156,e.tag))}function p1(t,e){switch(zd(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qn(qe),Is(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return fu(e),null;case 13:if(Ln(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(He),null;case 4:return Is(),null;case 10:return qn(e.type),null;case 22:case 23:return Ln(e),Bd(),t!==null&&We(pr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return qn(qe),null;case 25:return null;default:return null}}function xE(t,e){switch(zd(e),e.tag){case 3:qn(qe),Is();break;case 26:case 27:case 5:fu(e);break;case 4:Is();break;case 13:Ln(e);break;case 19:We(He);break;case 10:qn(e.type);break;case 22:case 23:Ln(e),Bd(),t!==null&&We(pr);break;case 24:qn(qe)}}var y1={getCacheForType:function(t){var e=mt(qe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},_1=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Te=null,re=null,he=0,Ee=0,Mt=null,Dn=!1,$s=!1,om=!1,Yn=0,Ve=0,qi=0,_r=0,lm=0,Xt=0,Ms=0,Ja=null,dn=null,Pf=!1,um=0,Iu=1/0,Cu=null,xi=null,Dl=!1,ur=null,eo=0,Lf=0,Uf=null,to=0,jf=null;function jt(){if(Ne&2&&he!==0)return he&-he;if(ee.T!==null){var t=Ds;return t!==0?t:hm()}return qv()}function DE(){Xt===0&&(Xt=!(he&536870912)||de?Lv():536870912);var t=Zt.current;return t!==null&&(t.flags|=32),Xt}function St(t,e,n){(t===Te&&Ee===2||t.cancelPendingCommit!==null)&&(Vs(t,0),On(t,he,Xt,!1)),Po(t,n),(!(Ne&2)||t!==Te)&&(t===Te&&(!(Ne&2)&&(_r|=n),Ve===4&&On(t,he,Xt,!1)),Sn(t))}function OE(t,e,n){if(Ne&6)throw Error(P(327));var i=!n&&(e&60)===0&&(e&t.expiredLanes)===0||ko(t,e),r=i?T1(t,e):Lh(t,e,!0),s=i;do{if(r===0){$s&&!i&&On(t,e,0,!1);break}else if(r===6)On(t,e,0,!Dn);else{if(n=t.current.alternate,s&&!v1(n)){r=Lh(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=Ja;var u=l.current.memoizedState.isDehydrated;if(u&&(Vs(l,a).flags|=256),a=Lh(l,a,!1),a!==2){if(om&&!u){l.errorRecoveryDisabledLanes|=s,_r|=s,r=4;break e}s=dn,dn=r,s!==null&&zf(s)}r=a}if(s=!1,r!==2)continue}}if(r===1){Vs(t,0),On(t,e,0,!0);break}e:{switch(i=t,r){case 0:case 1:throw Error(P(345));case 4:if((e&4194176)===e){On(i,e,Xt,!Dn);break e}break;case 2:dn=null;break;case 3:case 5:break;default:throw Error(P(329))}if(i.finishedWork=n,i.finishedLanes=e,(e&62914560)===e&&(s=um+300-gn(),10<s)){if(On(i,e,Xt,!Dn),oc(i,0)!==0)break e;i.timeoutHandle=KE(py.bind(null,i,n,dn,Cu,Pf,e,Xt,_r,Ms,Dn,2,-0,0),s);break e}py(i,n,dn,Cu,Pf,e,Xt,_r,Ms,Dn,0,-0,0)}}break}while(!0);Sn(t)}function zf(t){dn===null?dn=t:dn.push.apply(dn,t)}function py(t,e,n,i,r,s,a,l,u,h,d,g,m){var _=e.subtreeFlags;if((_&8192||(_&16785408)===16785408)&&(_o={stylesheets:null,count:0,unsuspend:eR},AE(e),e=nR(),e!==null)){t.cancelPendingCommit=e(_y.bind(null,t,n,i,r,a,l,u,1,g,m)),On(t,s,a,!h);return}_y(t,n,i,r,a,l,u,d,g,m)}function v1(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!zt(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function On(t,e,n,i){e&=~lm,e&=~_r,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-Ut(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&jv(t,n,e)}function yc(){return Ne&6?!0:(Ho(0),!1)}function cm(){if(re!==null){if(Ee===0)var t=re.return;else t=re,Un=Ur=null,Yd(t),_s=null,mo=0,t=re;for(;t!==null;)xE(t.alternate,t),t=t.return;re=null}}function Vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,U1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),cm(),Te=t,re=n=Ni(t.current,null),he=e,Ee=0,Mt=null,Dn=!1,$s=ko(t,e),om=!1,Ms=Xt=lm=_r=qi=Ve=0,dn=Ja=null,Pf=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-Ut(i),s=1<<r;e|=t[r],i&=~s}return Yn=e,hc(),n}function ME(t,e){ne=null,ee.H=En,e===Fa?(e=Yp(),Ee=3):e===g0?(e=Yp(),Ee=4):Ee=e===rE?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Mt=e,re===null&&(Ve=1,Au(t,Yt(e,t.current)))}function VE(){var t=ee.H;return ee.H=En,t===null?En:t}function kE(){var t=ee.A;return ee.A=y1,t}function Bf(){Ve=4,Dn||(he&4194176)!==he&&Zt.current!==null||($s=!0),!(qi&134217727)&&!(_r&134217727)||Te===null||On(Te,he,Xt,!1)}function Lh(t,e,n){var i=Ne;Ne|=2;var r=VE(),s=kE();(Te!==t||he!==e)&&(Cu=null,Vs(t,e)),e=!1;var a=Ve;e:do try{if(Ee!==0&&re!==null){var l=re,u=Mt;switch(Ee){case 8:cm(),a=6;break e;case 3:case 2:case 6:Zt.current===null&&(e=!0);var h=Ee;if(Ee=0,Mt=null,ms(t,l,u,h),n&&$s){a=0;break e}break;default:h=Ee,Ee=0,Mt=null,ms(t,l,u,h)}}E1(),a=Ve;break}catch(d){ME(t,d)}while(!0);return e&&t.shellSuspendCounter++,Un=Ur=null,Ne=i,ee.H=r,ee.A=s,re===null&&(Te=null,he=0,hc()),a}function E1(){for(;re!==null;)PE(re)}function T1(t,e){var n=Ne;Ne|=2;var i=VE(),r=kE();Te!==t||he!==e?(Cu=null,Iu=gn()+500,Vs(t,e)):$s=ko(t,e);e:do try{if(Ee!==0&&re!==null){e=re;var s=Mt;t:switch(Ee){case 1:Ee=0,Mt=null,ms(t,e,s,1);break;case 2:if(Qp(s)){Ee=0,Mt=null,yy(e);break}e=function(){Ee===2&&Te===t&&(Ee=7),Sn(t)},s.then(e,e);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Qp(s)?(Ee=0,Mt=null,yy(e)):(Ee=0,Mt=null,ms(t,e,s,7));break;case 5:var a=null;switch(re.tag){case 26:a=re.memoizedState;case 5:case 27:var l=re;if(!a||XE(a)){Ee=0,Mt=null;var u=l.sibling;if(u!==null)re=u;else{var h=l.return;h!==null?(re=h,_c(h)):re=null}break t}}Ee=0,Mt=null,ms(t,e,s,5);break;case 6:Ee=0,Mt=null,ms(t,e,s,6);break;case 8:cm(),Ve=6;break e;default:throw Error(P(462))}}b1();break}catch(d){ME(t,d)}while(!0);return Un=Ur=null,ee.H=i,ee.A=r,Ne=n,re!==null?0:(Te=null,he=0,hc(),Ve)}function b1(){for(;re!==null&&!FA();)PE(re)}function PE(t){var e=uE(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?_c(t):re=e}function yy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=ly(n,e,e.pendingProps,e.type,void 0,he);break;case 11:e=ly(n,e,e.pendingProps,e.type.render,e.ref,he);break;case 5:Yd(e);default:xE(n,e),e=re=CE(e,Yn),e=uE(n,e,Yn)}t.memoizedProps=t.pendingProps,e===null?_c(t):re=e}function ms(t,e,n,i){Un=Ur=null,Yd(e),_s=null,mo=0;var r=e.return;try{if(c1(t,r,e,n,he)){Ve=1,Au(t,Yt(n,t.current)),re=null;return}}catch(s){if(r!==null)throw re=r,s;Ve=1,Au(t,Yt(n,t.current)),re=null;return}e.flags&32768?(de||i===1?t=!0:$s||he&536870912?t=!1:(Dn=t=!0,(i===2||i===3||i===6)&&(i=Zt.current,i!==null&&i.tag===13&&(i.flags|=16384))),LE(e,t)):_c(e)}function _c(t){var e=t;do{if(e.flags&32768){LE(e,Dn);return}t=e.return;var n=g1(e.alternate,e,Yn);if(n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);Ve===0&&(Ve=5)}function LE(t,e){do{var n=p1(t.alternate,t);if(n!==null){n.flags&=32767,re=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){re=t;return}re=t=n}while(t!==null);Ve=6,re=null}function _y(t,e,n,i,r,s,a,l,u,h){var d=ee.T,g=Ae.p;try{Ae.p=2,ee.T=null,S1(t,e,n,i,g,r,s,a,l,u,h)}finally{ee.T=d,Ae.p=g}}function S1(t,e,n,i,r,s,a,l){do bs();while(ur!==null);if(Ne&6)throw Error(P(327));var u=t.finishedWork;if(i=t.finishedLanes,u===null)return null;if(t.finishedWork=null,t.finishedLanes=0,u===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var h=u.lanes|u.childLanes;if(h|=Ld,tw(t,i,h,s,a,l),t===Te&&(re=Te=null,he=0),!(u.subtreeFlags&10256)&&!(u.flags&10256)||Dl||(Dl=!0,Lf=h,Uf=n,I1(du,function(){return bs(),null})),n=(u.flags&15990)!==0,u.subtreeFlags&15990||n?(n=ee.T,ee.T=null,s=Ae.p,Ae.p=2,a=Ne,Ne|=4,f1(t,u),TE(u,t),Qw(Gf,t.containerInfo),Pu=!!Ff,Gf=Ff=null,t.current=u,yE(t,u.alternate,u),GA(),Ne=a,Ae.p=s,ee.T=n):t.current=u,Dl?(Dl=!1,ur=t,eo=i):UE(t,h),h=t.pendingLanes,h===0&&(xi=null),XA(u.stateNode),Sn(t),e!==null)for(r=t.onRecoverableError,u=0;u<e.length;u++)h=e[u],r(h.value,{componentStack:h.stack});return eo&3&&bs(),h=t.pendingLanes,i&4194218&&h&42?t===jf?to++:(to=0,jf=t):to=0,Ho(0),null}function UE(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,jo(e)))}function bs(){if(ur!==null){var t=ur,e=Lf;Lf=0;var n=Bv(eo),i=ee.T,r=Ae.p;try{if(Ae.p=32>n?32:n,ee.T=null,ur===null)var s=!1;else{n=Uf,Uf=null;var a=ur,l=eo;if(ur=null,eo=0,Ne&6)throw Error(P(331));var u=Ne;if(Ne|=4,RE(a.current),SE(a,a.current,l,n),Ne=u,Ho(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Vo,a)}catch{}s=!0}return s}finally{Ae.p=r,ee.T=i,UE(t,e)}}return!1}function vy(t,e,n){e=Yt(n,e),e=Rf(t.stateNode,e,2),t=Ci(t,e,2),t!==null&&(Po(t,2),Sn(t))}function ve(t,e,n){if(t.tag===3)vy(t,t,n);else for(;e!==null;){if(e.tag===3){vy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xi===null||!xi.has(i))){t=Yt(n,t),n=nE(2),i=Ci(e,n,2),i!==null&&(iE(n,i,e,t),Po(i,2),Sn(i));break}}e=e.return}}function Uh(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new _1;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(om=!0,r.add(n),t=A1.bind(null,t,e,n),e.then(t,t))}function A1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Te===t&&(he&n)===n&&(Ve===4||Ve===3&&(he&62914560)===he&&300>gn()-um?!(Ne&2)&&Vs(t,0):lm|=n,Ms===he&&(Ms=0)),Sn(t)}function jE(t,e){e===0&&(e=Uv()),t=ji(t,e),t!==null&&(Po(t,e),Sn(t))}function w1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jE(t,n)}function R1(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(e),jE(t,n)}function I1(t,e){return Nd(t,e)}var Nu=null,Jr=null,qf=!1,xu=!1,jh=!1,vr=0;function Sn(t){t!==Jr&&t.next===null&&(Jr===null?Nu=Jr=t:Jr=Jr.next=t),xu=!0,qf||(qf=!0,N1(C1))}function Ho(t,e){if(!jh&&xu){jh=!0;do for(var n=!1,i=Nu;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Ut(42|t)+1)-1,s&=r&~(a&~l),s=s&201326677?s&201326677|1:s?s|2:0}s!==0&&(n=!0,Ey(i,s))}else s=he,s=oc(i,i===Te?s:0),!(s&3)||ko(i,s)||(n=!0,Ey(i,s));i=i.next}while(n);jh=!1}}function C1(){xu=qf=!1;var t=0;vr!==0&&(L1()&&(t=vr),vr=0);for(var e=gn(),n=null,i=Nu;i!==null;){var r=i.next,s=zE(i,e);s===0?(i.next=null,n===null?Nu=r:n.next=r,r===null&&(Jr=n)):(n=i,(t!==0||s&3)&&(xu=!0)),i=r}Ho(t)}function zE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Ut(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=ew(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=Te,n=he,n=oc(t,t===e?n:0),i=t.callbackNode,n===0||t===e&&Ee===2||t.cancelPendingCommit!==null)return i!==null&&i!==null&&gh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ko(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&gh(i),Bv(n)){case 2:case 8:n=kv;break;case 32:n=du;break;case 268435456:n=Pv;break;default:n=du}return i=BE.bind(null,t),n=Nd(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&gh(i),t.callbackPriority=2,t.callbackNode=null,2}function BE(t,e){var n=t.callbackNode;if(bs()&&t.callbackNode!==n)return null;var i=he;return i=oc(t,t===Te?i:0),i===0?null:(OE(t,i,e),zE(t,gn()),t.callbackNode!=null&&t.callbackNode===n?BE.bind(null,t):null)}function Ey(t,e){if(bs())return null;OE(t,e,!0)}function N1(t){j1(function(){Ne&6?Nd(Vv,t):t()})}function hm(){return vr===0&&(vr=Lv()),vr}function Ty(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hl(""+t)}function by(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function x1(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=Ty((r[Nt]||null).action),a=i.submitter;a&&(e=(e=a[Nt]||null)?Ty(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new lc("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(vr!==0){var u=a?by(r,a):new FormData(r);Af(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?by(r,a):new FormData(r),Af(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var zh=0;zh<Hp.length;zh++){var Bh=Hp[zh],D1=Bh.toLowerCase(),O1=Bh[0].toUpperCase()+Bh.slice(1);cn(D1,"on"+O1)}cn(l0,"onAnimationEnd");cn(u0,"onAnimationIteration");cn(c0,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn($w,"onTransitionRun");cn(Xw,"onTransitionStart");cn(Ww,"onTransitionCancel");cn(h0,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function qE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(d){Su(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(d){Su(d)}r.currentTarget=null,s=u}}}}function le(t,e){var n=e[hf];n===void 0&&(n=e[hf]=new Set);var i=t+"__bubble";n.has(i)||(HE(e,t,2,!1),n.add(i))}function qh(t,e,n){var i=0;e&&(i|=4),HE(n,t,i,e)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function fm(t){if(!t[Ol]){t[Ol]=!0,Hv.forEach(function(n){n!=="selectionchange"&&(M1.has(n)||qh(n,!1,t),qh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ol]||(e[Ol]=!0,qh("selectionchange",!1,e))}}function HE(t,e,n,i){switch(tT(e)){case 2:var r=sR;break;case 8:r=aR;break;default:r=pm}n=r.bind(null,e,n,t),r=void 0,!gf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Hh(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;a=a.return}for(;l!==null;){if(a=cr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}Wv(function(){var h=s,d=Od(n),g=[];e:{var m=f0.get(t);if(m!==void 0){var _=lc,C=t;switch(t){case"keypress":if(Gl(n)===0)break e;case"keydown":case"keyup":_=Rw;break;case"focusin":C="focus",_=Eh;break;case"focusout":C="blur",_=Eh;break;case"beforeblur":case"afterblur":_=Eh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Nw;break;case l0:case u0:case c0:_=yw;break;case h0:_=Dw;break;case"scroll":case"scrollend":_=fw;break;case"wheel":_=Mw;break;case"copy":case"cut":case"paste":_=vw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Mp;break;case"toggle":case"beforetoggle":_=kw}var O=(e&4)!==0,M=!O&&(t==="scroll"||t==="scrollend"),S=O?m!==null?m+"Capture":null:m;O=[];for(var E=h,A;E!==null;){var N=E;if(A=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||A===null||S===null||(N=uo(E,S),N!=null&&O.push(yo(E,N,A))),M)break;E=E.return}0<O.length&&(m=new _(m,C,null,n,d),g.push({event:m,listeners:O}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==mf&&(C=n.relatedTarget||n.fromElement)&&(cr(C)||C[Qs]))break e;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=h,C=C?cr(C):null,C!==null&&(M=Ks(C),O=C.tag,C!==M||O!==5&&O!==27&&O!==6)&&(C=null)):(_=null,C=h),_!==C)){if(O=Dp,N="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(O=Mp,N="onPointerLeave",S="onPointerEnter",E="pointer"),M=_==null?m:Oa(_),A=C==null?m:Oa(C),m=new O(N,E+"leave",_,n,d),m.target=M,m.relatedTarget=A,N=null,cr(d)===h&&(O=new O(S,E+"enter",C,n,d),O.target=A,O.relatedTarget=M,N=O),M=N,_&&C)t:{for(O=_,S=C,E=0,A=O;A;A=Yr(A))E++;for(A=0,N=S;N;N=Yr(N))A++;for(;0<E-A;)O=Yr(O),E--;for(;0<A-E;)S=Yr(S),A--;for(;E--;){if(O===S||S!==null&&O===S.alternate)break t;O=Yr(O),S=Yr(S)}O=null}else O=null;_!==null&&Sy(g,m,_,O,!1),C!==null&&M!==null&&Sy(g,M,C,O,!0)}}e:{if(m=h?Oa(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var U=Lp;else if(Pp(m))if(i0)U=Gw;else{U=Hw;var j=qw}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Dd(h.elementType)&&(U=Lp):U=Fw;if(U&&(U=U(t,h))){n0(g,U,n,d);break e}j&&j(t,m,h),t==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&df(m,"number",m.value)}switch(j=h?Oa(h):window,t){case"focusin":(Pp(j)||j.contentEditable==="true")&&(ls=j,pf=h,Ha=null);break;case"focusout":Ha=pf=ls=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,qp(g,n,d);break;case"selectionchange":if(Yw)break;case"keydown":case"keyup":qp(g,n,d)}var T;if(kd)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else os?e0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Jv&&n.locale!=="ko"&&(os||v!=="onCompositionStart"?v==="onCompositionEnd"&&os&&(T=Zv()):(Ai=d,Md="value"in Ai?Ai.value:Ai.textContent,os=!0)),j=Du(h,v),0<j.length&&(v=new Op(v,t,null,n,d),g.push({event:v,listeners:j}),T?v.data=T:(T=t0(n),T!==null&&(v.data=T)))),(T=Lw?Uw(t,n):jw(t,n))&&(v=Du(h,"onBeforeInput"),0<v.length&&(j=new Op("onBeforeInput","beforeinput",null,n,d),g.push({event:j,listeners:v}),j.data=T)),x1(g,t,h,n,d)}qE(g,e)})}function yo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Du(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=uo(t,n),r!=null&&i.unshift(yo(t,r,s)),r=uo(t,e),r!=null&&i.push(yo(t,r,s))),t=t.return}return i}function Yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sy(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=uo(n,s),h!=null&&a.unshift(yo(n,h,u))):r||(h=uo(n,s),h!=null&&a.push(yo(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var V1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function Ay(t){return(typeof t=="string"?t:""+t).replace(V1,`
`).replace(k1,"")}function FE(t,e){return e=Ay(e),Ay(t)===e}function vc(){}function ge(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Ns(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Ns(t,""+i);break;case"className":Al(t,"class",i);break;case"tabIndex":Al(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(t,n,i);break;case"style":Xv(t,i,s);break;case"data":if(e!=="object"){Al(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Hl(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ge(t,e,"name",r.name,r,null),ge(t,e,"formEncType",r.formEncType,r,null),ge(t,e,"formMethod",r.formMethod,r,null),ge(t,e,"formTarget",r.formTarget,r,null)):(ge(t,e,"encType",r.encType,r,null),ge(t,e,"method",r.method,r,null),ge(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Hl(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=vc);break;case"onScroll":i!=null&&le("scroll",t);break;case"onScrollEnd":i!=null&&le("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Hl(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":le("beforetoggle",t),le("toggle",t),ql(t,"popover",i);break;case"xlinkActuate":Rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Rn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Rn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Rn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Rn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ql(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=cw.get(n)||n,ql(t,n,i))}}function Hf(t,e,n,i,r,s){switch(n){case"style":Xv(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Ns(t,i):(typeof i=="number"||typeof i=="bigint")&&Ns(t,""+i);break;case"onScroll":i!=null&&le("scroll",t);break;case"onScrollEnd":i!=null&&le("scrollend",t);break;case"onClick":i!=null&&(t.onclick=vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[Nt]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ql(t,n,i)}}}function st(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",t),le("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:ge(t,e,s,a,n,null)}}r&&ge(t,e,"srcSet",n.srcSet,n,null),i&&ge(t,e,"src",n.src,n,null);return;case"input":le("invalid",t);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,e));break;default:ge(t,e,i,d,n,null)}}Qv(t,s,l,u,h,a,r,!1),mu(t);return;case"select":le("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ge(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?ps(t,!!i,e,!1):n!=null&&ps(t,!!i,n,!0);return;case"textarea":le("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:ge(t,e,a,l,n,null)}$v(t,i,r,s),mu(t);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ge(t,e,u,i,n,null)}return;case"dialog":le("cancel",t),le("close",t);break;case"iframe":case"object":le("load",t);break;case"video":case"audio":for(i=0;i<po.length;i++)le(po[i],t);break;case"image":le("error",t),le("load",t);break;case"details":le("toggle",t);break;case"embed":case"source":case"link":le("error",t),le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:ge(t,e,h,i,n,null)}return;default:if(Dd(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Hf(t,e,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&ge(t,e,l,i,n,null))}function P1(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||ge(t,e,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(P(137,e));break;default:_!==g&&ge(t,e,m,_,i,g)}}ff(t,a,l,u,h,d,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||ge(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&ge(t,e,r,s,i,u)}e=l,n=a,i=_,m!=null?ps(t,!!n,m,!1):!!i!=!!n&&(e!=null?ps(t,!!n,e,!0):ps(t,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ge(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&ge(t,e,a,r,i,s)}Yv(t,m,_);return;case"option":for(var C in n)if(m=n[C],n.hasOwnProperty(C)&&m!=null&&!i.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:ge(t,e,C,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ge(t,e,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var O in n)m=n[O],n.hasOwnProperty(O)&&m!=null&&!i.hasOwnProperty(O)&&ge(t,e,O,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,e));break;default:ge(t,e,h,m,i,_)}return;default:if(Dd(e)){for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!==void 0&&!i.hasOwnProperty(M)&&Hf(t,e,M,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||Hf(t,e,d,m,i,_);return}}for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!=null&&!i.hasOwnProperty(S)&&ge(t,e,S,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||ge(t,e,g,m,i,_)}var Ff=null,Gf=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GE(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Kf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fh=null;function L1(){var t=window.event;return t&&t.type==="popstate"?t===Fh?!1:(Fh=t,!0):(Fh=null,!1)}var KE=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,j1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(t){return Ry.resolve(null).then(t).catch(z1)}:KE;function z1(t){setTimeout(function(){throw t})}function Gh(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),bo(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);bo(e)}function Qf(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Qf(n),xd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function B1(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[lo])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=an(t.nextSibling),t===null)break}return null}function q1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=an(t.nextSibling),t===null))return null;return t}function an(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function Iy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function QE(t,e,n){switch(e=Ou(n),t){case"html":if(t=e.documentElement,!t)throw Error(P(452));return t;case"head":if(t=e.head,!t)throw Error(P(453));return t;case"body":if(t=e.body,!t)throw Error(P(454));return t;default:throw Error(P(451))}}var Jt=new Map,Cy=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ei=Ae.d;Ae.d={f:H1,r:F1,D:G1,C:K1,L:Q1,m:Y1,X:X1,S:$1,M:W1};function H1(){var t=ei.f(),e=yc();return t||e}function F1(t){var e=Ys(t);e!==null&&e.tag===5&&e.type==="form"?Q0(e):ei.r(t)}var Xs=typeof document>"u"?null:document;function YE(t,e,n){var i=Xs;if(i&&typeof e=="string"&&e){var r=Qt(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Cy.has(r)||(Cy.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),st(e,"link",t),$e(e),i.head.appendChild(e)))}}function G1(t){ei.D(t),YE("dns-prefetch",t,null)}function K1(t,e){ei.C(t,e),YE("preconnect",t,e)}function Q1(t,e,n){ei.L(t,e,n);var i=Xs;if(i&&t&&e){var r='link[rel="preload"][as="'+Qt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Qt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Qt(n.imageSizes)+'"]')):r+='[href="'+Qt(t)+'"]';var s=r;switch(e){case"style":s=ks(t);break;case"script":s=Ws(t)}Jt.has(s)||(t=we({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Jt.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(Fo(s))||e==="script"&&i.querySelector(Go(s))||(e=i.createElement("link"),st(e,"link",t),$e(e),i.head.appendChild(e)))}}function Y1(t,e){ei.m(t,e);var n=Xs;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Qt(i)+'"][href="'+Qt(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ws(t)}if(!Jt.has(s)&&(t=we({rel:"modulepreload",href:t},e),Jt.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Go(s)))return}i=n.createElement("link"),st(i,"link",t),$e(i),n.head.appendChild(i)}}}function $1(t,e,n){ei.S(t,e,n);var i=Xs;if(i&&t){var r=gs(i).hoistableStyles,s=ks(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Fo(s)))l.loading=5;else{t=we({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Jt.get(s))&&dm(t,n);var u=a=i.createElement("link");$e(u),st(u,"link",t),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Wl(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function X1(t,e){ei.X(t,e);var n=Xs;if(n&&t){var i=gs(n).hoistableScripts,r=Ws(t),s=i.get(r);s||(s=n.querySelector(Go(r)),s||(t=we({src:t,async:!0},e),(e=Jt.get(r))&&mm(t,e),s=n.createElement("script"),$e(s),st(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function W1(t,e){ei.M(t,e);var n=Xs;if(n&&t){var i=gs(n).hoistableScripts,r=Ws(t),s=i.get(r);s||(s=n.querySelector(Go(r)),s||(t=we({src:t,async:!0,type:"module"},e),(e=Jt.get(r))&&mm(t,e),s=n.createElement("script"),$e(s),st(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Ny(t,e,n,i){var r=(r=Ri.current)?Mu(r):null;if(!r)throw Error(P(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ks(n.href),n=gs(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ks(n.href);var s=gs(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(Fo(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Jt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Jt.set(t,n),s||Z1(r,t,n,a.state))),e&&i===null)throw Error(P(528,""));return a}if(e&&i!==null)throw Error(P(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ws(n),n=gs(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,t))}}function ks(t){return'href="'+Qt(t)+'"'}function Fo(t){return'link[rel="stylesheet"]['+t+"]"}function $E(t){return we({},t,{"data-precedence":t.precedence,precedence:null})}function Z1(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),st(e,"link",n),$e(e),t.head.appendChild(e))}function Ws(t){return'[src="'+Qt(t)+'"]'}function Go(t){return"script[async]"+t}function xy(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Qt(n.href)+'"]');if(i)return e.instance=i,$e(i),i;var r=we({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),$e(i),st(i,"style",r),Wl(i,n.precedence,t),e.instance=i;case"stylesheet":r=ks(n.href);var s=t.querySelector(Fo(r));if(s)return e.state.loading|=4,e.instance=s,$e(s),s;i=$E(n),(r=Jt.get(r))&&dm(i,r),s=(t.ownerDocument||t).createElement("link"),$e(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),st(s,"link",i),e.state.loading|=4,Wl(s,n.precedence,t),e.instance=s;case"script":return s=Ws(n.src),(r=t.querySelector(Go(s)))?(e.instance=r,$e(r),r):(i=n,(r=Jt.get(s))&&(i=we({},n),mm(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),$e(r),st(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(P(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Wl(i,n.precedence,t));return e.instance}function Wl(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function dm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function mm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Zl=null;function Dy(t,e,n){if(Zl===null){var i=new Map,r=Zl=new Map;r.set(n,i)}else r=Zl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[lo]||s[dt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Oy(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function J1(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function XE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var _o=null;function eR(){}function tR(t,e,n){if(_o===null)throw Error(P(475));var i=_o;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=ks(n.href),s=t.querySelector(Fo(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Vu.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=s,$e(s);return}s=t.ownerDocument||t,n=$E(n),(r=Jt.get(r))&&dm(n,r),s=s.createElement("link"),$e(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),st(s,"link",n),e.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=Vu.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function nR(){if(_o===null)throw Error(P(475));var t=_o;return t.stylesheets&&t.count===0&&Yf(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Yf(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Vu(){if(this.count--,this.count===0){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ku=null;function Yf(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ku=new Map,e.forEach(iR,t),ku=null,Vu.call(t))}function iR(t,e){if(!(e.state.loading&4)){var n=ku.get(t);if(n)var i=n.get(null);else{n=new Map,ku.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=Vu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var vo={$$typeof:Vn,Provider:null,Consumer:null,_currentValue:mr,_currentValue2:mr,_threadCount:0};function rR(t,e,n,i,r,s,a,l){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ph(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ph(0),this.hiddenUpdates=ph(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function WE(t,e,n,i,r,s,a,l,u,h,d,g){return t=new rR(t,e,n,a,l,u,h,g),e=1,s===!0&&(e|=24),s=$t(3,null,null,e),t.current=s,s.stateNode=t,e=qd(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},im(s),t}function ZE(t){return t?(t=hs,t):hs}function JE(t,e,n,i,r,s){r=ZE(r),i.context===null?i.context=r:i.pendingContext=r,i=Ii(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ci(t,i,e),n!==null&&(St(n,t,e),$a(n,t,e))}function My(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gm(t,e){My(t,e),(t=t.alternate)&&My(t,e)}function eT(t){if(t.tag===13){var e=ji(t,67108864);e!==null&&St(e,t,67108864),gm(t,67108864)}}var Pu=!0;function sR(t,e,n,i){var r=ee.T;ee.T=null;var s=Ae.p;try{Ae.p=2,pm(t,e,n,i)}finally{Ae.p=s,ee.T=r}}function aR(t,e,n,i){var r=ee.T;ee.T=null;var s=Ae.p;try{Ae.p=8,pm(t,e,n,i)}finally{Ae.p=s,ee.T=r}}function pm(t,e,n,i){if(Pu){var r=$f(i);if(r===null)Hh(t,e,i,Lu,n),Vy(t,i);else if(lR(r,t,e,n,i))i.stopPropagation();else if(Vy(t,i),e&4&&-1<oR.indexOf(t)){for(;r!==null;){var s=Ys(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=ar(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Ut(a);l.entanglements[1]|=u,a&=~u}Sn(s),!(Ne&6)&&(Iu=gn()+500,Ho(0))}}break;case 13:l=ji(s,2),l!==null&&St(l,s,2),yc(),gm(s,2)}if(s=$f(i),s===null&&Hh(t,e,i,Lu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Hh(t,e,i,null,n)}}function $f(t){return t=Od(t),ym(t)}var Lu=null;function ym(t){if(Lu=null,t=cr(t),t!==null){var e=Ks(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Ov(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Lu=t,null}function tT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(KA()){case Vv:return 2;case kv:return 8;case du:case QA:return 32;case Pv:return 268435456;default:return 32}default:return 32}}var Xf=!1,Di=null,Oi=null,Mi=null,Eo=new Map,To=new Map,vi=[],oR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(e.pointerId)}}function Ia(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ys(e),e!==null&&eT(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function lR(t,e,n,i,r){switch(e){case"focusin":return Di=Ia(Di,t,e,n,i,r),!0;case"dragenter":return Oi=Ia(Oi,t,e,n,i,r),!0;case"mouseover":return Mi=Ia(Mi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Eo.set(s,Ia(Eo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,To.set(s,Ia(To.get(s)||null,t,e,n,i,r)),!0}return!1}function nT(t){var e=cr(t.target);if(e!==null){var n=Ks(e);if(n!==null){if(e=n.tag,e===13){if(e=Ov(n),e!==null){t.blockedOn=e,nw(t.priority,function(){if(n.tag===13){var i=jt(),r=ji(n,i);r!==null&&St(r,n,i),gm(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$f(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);mf=i,n.target.dispatchEvent(i),mf=null}else return e=Ys(n),e!==null&&eT(e),t.blockedOn=n,!1;e.shift()}return!0}function ky(t,e,n){Jl(t)&&n.delete(e)}function uR(){Xf=!1,Di!==null&&Jl(Di)&&(Di=null),Oi!==null&&Jl(Oi)&&(Oi=null),Mi!==null&&Jl(Mi)&&(Mi=null),Eo.forEach(ky),To.forEach(ky)}function Ml(t,e){t.blockedOn===e&&(t.blockedOn=null,Xf||(Xf=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,uR)))}var Vl=null;function Py(t){Vl!==t&&(Vl=t,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,function(){Vl===t&&(Vl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(ym(i||n)===null)continue;break}var s=Ys(n);s!==null&&(t.splice(e,3),e-=3,Af(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function bo(t){function e(u){return Ml(u,t)}Di!==null&&Ml(Di,t),Oi!==null&&Ml(Oi,t),Mi!==null&&Ml(Mi,t),Eo.forEach(e),To.forEach(e);for(var n=0;n<vi.length;n++){var i=vi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<vi.length&&(n=vi[0],n.blockedOn===null);)nT(n),n.blockedOn===null&&vi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Nt]||null;if(typeof s=="function")a||Py(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Nt]||null)l=a.formAction;else if(ym(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Py(n)}}}function _m(t){this._internalRoot=t}Ec.prototype.render=_m.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));var n=e.current,i=jt();JE(n,i,t,e,null,null)};Ec.prototype.unmount=_m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&bs(),JE(t.current,2,null,t,null,null),yc(),e[Qs]=null}};function Ec(t){this._internalRoot=t}Ec.prototype.unstable_scheduleHydration=function(t){if(t){var e=qv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vi.length&&e!==0&&e<vi[n].priority;n++);vi.splice(n,0,t),n===0&&nT(t)}};var Ly=Iv.version;if(Ly!=="19.0.0")throw Error(P(527,Ly,"19.0.0"));Ae.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=HA(e),t=t!==null?Mv(t):null,t=t===null?null:t.stateNode,t};var cR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,findFiberByHostInstance:cr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{Vo=kl.inject(cR),Lt=kl}catch{}}sc.createRoot=function(t,e){if(!Cv(t))throw Error(P(299));var n=!1,i="",r=J0,s=eE,a=tE,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=WE(t,1,!1,null,null,n,i,r,s,a,l,null),t[Qs]=e.current,fm(t.nodeType===8?t.parentNode:t),new _m(e)};sc.hydrateRoot=function(t,e,n){if(!Cv(t))throw Error(P(299));var i=!1,r="",s=J0,a=eE,l=tE,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),e=WE(t,1,!0,e,n??null,i,r,s,a,l,u,h),e.context=ZE(null),n=e.current,i=jt(),r=Ii(i),r.callback=null,Ci(n,r,i),e.current.lanes=i,Po(e,i),Sn(e),t[Qs]=e.current,fm(t),new Ec(e)};sc.version="19.0.0";function iT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iT)}catch(t){console.error(t)}}iT(),Tv.exports=sc;var hR=Tv.exports;/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rT=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...l},u)=>G.createElement("svg",{ref:u,...dR,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:rT("lucide",r),...l},[...a.map(([h,d])=>G.createElement(h,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(t,e)=>{const n=G.forwardRef(({className:i,...r},s)=>G.createElement(mR,{ref:s,iconNode:e,className:rT(`lucide-${fR(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tc=pt("Calendar",gR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sT=pt("ChartColumn",pR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],aT=pt("ChevronLeft",yR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oT=pt("ChevronRight",_R);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],lT=pt("CreditCard",vR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],TR=pt("Link",ER);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],SR=pt("List",bR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],wR=pt("LogOut",AR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],IR=pt("MapPin",RR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],NR=pt("Menu",CR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],uT=pt("Pencil",xR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vm=pt("Plus",DR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],MR=pt("Trash2",OR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],cT=pt("UserCheck",VR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PR=pt("User",kR);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],hT=pt("Users",LR),UR=()=>{};var Uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},jR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const g=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||h==null||g==null)throw new zR;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),g!==64){const C=h<<6&192|g;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BR=function(t){const e=fT(t);return dT.encodeByteArray(e,!0)},Uu=function(t){return BR(t).replace(/\./g,"")},mT=function(t){try{return dT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=()=>qR().__FIREBASE_DEFAULTS__,FR=()=>{if(typeof process>"u"||typeof Uy>"u")return;const t=Uy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mT(t[1]);return e&&JSON.parse(e)},bc=()=>{try{return UR()||HR()||FR()||GR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gT=t=>{var e,n;return(n=(e=bc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KR=t=>{const e=gT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},pT=()=>{var t;return(t=bc())===null||t===void 0?void 0:t.config},yT=t=>{var e;return(e=bc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uu(JSON.stringify(n)),Uu(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function XR(){var t;const e=(t=bc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eI(){const t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tI(){return!XR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nI(){try{return typeof indexedDB=="object"}catch{return!1}}function iI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="FirebaseError";class ti extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=rI,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ko.prototype.create)}}class Ko{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?sI(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ti(r,l,i)}}function sI(t,e){return t.replace(aI,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const aI=/\{\$([^}]+)}/g;function oI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ir(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(jy(s)&&jy(a)){if(!Ir(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function jy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Va(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ka(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lI(t,e){const n=new uI(t,e);return n.subscribe.bind(n)}class uI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");cI(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Kh),r.error===void 0&&(r.error=Kh),r.complete===void 0&&(r.complete=Kh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new QR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dI(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fI(t){return t===lr?void 0:t}function dI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const gI={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},pI=se.INFO,yI={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},_I=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=yI[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=pI,this._logHandler=_I,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const vI=(t,e)=>e.some(n=>t instanceof n);let zy,By;function EI(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TI(){return By||(By=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,Wf=new WeakMap,vT=new WeakMap,Qh=new WeakMap,Tm=new WeakMap;function bI(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Vi(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&_T.set(n,t)}).catch(()=>{}),Tm.set(e,t),e}function SI(t){if(Wf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Wf.set(t,e)}let Zf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AI(t){Zf=t(Zf)}function wI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Yh(this),e,...n);return vT.set(i,e.sort?e.sort():[e]),Vi(i)}:TI().includes(t)?function(...e){return t.apply(Yh(this),e),Vi(_T.get(this))}:function(...e){return Vi(t.apply(Yh(this),e))}}function RI(t){return typeof t=="function"?wI(t):(t instanceof IDBTransaction&&SI(t),vI(t,EI())?new Proxy(t,Zf):t)}function Vi(t){if(t instanceof IDBRequest)return bI(t);if(Qh.has(t))return Qh.get(t);const e=RI(t);return e!==t&&(Qh.set(t,e),Tm.set(e,t)),e}const Yh=t=>Tm.get(t);function II(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=Vi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Vi(a.result),u.oldVersion,u.newVersion,Vi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const CI=["get","getKey","getAll","getAllKeys","count"],NI=["put","add","delete","clear"],$h=new Map;function qy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($h.get(e))return $h.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=NI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||CI.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return $h.set(e,s),s}AI(t=>({...t,get:(e,n,i)=>qy(e,n)||t.get(e,n,i),has:(e,n)=>!!qy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function DI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jf="@firebase/app",Hy="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new Em("@firebase/app"),OI="@firebase/app-compat",MI="@firebase/analytics-compat",VI="@firebase/analytics",kI="@firebase/app-check-compat",PI="@firebase/app-check",LI="@firebase/auth",UI="@firebase/auth-compat",jI="@firebase/database",zI="@firebase/data-connect",BI="@firebase/database-compat",qI="@firebase/functions",HI="@firebase/functions-compat",FI="@firebase/installations",GI="@firebase/installations-compat",KI="@firebase/messaging",QI="@firebase/messaging-compat",YI="@firebase/performance",$I="@firebase/performance-compat",XI="@firebase/remote-config",WI="@firebase/remote-config-compat",ZI="@firebase/storage",JI="@firebase/storage-compat",eC="@firebase/firestore",tC="@firebase/vertexai",nC="@firebase/firestore-compat",iC="firebase",rC="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="[DEFAULT]",sC={[Jf]:"fire-core",[OI]:"fire-core-compat",[VI]:"fire-analytics",[MI]:"fire-analytics-compat",[PI]:"fire-app-check",[kI]:"fire-app-check-compat",[LI]:"fire-auth",[UI]:"fire-auth-compat",[jI]:"fire-rtdb",[zI]:"fire-data-connect",[BI]:"fire-rtdb-compat",[qI]:"fire-fn",[HI]:"fire-fn-compat",[FI]:"fire-iid",[GI]:"fire-iid-compat",[KI]:"fire-fcm",[QI]:"fire-fcm-compat",[YI]:"fire-perf",[$I]:"fire-perf-compat",[XI]:"fire-rc",[WI]:"fire-rc-compat",[ZI]:"fire-gcs",[JI]:"fire-gcs-compat",[eC]:"fire-fst",[nC]:"fire-fst-compat",[tC]:"fire-vertex","fire-js":"fire-js",[iC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Map,aC=new Map,td=new Map;function Fy(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ps(t){const e=t.name;if(td.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,t);for(const n of ju.values())Fy(n,t);for(const n of aC.values())Fy(n,t);return!0}function bm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new Ko("app","Firebase",oC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=rC;function ET(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ed,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ki.create("bad-app-name",{appName:String(r)});if(n||(n=pT()),!n)throw ki.create("no-options");const s=ju.get(r);if(s){if(Ir(n,s.options)&&Ir(i,s.config))return s;throw ki.create("duplicate-app",{appName:r})}const a=new mI(r);for(const u of td.values())a.addComponent(u);const l=new lC(n,i,a);return ju.set(r,l),l}function TT(t=ed){const e=ju.get(t);if(!e&&t===ed&&pT())return ET();if(!e)throw ki.create("no-app",{appName:t});return e}function Pi(t,e,n){var i;let r=(i=sC[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(l.join(" "));return}Ps(new Cr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebase-heartbeat-database",cC=1,So="firebase-heartbeat-store";let Xh=null;function bT(){return Xh||(Xh=II(uC,cC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(So)}catch(n){console.warn(n)}}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),Xh}async function hC(t){try{const n=(await bT()).transaction(So),i=await n.objectStore(So).get(ST(t));return await n.done,i}catch(e){if(e instanceof ti)$n.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$n.warn(n.message)}}}async function Gy(t,e){try{const i=(await bT()).transaction(So,"readwrite");await i.objectStore(So).put(e,ST(t)),await i.done}catch(n){if(n instanceof ti)$n.warn(n.message);else{const i=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$n.warn(i.message)}}}function ST(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1024,dC=30;class mC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ky();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>dC){const a=yC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$n.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ky(),{heartbeatsToSend:i,unsentEntries:r}=gC(this._heartbeatsCache.heartbeats),s=Uu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $n.warn(n),""}}}function Ky(){return new Date().toISOString().substring(0,10)}function gC(t,e=fC){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Qy(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Qy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class pC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nI()?iI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Qy(t){return Uu(JSON.stringify({version:2,heartbeats:t})).length}function yC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){Ps(new Cr("platform-logger",e=>new xI(e),"PRIVATE")),Ps(new Cr("heartbeat",e=>new mC(e),"PRIVATE")),Pi(Jf,Hy,t),Pi(Jf,Hy,"esm2017"),Pi("fire-js","")}_C("");var vC="firebase",EC="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(vC,EC,"app");var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,AT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function b(){}b.prototype=v.prototype,T.D=v.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(w,I,D){for(var R=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)R[yt-2]=arguments[yt];return v.prototype[I].apply(w,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,v,b){b||(b=0);var w=Array(16);if(typeof v=="string")for(var I=0;16>I;++I)w[I]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(I=0;16>I;++I)w[I]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=T.g[0],b=T.g[1],I=T.g[2];var D=T.g[3],R=v+(D^b&(I^D))+w[0]+3614090360&4294967295;v=b+(R<<7&4294967295|R>>>25),R=D+(I^v&(b^I))+w[1]+3905402710&4294967295,D=v+(R<<12&4294967295|R>>>20),R=I+(b^D&(v^b))+w[2]+606105819&4294967295,I=D+(R<<17&4294967295|R>>>15),R=b+(v^I&(D^v))+w[3]+3250441966&4294967295,b=I+(R<<22&4294967295|R>>>10),R=v+(D^b&(I^D))+w[4]+4118548399&4294967295,v=b+(R<<7&4294967295|R>>>25),R=D+(I^v&(b^I))+w[5]+1200080426&4294967295,D=v+(R<<12&4294967295|R>>>20),R=I+(b^D&(v^b))+w[6]+2821735955&4294967295,I=D+(R<<17&4294967295|R>>>15),R=b+(v^I&(D^v))+w[7]+4249261313&4294967295,b=I+(R<<22&4294967295|R>>>10),R=v+(D^b&(I^D))+w[8]+1770035416&4294967295,v=b+(R<<7&4294967295|R>>>25),R=D+(I^v&(b^I))+w[9]+2336552879&4294967295,D=v+(R<<12&4294967295|R>>>20),R=I+(b^D&(v^b))+w[10]+4294925233&4294967295,I=D+(R<<17&4294967295|R>>>15),R=b+(v^I&(D^v))+w[11]+2304563134&4294967295,b=I+(R<<22&4294967295|R>>>10),R=v+(D^b&(I^D))+w[12]+1804603682&4294967295,v=b+(R<<7&4294967295|R>>>25),R=D+(I^v&(b^I))+w[13]+4254626195&4294967295,D=v+(R<<12&4294967295|R>>>20),R=I+(b^D&(v^b))+w[14]+2792965006&4294967295,I=D+(R<<17&4294967295|R>>>15),R=b+(v^I&(D^v))+w[15]+1236535329&4294967295,b=I+(R<<22&4294967295|R>>>10),R=v+(I^D&(b^I))+w[1]+4129170786&4294967295,v=b+(R<<5&4294967295|R>>>27),R=D+(b^I&(v^b))+w[6]+3225465664&4294967295,D=v+(R<<9&4294967295|R>>>23),R=I+(v^b&(D^v))+w[11]+643717713&4294967295,I=D+(R<<14&4294967295|R>>>18),R=b+(D^v&(I^D))+w[0]+3921069994&4294967295,b=I+(R<<20&4294967295|R>>>12),R=v+(I^D&(b^I))+w[5]+3593408605&4294967295,v=b+(R<<5&4294967295|R>>>27),R=D+(b^I&(v^b))+w[10]+38016083&4294967295,D=v+(R<<9&4294967295|R>>>23),R=I+(v^b&(D^v))+w[15]+3634488961&4294967295,I=D+(R<<14&4294967295|R>>>18),R=b+(D^v&(I^D))+w[4]+3889429448&4294967295,b=I+(R<<20&4294967295|R>>>12),R=v+(I^D&(b^I))+w[9]+568446438&4294967295,v=b+(R<<5&4294967295|R>>>27),R=D+(b^I&(v^b))+w[14]+3275163606&4294967295,D=v+(R<<9&4294967295|R>>>23),R=I+(v^b&(D^v))+w[3]+4107603335&4294967295,I=D+(R<<14&4294967295|R>>>18),R=b+(D^v&(I^D))+w[8]+1163531501&4294967295,b=I+(R<<20&4294967295|R>>>12),R=v+(I^D&(b^I))+w[13]+2850285829&4294967295,v=b+(R<<5&4294967295|R>>>27),R=D+(b^I&(v^b))+w[2]+4243563512&4294967295,D=v+(R<<9&4294967295|R>>>23),R=I+(v^b&(D^v))+w[7]+1735328473&4294967295,I=D+(R<<14&4294967295|R>>>18),R=b+(D^v&(I^D))+w[12]+2368359562&4294967295,b=I+(R<<20&4294967295|R>>>12),R=v+(b^I^D)+w[5]+4294588738&4294967295,v=b+(R<<4&4294967295|R>>>28),R=D+(v^b^I)+w[8]+2272392833&4294967295,D=v+(R<<11&4294967295|R>>>21),R=I+(D^v^b)+w[11]+1839030562&4294967295,I=D+(R<<16&4294967295|R>>>16),R=b+(I^D^v)+w[14]+4259657740&4294967295,b=I+(R<<23&4294967295|R>>>9),R=v+(b^I^D)+w[1]+2763975236&4294967295,v=b+(R<<4&4294967295|R>>>28),R=D+(v^b^I)+w[4]+1272893353&4294967295,D=v+(R<<11&4294967295|R>>>21),R=I+(D^v^b)+w[7]+4139469664&4294967295,I=D+(R<<16&4294967295|R>>>16),R=b+(I^D^v)+w[10]+3200236656&4294967295,b=I+(R<<23&4294967295|R>>>9),R=v+(b^I^D)+w[13]+681279174&4294967295,v=b+(R<<4&4294967295|R>>>28),R=D+(v^b^I)+w[0]+3936430074&4294967295,D=v+(R<<11&4294967295|R>>>21),R=I+(D^v^b)+w[3]+3572445317&4294967295,I=D+(R<<16&4294967295|R>>>16),R=b+(I^D^v)+w[6]+76029189&4294967295,b=I+(R<<23&4294967295|R>>>9),R=v+(b^I^D)+w[9]+3654602809&4294967295,v=b+(R<<4&4294967295|R>>>28),R=D+(v^b^I)+w[12]+3873151461&4294967295,D=v+(R<<11&4294967295|R>>>21),R=I+(D^v^b)+w[15]+530742520&4294967295,I=D+(R<<16&4294967295|R>>>16),R=b+(I^D^v)+w[2]+3299628645&4294967295,b=I+(R<<23&4294967295|R>>>9),R=v+(I^(b|~D))+w[0]+4096336452&4294967295,v=b+(R<<6&4294967295|R>>>26),R=D+(b^(v|~I))+w[7]+1126891415&4294967295,D=v+(R<<10&4294967295|R>>>22),R=I+(v^(D|~b))+w[14]+2878612391&4294967295,I=D+(R<<15&4294967295|R>>>17),R=b+(D^(I|~v))+w[5]+4237533241&4294967295,b=I+(R<<21&4294967295|R>>>11),R=v+(I^(b|~D))+w[12]+1700485571&4294967295,v=b+(R<<6&4294967295|R>>>26),R=D+(b^(v|~I))+w[3]+2399980690&4294967295,D=v+(R<<10&4294967295|R>>>22),R=I+(v^(D|~b))+w[10]+4293915773&4294967295,I=D+(R<<15&4294967295|R>>>17),R=b+(D^(I|~v))+w[1]+2240044497&4294967295,b=I+(R<<21&4294967295|R>>>11),R=v+(I^(b|~D))+w[8]+1873313359&4294967295,v=b+(R<<6&4294967295|R>>>26),R=D+(b^(v|~I))+w[15]+4264355552&4294967295,D=v+(R<<10&4294967295|R>>>22),R=I+(v^(D|~b))+w[6]+2734768916&4294967295,I=D+(R<<15&4294967295|R>>>17),R=b+(D^(I|~v))+w[13]+1309151649&4294967295,b=I+(R<<21&4294967295|R>>>11),R=v+(I^(b|~D))+w[4]+4149444226&4294967295,v=b+(R<<6&4294967295|R>>>26),R=D+(b^(v|~I))+w[11]+3174756917&4294967295,D=v+(R<<10&4294967295|R>>>22),R=I+(v^(D|~b))+w[2]+718787259&4294967295,I=D+(R<<15&4294967295|R>>>17),R=b+(D^(I|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+D&4294967295}i.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var b=v-this.blockSize,w=this.B,I=this.h,D=0;D<v;){if(I==0)for(;D<=b;)r(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<v;)if(w[I++]=T.charCodeAt(D++),I==this.blockSize){r(this,w),I=0;break}}else for(;D<v;)if(w[I++]=T[D++],I==this.blockSize){r(this,w),I=0;break}}this.h=I,this.o+=v},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var b=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=b&255,b/=256;for(this.u(T),T=Array(16),v=b=0;4>v;++v)for(var w=0;32>w;w+=8)T[b++]=this.g[v]>>>w&255;return T};function s(T,v){var b=l;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=v(T)}function a(T,v){this.h=v;for(var b=[],w=!0,I=T.length-1;0<=I;I--){var D=T[I]|0;w&&D==v||(b[I]=D,w=!1)}this.g=b}var l={};function u(T){return-128<=T&&128>T?s(T,function(v){return new a([v|0],0>v?-1:0)}):new a([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return M(h(-T));for(var v=[],b=1,w=0;T>=b;w++)v[w]=T/b|0,b*=4294967296;return new a(v,0)}function d(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return M(d(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(v,8)),w=g,I=0;I<T.length;I+=8){var D=Math.min(8,T.length-I),R=parseInt(T.substring(I,I+D),v);8>D?(D=h(Math.pow(v,D)),w=w.j(D).add(h(R))):(w=w.j(b),w=w.add(h(R)))}return w}var g=u(0),m=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(O(this))return-M(this).m();for(var T=0,v=1,b=0;b<this.g.length;b++){var w=this.i(b);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(O(this))return"-"+M(this).toString(T);for(var v=h(Math.pow(T,6)),b=this,w="";;){var I=N(b,v).g;b=S(b,I.j(v));var D=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=I,C(b))return D+w;for(;6>D.length;)D="0"+D;w=D+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function O(T){return T.h==-1}t.l=function(T){return T=S(this,T),O(T)?-1:C(T)?0:1};function M(T){for(var v=T.g.length,b=[],w=0;w<v;w++)b[w]=~T.g[w];return new a(b,~T.h).add(m)}t.abs=function(){return O(this)?M(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],w=0,I=0;I<=v;I++){var D=w+(this.i(I)&65535)+(T.i(I)&65535),R=(D>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);w=R>>>16,D&=65535,R&=65535,b[I]=R<<16|D}return new a(b,b[b.length-1]&-2147483648?-1:0)};function S(T,v){return T.add(M(v))}t.j=function(T){if(C(this)||C(T))return g;if(O(this))return O(T)?M(this).j(M(T)):M(M(this).j(T));if(O(T))return M(this.j(M(T)));if(0>this.l(_)&&0>T.l(_))return h(this.m()*T.m());for(var v=this.g.length+T.g.length,b=[],w=0;w<2*v;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<T.g.length;I++){var D=this.i(w)>>>16,R=this.i(w)&65535,yt=T.i(I)>>>16,tn=T.i(I)&65535;b[2*w+2*I]+=R*tn,E(b,2*w+2*I),b[2*w+2*I+1]+=D*tn,E(b,2*w+2*I+1),b[2*w+2*I+1]+=R*yt,E(b,2*w+2*I+1),b[2*w+2*I+2]+=D*yt,E(b,2*w+2*I+2)}for(w=0;w<v;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=v;w<2*v;w++)b[w]=0;return new a(b,0)};function E(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function A(T,v){this.g=T,this.h=v}function N(T,v){if(C(v))throw Error("division by zero");if(C(T))return new A(g,g);if(O(T))return v=N(M(T),v),new A(M(v.g),M(v.h));if(O(v))return v=N(T,M(v)),new A(M(v.g),v.h);if(30<T.g.length){if(O(T)||O(v))throw Error("slowDivide_ only works with positive integers.");for(var b=m,w=v;0>=w.l(T);)b=U(b),w=U(w);var I=j(b,1),D=j(w,1);for(w=j(w,2),b=j(b,2);!C(w);){var R=D.add(w);0>=R.l(T)&&(I=I.add(b),D=R),w=j(w,1),b=j(b,1)}return v=S(T,I.j(v)),new A(I,v)}for(I=g;0<=T.l(v);){for(b=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),D=h(b),R=D.j(v);O(R)||0<R.l(T);)b-=w,D=h(b),R=D.j(v);C(D)&&(D=m),I=I.add(D),T=S(T,R)}return new A(I,T)}t.A=function(T){return N(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],w=0;w<v;w++)b[w]=this.i(w)&T.i(w);return new a(b,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],w=0;w<v;w++)b[w]=this.i(w)|T.i(w);return new a(b,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],w=0;w<v;w++)b[w]=this.i(w)^T.i(w);return new a(b,this.h^T.h)};function U(T){for(var v=T.g.length+1,b=[],w=0;w<v;w++)b[w]=T.i(w)<<1|T.i(w-1)>>>31;return new a(b,T.h)}function j(T,v){var b=v>>5;v%=32;for(var w=T.g.length-b,I=[],D=0;D<w;D++)I[D]=0<v?T.i(D+b)>>>v|T.i(D+b+1)<<32-v:T.i(D+b);return new a(I,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,AT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Li=a}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,Pa,RT,eu,nd,IT,CT,NT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pl=="object"&&Pl];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)e:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var x=o[p];if(!(x in f))break e;f=f[x]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&e(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,p=!1,x={next:function(){if(!p&&f<o.length){var V=f++;return{value:c(V,o[V]),done:!1}}return p=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,p),o.apply(c,x)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function C(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,x,V){for(var B=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)B[_e-2]=arguments[_e];return c.prototype[x].apply(p,B)}}function O(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function M(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const x=o.length||0,V=p.length||0;o.length=x+V;for(let B=0;B<V;B++)o[x+B]=p[B]}else o.push(p)}}class S{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(o){return/^[\s\xa0]*$/.test(o)}function A(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function N(o){return N[" "](o),o}N[" "]=function(){};var U=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function j(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function T(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function v(o){const c={};for(const f in o)c[f]=o[f];return c}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,c){let f,p;for(let x=1;x<arguments.length;x++){p=arguments[x];for(f in p)o[f]=p[f];for(let V=0;V<b.length;V++)f=b[V],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function I(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function D(o){l.setTimeout(()=>{throw o},0)}function R(){var o=K;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class yt{constructor(){this.h=this.g=null}add(c,f){const p=tn.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var tn=new S(()=>new q,o=>o.reset());class q{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let W,z=!1,K=new yt,Y=()=>{const o=l.Promise.resolve(void 0);W=()=>{o.then(oe)}};var oe=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(f){D(f)}var c=tn;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function De(o,c){if(ye.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(U){e:{try{N(c.nodeName);var x=!0;break e}catch{}x=!1}x||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Ji[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&De.aa.h.call(this)}}C(De,ye);var Ji={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),qr=0;function aa(o,c,f,p,x){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=x,this.key=++qr,this.da=this.fa=!1}function si(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function er(o){this.src=o,this.g={},this.h=0}er.prototype.add=function(o,c,f,p,x){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var B=Hc(o,c,p,x);return-1<B?(c=o[B],f||(c.fa=!1)):(c=new aa(c,this.src,V,!!p,x),c.fa=f,o.push(c)),c};function qc(o,c){var f=c.type;if(f in o.g){var p=o.g[f],x=Array.prototype.indexOf.call(p,c,void 0),V;(V=0<=x)&&Array.prototype.splice.call(p,x,1),V&&(si(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Hc(o,c,f,p){for(var x=0;x<o.length;++x){var V=o[x];if(!V.da&&V.listener==c&&V.capture==!!f&&V.ha==p)return x}return-1}var Fc="closure_lm_"+(1e6*Math.random()|0),Gc={};function yg(o,c,f,p,x){if(Array.isArray(c)){for(var V=0;V<c.length;V++)yg(o,c[V],f,p,x);return null}return f=Eg(f),o&&o[_t]?o.K(c,f,h(p)?!!p.capture:!1,x):zS(o,c,f,!1,p,x)}function zS(o,c,f,p,x,V){if(!c)throw Error("Invalid event type");var B=h(x)?!!x.capture:!!x,_e=Qc(o);if(_e||(o[Fc]=_e=new er(o)),f=_e.add(c,f,p,B,V),f.proxy)return f;if(p=BS(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Je||(x=B),x===void 0&&(x=!1),o.addEventListener(c.toString(),p,x);else if(o.attachEvent)o.attachEvent(vg(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function BS(){function o(f){return c.call(o.src,o.listener,f)}const c=qS;return o}function _g(o,c,f,p,x){if(Array.isArray(c))for(var V=0;V<c.length;V++)_g(o,c[V],f,p,x);else p=h(p)?!!p.capture:!!p,f=Eg(f),o&&o[_t]?(o=o.i,c=String(c).toString(),c in o.g&&(V=o.g[c],f=Hc(V,f,p,x),-1<f&&(si(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete o.g[c],o.h--)))):o&&(o=Qc(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Hc(c,f,p,x)),(f=-1<o?c[o]:null)&&Kc(f))}function Kc(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[_t])qc(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(vg(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=Qc(c))?(qc(f,o),f.h==0&&(f.src=null,c[Fc]=null)):si(o)}}}function vg(o){return o in Gc?Gc[o]:Gc[o]="on"+o}function qS(o,c){if(o.da)o=!0;else{c=new De(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&Kc(o),o=f.call(p,c)}return o}function Qc(o){return o=o[Fc],o instanceof er?o:null}var Yc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eg(o){return typeof o=="function"?o:(o[Yc]||(o[Yc]=function(c){return o.handleEvent(c)}),o[Yc])}function ot(){ie.call(this),this.i=new er(this),this.M=this,this.F=null}C(ot,ie),ot.prototype[_t]=!0,ot.prototype.removeEventListener=function(o,c,f,p){_g(this,o,c,f,p)};function vt(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new ye(c,o);else if(c instanceof ye)c.target=c.target||o;else{var x=c;c=new ye(p,o),w(c,x)}if(x=!0,f)for(var V=f.length-1;0<=V;V--){var B=c.g=f[V];x=rl(B,p,!0,c)&&x}if(B=c.g=o,x=rl(B,p,!0,c)&&x,x=rl(B,p,!1,c)&&x,f)for(V=0;V<f.length;V++)B=c.g=f[V],x=rl(B,p,!1,c)&&x}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)si(f[p]);delete o.g[c],o.h--}}this.F=null},ot.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},ot.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function rl(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var x=!0,V=0;V<c.length;++V){var B=c[V];if(B&&!B.da&&B.capture==f){var _e=B.listener,et=B.ha||B.src;B.fa&&qc(o.i,B),x=_e.call(et,p)!==!1&&x}}return x&&!p.defaultPrevented}function Tg(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function bg(o){o.g=Tg(()=>{o.g=null,o.i&&(o.i=!1,bg(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class HS extends ie{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:bg(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(o){ie.call(this),this.h=o,this.g={}}C(oa,ie);var Sg=[];function Ag(o){j(o.g,function(c,f){this.g.hasOwnProperty(f)&&Kc(c)},o),o.g={}}oa.prototype.N=function(){oa.aa.N.call(this),Ag(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $c=l.JSON.stringify,FS=l.JSON.parse,GS=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Xc(){}Xc.prototype.h=null;function wg(o){return o.h||(o.h=o.i())}function Rg(){}var la={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wc(){ye.call(this,"d")}C(Wc,ye);function Zc(){ye.call(this,"c")}C(Zc,ye);var tr={},Ig=null;function sl(){return Ig=Ig||new ot}tr.La="serverreachability";function Cg(o){ye.call(this,tr.La,o)}C(Cg,ye);function ua(o){const c=sl();vt(c,new Cg(c))}tr.STAT_EVENT="statevent";function Ng(o,c){ye.call(this,tr.STAT_EVENT,o),this.stat=c}C(Ng,ye);function Et(o){const c=sl();vt(c,new Ng(c,o))}tr.Ma="timingevent";function xg(o,c){ye.call(this,tr.Ma,o),this.size=c}C(xg,ye);function ca(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function ha(){this.g=!0}ha.prototype.xa=function(){this.g=!1};function KS(o,c,f,p,x,V){o.info(function(){if(o.g)if(V)for(var B="",_e=V.split("&"),et=0;et<_e.length;et++){var fe=_e[et].split("=");if(1<fe.length){var lt=fe[0];fe=fe[1];var ut=lt.split("_");B=2<=ut.length&&ut[1]=="type"?B+(lt+"="+fe+"&"):B+(lt+"=redacted&")}}else B=null;else B=V;return"XMLHTTP REQ ("+p+") [attempt "+x+"]: "+c+`
`+f+`
`+B})}function QS(o,c,f,p,x,V,B){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+x+"]: "+c+`
`+f+`
`+V+" "+B})}function Hr(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+$S(o,f)+(p?" "+p:"")})}function YS(o,c){o.info(function(){return"TIMEOUT: "+c})}ha.prototype.info=function(){};function $S(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var x=p[1];if(Array.isArray(x)&&!(1>x.length)){var V=x[0];if(V!="noop"&&V!="stop"&&V!="close")for(var B=1;B<x.length;B++)x[B]=""}}}}return $c(f)}catch{return c}}var al={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jc;function ol(){}C(ol,Xc),ol.prototype.g=function(){return new XMLHttpRequest},ol.prototype.i=function(){return{}},Jc=new ol;function ai(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Og}function Og(){this.i=null,this.g="",this.h=!1}var Mg={},eh={};function th(o,c,f){o.L=1,o.v=hl(An(c)),o.m=f,o.P=!0,Vg(o,null)}function Vg(o,c){o.F=Date.now(),ll(o),o.A=An(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),Yg(f.i,"t",p),o.C=0,f=o.j.J,o.h=new Og,o.g=fp(o.j,f?c:null,!o.m),0<o.O&&(o.M=new HS(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(Sg[0]=x.toString()),x=Sg);for(var V=0;V<x.length;V++){var B=yg(f,x[V],p||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),ua(),KS(o.i,o.u,o.A,o.l,o.R,o.m)}ai.prototype.ca=function(o){o=o.target;const c=this.M;c&&wn(o)==3?c.j():this.Y(o)},ai.prototype.Y=function(o){try{if(o==this.g)e:{const ut=wn(this.g);var c=this.g.Ba();const Kr=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||tp(this.g)))){this.J||ut!=4||c==7||(c==8||0>=Kr?ua(3):ua(2)),nh(this);var f=this.g.Z();this.X=f;t:if(kg(this)){var p=tp(this.g);o="";var x=p.length,V=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),fa(this);var B="";break t}this.h.i=new l.TextDecoder}for(c=0;c<x;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(V&&c==x-1)});p.length=0,this.h.g+=o,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,QS(this.i,this.u,this.A,this.l,this.R,ut,f),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,et=this.g;if((_e=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(_e)){var fe=_e;break t}}fe=null}if(f=fe)Hr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ih(this,f);else{this.o=!1,this.s=3,Et(12),nr(this),fa(this);break e}}if(this.P){f=!0;let nn;for(;!this.J&&this.C<B.length;)if(nn=XS(this,B),nn==eh){ut==4&&(this.s=4,Et(14),f=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Mg){this.s=4,Et(15),Hr(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Hr(this.i,this.l,nn,null),ih(this,nn);if(kg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||B.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)Hr(this.i,this.l,B,"[Invalid Chunked Response]"),nr(this),fa(this);else if(0<B.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),uh(lt),lt.M=!0,Et(11))}}else Hr(this.i,this.l,B,null),ih(this,B);ut==4&&nr(this),this.o&&!this.J&&(ut==4?lp(this.j,this):(this.o=!1,ll(this)))}else dA(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),nr(this),fa(this)}}}catch{}finally{}};function kg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function XS(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?eh:(f=Number(c.substring(f,p)),isNaN(f)?Mg:(p+=1,p+f>c.length?eh:(c=c.slice(p,p+f),o.C=p+f,c)))}ai.prototype.cancel=function(){this.J=!0,nr(this)};function ll(o){o.S=Date.now()+o.I,Pg(o,o.I)}function Pg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ca(m(o.ba,o),c)}function nh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}ai.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(YS(this.i,this.A),this.L!=2&&(ua(),Et(17)),nr(this),this.s=2,fa(this)):Pg(this,this.S-o)};function fa(o){o.j.G==0||o.J||lp(o.j,o)}function nr(o){nh(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Ag(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function ih(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||rh(f.h,o))){if(!o.K&&rh(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var x=p;if(x[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)yl(f),gl(f);else break e;lh(f),Et(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=ca(m(f.Za,f),6e3));if(1>=jg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else rr(f,11)}else if((o.K||f.g==o)&&yl(f),!E(c))for(x=f.Da.g.parse(c),c=0;c<x.length;c++){let fe=x[c];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];const lt=fe[3];lt!=null&&(f.la=lt,f.j.info("VER="+f.la));const ut=fe[4];ut!=null&&(f.Aa=ut,f.j.info("SVER="+f.Aa));const Kr=fe[5];Kr!=null&&typeof Kr=="number"&&0<Kr&&(p=1.5*Kr,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const nn=o.g;if(nn){const vl=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var V=p.h;V.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(sh(V,V.h),V.h=null))}if(p.D){const ch=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ch&&(p.ya=ch,be(p.I,p.D,ch))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var B=o;if(p.qa=hp(p,p.J?p.ia:null,p.W),B.K){zg(p.h,B);var _e=B,et=p.L;et&&(_e.I=et),_e.B&&(nh(_e),ll(_e)),p.g=B}else ap(p);0<f.i.length&&pl(f)}else fe[0]!="stop"&&fe[0]!="close"||rr(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?rr(f,7):oh(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}ua(4)}catch{}}var WS=class{constructor(o,c){this.g=o,this.map=c}};function Lg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ug(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function jg(o){return o.h?1:o.g?o.g.size:0}function rh(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function sh(o,c){o.g?o.g.add(c):o.h=c}function zg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Lg.prototype.cancel=function(){if(this.i=Bg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Bg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return O(o.i)}function ZS(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function JS(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function qg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=JS(o),p=ZS(o),x=p.length,V=0;V<x;V++)c.call(void 0,p[V],f&&f[V],o)}var Hg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eA(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),x=null;if(0<=p){var V=o[f].substring(0,p);x=o[f].substring(p+1)}else V=o[f];c(V,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ir(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ir){this.h=o.h,ul(this,o.j),this.o=o.o,this.g=o.g,cl(this,o.s),this.l=o.l;var c=o.i,f=new ga;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Fg(this,f),this.m=o.m}else o&&(c=String(o).match(Hg))?(this.h=!1,ul(this,c[1]||"",!0),this.o=da(c[2]||""),this.g=da(c[3]||"",!0),cl(this,c[4]),this.l=da(c[5]||"",!0),Fg(this,c[6]||"",!0),this.m=da(c[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}ir.prototype.toString=function(){var o=[],c=this.j;c&&o.push(ma(c,Gg,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(ma(c,Gg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(ma(f,f.charAt(0)=="/"?iA:nA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",ma(f,sA)),o.join("")};function An(o){return new ir(o)}function ul(o,c,f){o.j=f?da(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function cl(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Fg(o,c,f){c instanceof ga?(o.i=c,aA(o.i,o.h)):(f||(c=ma(c,rA)),o.i=new ga(c,o.h))}function be(o,c,f){o.i.set(c,f)}function hl(o){return be(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function da(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ma(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,tA),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function tA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Gg=/[#\/\?@]/g,nA=/[#\?:]/g,iA=/[#\?]/g,rA=/[#\?@]/g,sA=/#/g;function ga(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function oi(o){o.g||(o.g=new Map,o.h=0,o.i&&eA(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=ga.prototype,t.add=function(o,c){oi(this),this.i=null,o=Fr(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Kg(o,c){oi(o),c=Fr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Qg(o,c){return oi(o),c=Fr(o,c),o.g.has(c)}t.forEach=function(o,c){oi(this),this.g.forEach(function(f,p){f.forEach(function(x){o.call(c,x,p,this)},this)},this)},t.na=function(){oi(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const x=o[p];for(let V=0;V<x.length;V++)f.push(c[p])}return f},t.V=function(o){oi(this);let c=[];if(typeof o=="string")Qg(this,o)&&(c=c.concat(this.g.get(Fr(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},t.set=function(o,c){return oi(this),this.i=null,o=Fr(this,o),Qg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Yg(o,c,f){Kg(o,c),0<f.length&&(o.i=null,o.g.set(Fr(o,c),O(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const V=encodeURIComponent(String(p)),B=this.V(p);for(p=0;p<B.length;p++){var x=V;B[p]!==""&&(x+="="+encodeURIComponent(String(B[p]))),o.push(x)}}return this.i=o.join("&")};function Fr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function aA(o,c){c&&!o.j&&(oi(o),o.i=null,o.g.forEach(function(f,p){var x=p.toLowerCase();p!=x&&(Kg(this,p),Yg(this,x,f))},o)),o.j=c}function oA(o,c){const f=new ha;if(l.Image){const p=new Image;p.onload=_(li,f,"TestLoadImage: loaded",!0,c,p),p.onerror=_(li,f,"TestLoadImage: error",!1,c,p),p.onabort=_(li,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=_(li,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function lA(o,c){const f=new ha,p=new AbortController,x=setTimeout(()=>{p.abort(),li(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(V=>{clearTimeout(x),V.ok?li(f,"TestPingServer: ok",!0,c):li(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(x),li(f,"TestPingServer: error",!1,c)})}function li(o,c,f,p,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),p(f)}catch{}}function uA(){this.g=new GS}function cA(o,c,f){const p=f||"";try{qg(o,function(x,V){let B=x;h(x)&&(B=$c(x)),c.push(p+V+"="+encodeURIComponent(B))})}catch(x){throw c.push(p+"type="+encodeURIComponent("_badmap")),x}}function fl(o){this.l=o.Ub||null,this.j=o.eb||!1}C(fl,Xc),fl.prototype.g=function(){return new dl(this.l,this.j)},fl.prototype.i=function(o){return function(){return o}}({});function dl(o,c){ot.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(dl,ot),t=dl.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,ya(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$g(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function $g(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?pa(this):ya(this),this.readyState==3&&$g(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,pa(this))},t.Qa=function(o){this.g&&(this.response=o,pa(this))},t.ga=function(){this.g&&pa(this)};function pa(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ya(o)}t.setRequestHeader=function(o,c){this.u.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function ya(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Xg(o){let c="";return j(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function ah(o,c,f){e:{for(p in f){var p=!1;break e}p=!0}p||(f=Xg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):be(o,c,f))}function Oe(o){ot.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Oe,ot);var hA=/^https?$/i,fA=["POST","PUT"];t=Oe.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jc.g(),this.v=this.o?wg(this.o):wg(Jc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(V){Wg(this,V);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var x in p)f.set(x,p[x]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const V of p.keys())f.set(V,p.get(V));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),x=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(fA,c,void 0))||p||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,B]of f)this.g.setRequestHeader(V,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ep(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){Wg(this,V)}};function Wg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Zg(o),ml(o)}function Zg(o){o.A||(o.A=!0,vt(o,"complete"),vt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,vt(this,"complete"),vt(this,"abort"),ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ml(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jg(this):this.bb())},t.bb=function(){Jg(this)};function Jg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||wn(o)!=4||o.Z()!=2)){if(o.u&&wn(o)==4)Tg(o.Ea,0,o);else if(vt(o,"readystatechange"),wn(o)==4){o.h=!1;try{const B=o.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var p;if(p=B===0){var x=String(o.D).match(Hg)[1]||null;!x&&l.self&&l.self.location&&(x=l.self.location.protocol.slice(0,-1)),p=!hA.test(x?x.toLowerCase():"")}f=p}if(f)vt(o,"complete"),vt(o,"success");else{o.m=6;try{var V=2<wn(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",Zg(o)}}finally{ml(o)}}}}function ml(o,c){if(o.g){ep(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||vt(o,"ready");try{f.onreadystatechange=p}catch{}}}function ep(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function wn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),FS(c)}};function tp(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function dA(o){const c={};o=(o.g&&2<=wn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(E(o[p]))continue;var f=I(o[p]);const x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=c[x]||[];c[x]=V,V.push(f)}T(c,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function np(o){this.Aa=0,this.i=[],this.j=new ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,o),this.cb=_a("retryDelaySeedMs",1e4,o),this.Wa=_a("forwardChannelMaxRetries",2,o),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Lg(o&&o.concurrentRequestLimit),this.Da=new uA,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=np.prototype,t.la=8,t.G=1,t.connect=function(o,c,f,p){Et(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=hp(this,null,this.W),pl(this)};function oh(o){if(ip(o),o.G==3){var c=o.U++,f=An(o.I);if(be(f,"SID",o.K),be(f,"RID",c),be(f,"TYPE","terminate"),va(o,f),c=new ai(o,o.j,c),c.L=2,c.v=hl(An(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=fp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),ll(c)}cp(o)}function gl(o){o.g&&(uh(o),o.g.cancel(),o.g=null)}function ip(o){gl(o),o.u&&(l.clearTimeout(o.u),o.u=null),yl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function pl(o){if(!Ug(o.h)&&!o.s){o.s=!0;var c=o.Ga;W||Y(),z||(W(),z=!0),K.add(c,o),o.B=0}}function mA(o,c){return jg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ca(m(o.Ga,o,c),up(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new ai(this,this.j,o);let V=this.o;if(this.S&&(V?(V=v(V),w(V,this.S)):V=this.S),this.m!==null||this.O||(x.H=V,V=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=sp(this,x,c),f=An(this.I),be(f,"RID",o),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),va(this,f),V&&(this.O?c="headers="+encodeURIComponent(String(Xg(V)))+"&"+c:this.m&&ah(f,this.m,V)),sh(this.h,x),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",c),be(f,"SID","null"),x.T=!0,th(x,f,null)):th(x,f,c),this.G=2}}else this.G==3&&(o?rp(this,o):this.i.length==0||Ug(this.h)||rp(this))};function rp(o,c){var f;c?f=c.l:f=o.U++;const p=An(o.I);be(p,"SID",o.K),be(p,"RID",f),be(p,"AID",o.T),va(o,p),o.m&&o.o&&ah(p,o.m,o.o),f=new ai(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=sp(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),sh(o.h,f),th(f,p,c)}function va(o,c){o.H&&j(o.H,function(f,p){be(c,p,f)}),o.l&&qg({},function(f,p){be(c,p,f)})}function sp(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;e:{var x=o.i;let V=-1;for(;;){const B=["count="+f];V==-1?0<f?(V=x[0].g,B.push("ofs="+V)):V=0:B.push("ofs="+V);let _e=!0;for(let et=0;et<f;et++){let fe=x[et].g;const lt=x[et].map;if(fe-=V,0>fe)V=Math.max(0,x[et].g-100),_e=!1;else try{cA(lt,B,"req"+fe+"_")}catch{p&&p(lt)}}if(_e){p=B.join("&");break e}}}return o=o.i.splice(0,f),c.D=o,p}function ap(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;W||Y(),z||(W(),z=!0),K.add(c,o),o.v=0}}function lh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ca(m(o.Fa,o),up(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,op(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ca(m(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),gl(this),op(this))};function uh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function op(o){o.g=new ai(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=An(o.qa);be(c,"RID","rpc"),be(c,"SID",o.K),be(c,"AID",o.T),be(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&be(c,"TO",o.ja),be(c,"TYPE","xmlhttp"),va(o,c),o.m&&o.o&&ah(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=hl(An(c)),f.m=null,f.P=!0,Vg(f,o)}t.Za=function(){this.C!=null&&(this.C=null,gl(this),lh(this),Et(19))};function yl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function lp(o,c){var f=null;if(o.g==c){yl(o),uh(o),o.g=null;var p=2}else if(rh(o.h,c))f=c.D,zg(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var x=o.B;p=sl(),vt(p,new xg(p,f)),pl(o)}else ap(o);else if(x=c.s,x==3||x==0&&0<c.X||!(p==1&&mA(o,c)||p==2&&lh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),x){case 1:rr(o,5);break;case 4:rr(o,10);break;case 3:rr(o,6);break;default:rr(o,2)}}}function up(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function rr(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const x=!p;p=new ir(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ul(p,"https"),hl(p),x?oA(p.toString(),f):lA(p.toString(),f)}else Et(2);o.G=0,o.l&&o.l.sa(c),cp(o),ip(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function cp(o){if(o.G=0,o.ka=[],o.l){const c=Bg(o.h);(c.length!=0||o.i.length!=0)&&(M(o.ka,c),M(o.ka,o.i),o.h.i.length=0,O(o.i),o.i.length=0),o.l.ra()}}function hp(o,c,f){var p=f instanceof ir?An(f):new ir(f);if(p.g!="")c&&(p.g=c+"."+p.g),cl(p,p.s);else{var x=l.location;p=x.protocol,c=c?c+"."+x.hostname:x.hostname,x=+x.port;var V=new ir(null);p&&ul(V,p),c&&(V.g=c),x&&cl(V,x),f&&(V.l=f),p=V}return f=o.D,c=o.ya,f&&c&&be(p,f,c),be(p,"VER",o.la),va(o,p),p}function fp(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Oe(new fl({eb:f})):new Oe(o.pa),c.Ha(o.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dp(){}t=dp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _l(){}_l.prototype.g=function(o,c){return new Dt(o,c)};function Dt(o,c){ot.call(this),this.g=new np(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!E(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Gr(this)}C(Dt,ot),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){oh(this.g)},Dt.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=$c(o),o=f);c.i.push(new WS(c.Ya++,o)),c.G==3&&pl(c)},Dt.prototype.N=function(){this.g.l=null,delete this.j,oh(this.g),delete this.g,Dt.aa.N.call(this)};function mp(o){Wc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const f in c){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}C(mp,Wc);function gp(){Zc.call(this),this.status=1}C(gp,Zc);function Gr(o){this.g=o}C(Gr,dp),Gr.prototype.ua=function(){vt(this.g,"a")},Gr.prototype.ta=function(o){vt(this.g,new mp(o))},Gr.prototype.sa=function(o){vt(this.g,new gp)},Gr.prototype.ra=function(){vt(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,NT=function(){return new _l},CT=function(){return sl()},IT=tr,nd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},al.NO_ERROR=0,al.TIMEOUT=8,al.HTTP_ERROR=6,eu=al,Dg.COMPLETE="complete",RT=Dg,Rg.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Pa=Rg,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,wT=Oe}).apply(typeof Pl<"u"?Pl:typeof self<"u"?self:typeof window<"u"?window:{});const $y="@firebase/firestore",Xy="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new Em("@firebase/firestore");function es(){return Nr.logLevel}function H(t,...e){if(Nr.logLevel<=se.DEBUG){const n=e.map(Sm);Nr.debug(`Firestore (${Js}): ${t}`,...n)}}function Xn(t,...e){if(Nr.logLevel<=se.ERROR){const n=e.map(Sm);Nr.error(`Firestore (${Js}): ${t}`,...n)}}function Ls(t,...e){if(Nr.logLevel<=se.WARN){const n=e.map(Sm);Nr.warn(`Firestore (${Js}): ${t}`,...n)}}function Sm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+t;throw Xn(e),new Error(e)}function me(t,e){t||X()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class bC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SC{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hn,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(me(typeof i.accessToken=="string"),new xT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string"),new ht(e)}}class AC{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wC{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new AC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,kt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){me(this.o===void 0);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Wy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string"),this.R=n.token,new Wy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=IC(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function ue(t,e){return t<e?-1:t>e?1:0}function Us(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-62135596800,Jy=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Jy);return new Fe(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Zy)throw new F(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Fe(0,0))}static max(){return new Z(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="__name__";class hn{constructor(e,n,i){n===void 0?n=0:n>e.length&&X(),i===void 0?i=e.length-n:i>e.length-n&&X(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=hn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const i=hn.isNumericId(e),r=hn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?hn.extractNumericId(e).compare(hn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Li.fromString(e.substring(4,e.length-2))}}class Se extends hn{construct(e,n,i){return new Se(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new F(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const CC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends hn{construct(e,n,i){return new rt(e,n,i)}static isValidIdentifier(e){return CC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e_}static keyField(){return new rt([e_])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new F(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new F(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new F(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Se.fromString(e))}static fromName(e){return new Q(Se.fromString(e).popFirst(5))}static empty(){return new Q(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Se(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=-1;function NC(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Z.fromTimestamp(i===1e9?new Fe(n+1,0):new Fe(n,i));return new Hi(r,Q.empty(),e)}function xC(t){return new Hi(t.readTime,t.key,Ao)}class Hi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Hi(Z.min(),Q.empty(),Ao)}static max(){return new Hi(Z.max(),Q.empty(),Ao)}}function DC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==OC)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,i)=>{n(e)})}static reject(e){return new k((n,i)=>{i(e)})}static waitFor(e){return new k((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=k.resolve(!1);for(const i of e)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new k((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(e,n){return new k((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function VC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ta(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Sc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=-1;function Ac(t){return t==null}function zu(t){return t===0&&1/t==-1/0}function kC(t){return typeof t=="number"&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="";function PC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=t_(e)),e=LC(t.get(n),e);return t_(e)}function LC(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case OT:n+="";break;default:n+=s}}return n}function t_(t){return t+OT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ll(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ll(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ll(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ll(this.root,e,this.comparator,!0)}}class Ll{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??nt.RED,this.left=r??nt.EMPTY,this.right=s??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new nt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return nt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,i,r,s){return this}insert(e,n,i){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i_(this.data.getIterator())}getIteratorFrom(e){return new i_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class i_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Pt([])}unionWith(e){let n=new Ge(rt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Pt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VT("Invalid base64 string: "+s):s}}(e);return new at(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const UC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(t){if(me(!!t),typeof t=="string"){let e=0;const n=UC.exec(t);if(me(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gi(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="server_timestamp",PT="__type__",LT="__previous_value__",UT="__local_write_time__";function wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[PT])===null||n===void 0?void 0:n.stringValue)===kT}function wc(t){const e=t.mapValue.fields[LT];return wm(e)?wc(e):e}function wo(t){const e=Fi(t.mapValue.fields[UT].timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,i,r,s,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}const Bu="(default)";class Ro{constructor(e,n){this.projectId=e,this.database=n||Bu}static empty(){return new Ro("","")}get isDefaultDatabase(){return this.database===Bu}isEqual(e){return e instanceof Ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="__type__",zC="__max__",Ul={mapValue:{}},zT="__vector__",qu="value";function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wm(t)?4:qC(t)?9007199254740991:BC(t)?10:11:X()}function Tn(t,e){if(t===e)return!0;const n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wo(t).isEqual(wo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Fi(r.timestampValue),l=Fi(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Gi(r.bytesValue).isEqual(Gi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Pe(r.geoPointValue.latitude)===Pe(s.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Pe(r.integerValue)===Pe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Pe(r.doubleValue),l=Pe(s.doubleValue);return a===l?zu(a)===zu(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Us(t.arrayValue.values||[],e.arrayValue.values||[],Tn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(n_(a)!==n_(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Tn(a[u],l[u])))return!1;return!0}(t,e);default:return X()}}function Io(t,e){return(t.values||[]).find(n=>Tn(n,e))!==void 0}function js(t,e){if(t===e)return 0;const n=Ki(t),i=Ki(e);if(n!==i)return ue(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Pe(s.integerValue||s.doubleValue),u=Pe(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return r_(t.timestampValue,e.timestampValue);case 4:return r_(wo(t),wo(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Gi(s),u=Gi(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=ue(l[h],u[h]);if(d!==0)return d}return ue(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=ue(Pe(s.latitude),Pe(a.latitude));return l!==0?l:ue(Pe(s.longitude),Pe(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return s_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,h,d;const g=s.fields||{},m=a.fields||{},_=(l=g[qu])===null||l===void 0?void 0:l.arrayValue,C=(u=m[qu])===null||u===void 0?void 0:u.arrayValue,O=ue(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0);return O!==0?O:s_(_,C)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Ul.mapValue&&a===Ul.mapValue)return 0;if(s===Ul.mapValue)return 1;if(a===Ul.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=ue(u[g],d[g]);if(m!==0)return m;const _=js(l[u[g]],h[d[g]]);if(_!==0)return _}return ue(u.length,d.length)}(t.mapValue,e.mapValue);default:throw X()}}function r_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Fi(t),i=Fi(e),r=ue(n.seconds,i.seconds);return r!==0?r:ue(n.nanos,i.nanos)}function s_(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=js(n[r],i[r]);if(s)return s}return ue(n.length,i.length)}function zs(t){return id(t)}function id(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Fi(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=id(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${id(n.fields[a])}`;return r+"}"}(t.mapValue):X()}function tu(t){switch(Ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wc(t);return e?16+tu(e):16;case 5:return 2*t.stringValue.length;case 6:return Gi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+tu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Wi(i.fields,(s,a)=>{r+=s.length+tu(a)}),r}(t.mapValue);default:throw X()}}function a_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rd(t){return!!t&&"integerValue"in t}function Rm(t){return!!t&&"arrayValue"in t}function o_(t){return!!t&&"nullValue"in t}function l_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nu(t){return!!t&&"mapValue"in t}function BC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[jT])===null||n===void 0?void 0:n.stringValue)===zT}function no(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wi(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=no(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=no(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.value=e}static empty(){return new It({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!nu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=no(n)}setAll(e){let n=rt.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=no(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];nu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Wi(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new It(no(this.value))}}function BT(t){const e=[];return Wi(t.fields,(n,i)=>{const r=new rt([n]);if(nu(i)){const s=BT(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Pt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ft(e,0,Z.min(),Z.min(),Z.min(),It.empty(),0)}static newFoundDocument(e,n,i,r){return new ft(e,1,n,Z.min(),i,r,0)}static newNoDocument(e,n){return new ft(e,2,n,Z.min(),Z.min(),It.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,Z.min(),Z.min(),It.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=It.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=It.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.position=e,this.inclusive=n}}function u_(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=Q.comparator(Q.fromName(a.referenceValue),n.key):i=js(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function c_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function HC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{}class ze extends qT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new GC(e,n,i):n==="array-contains"?new YC(e,i):n==="in"?new $C(e,i):n==="not-in"?new XC(e,i):n==="array-contains-any"?new WC(e,i):new ze(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new KC(e,i):new QC(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class un extends qT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new un(e,n)}matches(e){return HT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function HT(t){return t.op==="and"}function FT(t){return FC(t)&&HT(t)}function FC(t){for(const e of t.filters)if(e instanceof un)return!1;return!0}function sd(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+zs(t.value);if(FT(t))return t.filters.map(e=>sd(e)).join(",");{const e=t.filters.map(n=>sd(n)).join(",");return`${t.op}(${e})`}}function GT(t,e){return t instanceof ze?function(i,r){return r instanceof ze&&i.op===r.op&&i.field.isEqual(r.field)&&Tn(i.value,r.value)}(t,e):t instanceof un?function(i,r){return r instanceof un&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&GT(a,r.filters[l]),!0):!1}(t,e):void X()}function KT(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(t):t instanceof un?function(n){return n.op.toString()+" {"+n.getFilters().map(KT).join(" ,")+"}"}(t):"Filter"}class GC extends ze{constructor(e,n,i){super(e,n,i),this.key=Q.fromName(i.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class KC extends ze{constructor(e,n){super(e,"in",n),this.keys=QT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QC extends ze{constructor(e,n){super(e,"not-in",n),this.keys=QT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class YC extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rm(n)&&Io(n.arrayValue,this.value)}}class $C extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Io(this.value.arrayValue,n)}}class XC extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Io(this.value.arrayValue,n)}}class WC extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Io(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.le=null}}function h_(t,e=null,n=[],i=[],r=null,s=null,a=null){return new ZC(t,e,n,i,r,s,a)}function Im(t){const e=J(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>sd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ac(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>zs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>zs(i)).join(",")),e.le=n}return e.le}function Cm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c_(t.startAt,e.startAt)&&c_(t.endAt,e.endAt)}function ad(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function JC(t,e,n,i,r,s,a,l){return new Yo(t,e,n,i,r,s,a,l)}function Nm(t){return new Yo(t)}function f_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YT(t){return t.collectionGroup!==null}function io(t){const e=J(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ge(rt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Fu(s,i))}),n.has(rt.keyField().canonicalString())||e.he.push(new Fu(rt.keyField(),i))}return e.he}function yn(t){const e=J(t);return e.Pe||(e.Pe=e2(e,io(t))),e.Pe}function e2(t,e){if(t.limitType==="F")return h_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Fu(r.field,s)});const n=t.endAt?new Hu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Hu(t.startAt.position,t.startAt.inclusive):null;return h_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function od(t,e){const n=t.filters.concat([e]);return new Yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ld(t,e,n){return new Yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rc(t,e){return Cm(yn(t),yn(e))&&t.limitType===e.limitType}function $T(t){return`${Im(yn(t))}|lt:${t.limitType}`}function ts(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>KT(r)).join(", ")}]`),Ac(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>zs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>zs(r)).join(",")),`Target(${i})`}(yn(t))}; limitType=${t.limitType})`}function Ic(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Q.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of io(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=u_(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,io(i),r)||i.endAt&&!function(a,l,u){const h=u_(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,io(i),r))}(t,e)}function t2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XT(t){return(e,n)=>{let i=!1;for(const r of io(t)){const s=n2(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function n2(t,e,n){const i=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?js(u,h):X()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return MT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new xe(Q.comparator);function Wn(){return i2}const WT=new xe(Q.comparator);function La(...t){let e=WT;for(const n of t)e=e.insert(n.key,n);return e}function ZT(t){let e=WT;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function fr(){return ro()}function JT(){return ro()}function ro(){return new jr(t=>t.toString(),(t,e)=>t.isEqual(e))}const r2=new xe(Q.comparator),s2=new Ge(Q.comparator);function ae(...t){let e=s2;for(const n of t)e=e.add(n);return e}const a2=new Ge(ue);function o2(){return a2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function eb(t){return{integerValue:""+t}}function l2(t,e){return kC(e)?eb(e):xm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this._=void 0}}function u2(t,e,n){return t instanceof Gu?function(r,s){const a={fields:{[PT]:{stringValue:kT},[UT]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&wm(s)&&(s=wc(s)),s&&(a.fields[LT]=s),{mapValue:a}}(n,e):t instanceof Co?nb(t,e):t instanceof No?ib(t,e):function(r,s){const a=tb(r,s),l=d_(a)+d_(r.Ie);return rd(a)&&rd(r.Ie)?eb(l):xm(r.serializer,l)}(t,e)}function c2(t,e,n){return t instanceof Co?nb(t,e):t instanceof No?ib(t,e):n}function tb(t,e){return t instanceof Ku?function(i){return rd(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Gu extends Cc{}class Co extends Cc{constructor(e){super(),this.elements=e}}function nb(t,e){const n=rb(e);for(const i of t.elements)n.some(r=>Tn(r,i))||n.push(i);return{arrayValue:{values:n}}}class No extends Cc{constructor(e){super(),this.elements=e}}function ib(t,e){let n=rb(e);for(const i of t.elements)n=n.filter(r=>!Tn(r,i));return{arrayValue:{values:n}}}class Ku extends Cc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function d_(t){return Pe(t.integerValue||t.doubleValue)}function rb(t){return Rm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function h2(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Co&&r instanceof Co||i instanceof No&&r instanceof No?Us(i.elements,r.elements,Tn):i instanceof Ku&&r instanceof Ku?Tn(i.Ie,r.Ie):i instanceof Gu&&r instanceof Gu}(t.transform,e.transform)}class f2{constructor(e,n){this.version=e,this.transformResults=n}}class on{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nc{}function sb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dm(t.key,on.none()):new $o(t.key,t.data,on.none());{const n=t.data,i=It.empty();let r=new Ge(rt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Zi(t.key,i,new Pt(r.toArray()),on.none())}}function d2(t,e,n){t instanceof $o?function(r,s,a){const l=r.value.clone(),u=g_(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(r,s,a){if(!iu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=g_(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(ab(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function so(t,e,n,i){return t instanceof $o?function(s,a,l,u){if(!iu(s.precondition,a))return l;const h=s.value.clone(),d=p_(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof Zi?function(s,a,l,u){if(!iu(s.precondition,a))return l;const h=p_(s.fieldTransforms,u,a),d=a.data;return d.setAll(ab(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(s,a,l){return iu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function m2(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=tb(i.transform,r||null);s!=null&&(n===null&&(n=It.empty()),n.set(i.field,s))}return n||null}function m_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Us(i,r,(s,a)=>h2(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $o extends Nc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zi extends Nc{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ab(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function g_(t,e,n){const i=new Map;me(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,c2(a,l,n[r]))}return i}function p_(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,u2(s,a,e))}return i}class Dm extends Nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g2 extends Nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&d2(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=so(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=so(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=JT();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=sb(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,i)=>m_(n,i))&&Us(this.baseMutations,e.baseMutations,(n,i)=>m_(n,i))}}class Om{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){me(e.mutations.length===i.length);let r=function(){return r2}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Om(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,ce;function v2(t){switch(t){case L.OK:return X();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return X()}}function ob(t){if(t===void 0)return Xn("GRPC error has no .code"),L.UNKNOWN;switch(t){case Le.OK:return L.OK;case Le.CANCELLED:return L.CANCELLED;case Le.UNKNOWN:return L.UNKNOWN;case Le.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Le.INTERNAL:return L.INTERNAL;case Le.UNAVAILABLE:return L.UNAVAILABLE;case Le.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Le.NOT_FOUND:return L.NOT_FOUND;case Le.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Le.ABORTED:return L.ABORTED;case Le.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Le.DATA_LOSS:return L.DATA_LOSS;default:return X()}}(ce=Le||(Le={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Li([4294967295,4294967295],0);function y_(t){const e=E2().encode(t),n=new AT;return n.update(e),new Uint8Array(n.digest())}function __(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Li([n,i],0),new Li([r,s],0)]}class Mm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ua(`Invalid padding: ${n}`);if(i<0)throw new Ua(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Li.fromNumber(this.Ee)}Ae(e,n,i){let r=e.add(n.multiply(Li.fromNumber(i)));return r.compare(T2)===1&&(r=new Li([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=y_(e),[i,r]=__(n);for(let s=0;s<this.hashCount;s++){const a=this.Ae(i,r,s);if(!this.Re(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Mm(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.Ee===0)return;const n=y_(e),[i,r]=__(n);for(let s=0;s<this.hashCount;s++){const a=this.Ae(i,r,s);this.Ve(a)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Xo.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new xc(Z.min(),r,new xe(ue),Wn(),ae())}}class Xo{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Xo(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,i,r){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=r}}class lb{constructor(e,n){this.targetId=e,this.ge=n}}class ub{constructor(e,n,i=at.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class v_{constructor(){this.pe=0,this.ye=E_(),this.we=at.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ae(),n=ae(),i=ae();return this.ye.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X()}}),new Xo(this.we,this.be,e,n,i)}Me(){this.Se=!1,this.ye=E_()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,me(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class b2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Wn(),this.$e=jl(),this.Ke=jl(),this.Ue=new xe(ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,r)=>{this.Je(r)&&n(r)})}Ze(e){const n=e.targetId,i=e.ge.count,r=this.Xe(n);if(r){const s=r.target;if(ad(s))if(i===0){const a=new Q(s.path);this.ze(n,a,ft.newNoDocument(a,Z.min()))}else me(i===1);else{const a=this.et(n);if(a!==i){const l=this.tt(e),u=l?this.nt(l,e,a):1;if(u!==0){this.Ye(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,h)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Gi(i).toUint8Array()}catch(u){if(u instanceof VT)return Ls("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Mm(a,r,s)}catch(u){return Ls(u instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ee===0?null:l}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.ke.it(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.ze(n,s,null),r++)}),r}ot(e){const n=new Map;this.qe.forEach((s,a)=>{const l=this.Xe(a);if(l){if(s.current&&ad(l.target)){const u=new Q(l.target.path);this._t(u).has(a)||this.ut(a,u)||this.ze(a,u,ft.newNoDocument(u,e))}s.ve&&(n.set(a,s.Fe()),s.Me())}});let i=ae();this.Ke.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.Xe(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.Qe.forEach((s,a)=>a.setReadTime(e));const r=new xc(e,n,this.Ue,this.Qe,i);return this.Qe=Wn(),this.$e=jl(),this.Ke=jl(),this.Ue=new xe(ue),r}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,n)?r.xe(n,1):r.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new v_,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ge(ue),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ge(ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new v_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function jl(){return new xe(Q.comparator)}function E_(){return new xe(Q.comparator)}const S2={asc:"ASCENDING",desc:"DESCENDING"},A2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w2={and:"AND",or:"OR"};class R2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ud(t,e){return t.useProto3Json||Ac(e)?e:{value:e}}function Qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I2(t,e){return Qu(t,e.toTimestamp())}function _n(t){return me(!!t),Z.fromTimestamp(function(n){const i=Fi(n);return new Fe(i.seconds,i.nanos)}(t))}function Vm(t,e){return cd(t,e).canonicalString()}function cd(t,e){const n=function(r){return new Se(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hb(t){const e=Se.fromString(t);return me(pb(e)),e}function hd(t,e){return Vm(t.databaseId,e.path)}function Wh(t,e){const n=hb(e);if(n.get(1)!==t.databaseId.projectId)throw new F(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(db(n))}function fb(t,e){return Vm(t.databaseId,e)}function C2(t){const e=hb(t);return e.length===4?Se.emptyPath():db(e)}function fd(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function db(t){return me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function T_(t,e,n){return{name:hd(t,e),fields:n.value.mapValue.fields}}function N2(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(me(d===void 0||typeof d=="string"),at.fromBase64String(d||"")):(me(d===void 0||d instanceof Buffer||d instanceof Uint8Array),at.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:ob(h.code);return new F(d,h.message||"")}(a);n=new ub(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Wh(t,i.document.name),s=_n(i.document.updateTime),a=i.document.createTime?_n(i.document.createTime):Z.min(),l=new It({mapValue:{fields:i.document.fields}}),u=ft.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new ru(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Wh(t,i.document),s=i.readTime?_n(i.readTime):Z.min(),a=ft.newNoDocument(r,s),l=i.removedTargetIds||[];n=new ru([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Wh(t,i.document),s=i.removedTargetIds||[];n=new ru([],s,r,null)}else{if(!("filter"in e))return X();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new _2(r,s),l=i.targetId;n=new lb(l,a)}}return n}function x2(t,e){let n;if(e instanceof $o)n={update:T_(t,e.key,e.value)};else if(e instanceof Dm)n={delete:hd(t,e.key)};else if(e instanceof Zi)n={update:T_(t,e.key,e.data),updateMask:j2(e.fieldMask)};else{if(!(e instanceof g2))return X();n={verify:hd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Gu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Co)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof No)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ku)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw X()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:I2(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function D2(t,e){return t&&t.length>0?(me(e!==void 0),t.map(n=>function(r,s){let a=r.updateTime?_n(r.updateTime):_n(s);return a.isEqual(Z.min())&&(a=_n(s)),new f2(a,r.transformResults||[])}(n,e))):[]}function O2(t,e){return{documents:[fb(t,e.path)]}}function M2(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=fb(t,r);const s=function(h){if(h.length!==0)return gb(un.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:ns(m.field),direction:P2(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=ud(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:n,parent:r}}function V2(t){let e=C2(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){me(i===1);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=mb(g);return m instanceof un&&FT(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(C){return new Fu(is(C.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,Ac(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new Hu(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new Hu(_,m)}(n.endAt)),JC(e,r,a,s,l,"F",u,h)}function k2(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=is(n.unaryFilter.field);return ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=is(n.unaryFilter.field);return ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=is(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=is(n.unaryFilter.field);return ze.create(a,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(is(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return un.create(n.compositeFilter.filters.map(i=>mb(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function P2(t){return S2[t]}function L2(t){return A2[t]}function U2(t){return w2[t]}function ns(t){return{fieldPath:t.canonicalString()}}function is(t){return rt.fromServerFormat(t.fieldPath)}function gb(t){return t instanceof ze?function(n){if(n.op==="=="){if(l_(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NAN"}};if(o_(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l_(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NAN"}};if(o_(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ns(n.field),op:L2(n.op),value:n.value}}}(t):t instanceof un?function(n){const i=n.getFilters().map(r=>gb(r));return i.length===1?i[0]:{compositeFilter:{op:U2(n.op),filters:i}}}(t):X()}function j2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,i,r,s=Z.min(),a=Z.min(),l=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.Tt=e}}function B2(t){const e=V2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.Tn=new H2}addToCollectionParentIndex(e,n){return this.Tn.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(Hi.min())}updateCollectionGroup(e,n,i){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class H2{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ge(Se.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ge(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yb=41943040;class Rt{static withCacheSize(e){return new Rt(e,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt.DEFAULT_COLLECTION_PERCENTILE=10,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rt.DEFAULT=new Rt(yb,Rt.DEFAULT_COLLECTION_PERCENTILE,Rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rt.DISABLED=new Rt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Bs(0)}static Un(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="LruGarbageCollector",F2=1048576;function A_([t,e],[n,i]){const r=ue(t,n);return r===0?ue(e,i):r}class G2{constructor(e){this.Hn=e,this.buffer=new Ge(A_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();A_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class K2{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){H(S_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ta(n)?H(S_,"Ignoring IndexedDB error during garbage collection: ",n):await ea(n)}await this.er(3e5)})}}class Q2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return k.resolve(Sc.ae);const i=new G2(n);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(b_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,a=Date.now(),this.nthSequenceNumber(e,r))).next(g=>(i=g,l=Date.now(),this.removeTargets(e,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(h=Date.now(),es()<=se.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:g})))}}function Y2(t,e){return new Q2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.changes=new jr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&so(i.mutation,r,Pt.empty(),Fe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=fr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=La();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=fr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=Wn();const a=ro(),l=function(){return ro()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Zi)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),so(d.mutation,h,d.mutation.getFieldMask(),Fe.now())):a.set(h.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new X2(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const i=ro();let r=new xe((a,l)=>a-l),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Pt.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(r.get(l.batchId)||ae()).add(u);r=r.insert(l.batchId,g)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=JT();d.forEach(m=>{if(!s.has(m)){const _=sb(n.get(m),i.get(m));_!==null&&g.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):k.resolve(fr());let l=Ao,u=s;return a.next(h=>k.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?k.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,ae())).next(d=>({batchId:l,changes:ZT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(i=>{let r=La();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=La();return this.indexManager.getCollectionParents(e,s).next(l=>k.forEach(l,u=>{const h=function(g,m){return new Yo(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,ft.newInvalidDocument(d)))});let l=La();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&so(d.mutation,h,Pt.empty(),Fe.now()),Ic(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return k.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:_n(r.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:B2(r.bundledQuery),readTime:_n(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.overlays=new xe(Q.comparator),this.Rr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const i=fr();return k.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.Et(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(i)),k.resolve()}getOverlaysForCollection(e,n,i){const r=fr(),s=n.length+1,a=new Q(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new xe((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=fr(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=fr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return k.resolve(l)}Et(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new y2(n,i));let s=this.Rr.get(n);s===void 0&&(s=ae(),this.Rr.set(n,s)),this.Rr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.Vr=new Ge(Qe.mr),this.gr=new Ge(Qe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Qe(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Qe(e,n))}br(e,n){e.forEach(i=>this.removeReference(i,n))}Sr(e){const n=new Q(new Se([])),i=new Qe(n,e),r=new Qe(n,e+1),s=[];return this.gr.forEachInRange([i,r],a=>{this.wr(a),s.push(a.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Q(new Se([])),i=new Qe(n,e),r=new Qe(n,e+1);let s=ae();return this.gr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Qe(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Qe{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Q.comparator(e.key,n.key)||ue(e.Cr,n.Cr)}static pr(e,n){return ue(e.Cr,n.Cr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ge(Qe.mr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new p2(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Mr=this.Mr.add(new Qe(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(e,n){return k.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Nr(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Am:this.Fr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Qe(n,0),r=new Qe(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([i,r],a=>{const l=this.Or(a.Cr);s.push(l)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ge(ue);return n.forEach(r=>{const s=new Qe(r,0),a=new Qe(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,a],l=>{i=i.add(l.Cr)})}),k.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;Q.isDocumentKey(s)||(s=s.child(""));const a=new Qe(new Q(s),0);let l=new Ge(ue);return this.Mr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Cr)),!0)},a),k.resolve(this.Br(l))}Br(e){const n=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){me(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return k.forEach(n.mutations,r=>{const s=new Qe(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Qe(n,0),r=this.Mr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.kr=e,this.docs=function(){return new xe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let i=Wn();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ft.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Wn();const a=n.path,l=new Q(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||DC(xC(d),i)<=0||(r.has(d.key)||Ic(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,n,i,r){X()}qr(e,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new iN(this)}getSize(e){return k.resolve(this.size)}}class iN extends $2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),k.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.persistence=e,this.Qr=new jr(n=>Im(n),Cm),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.$r=0,this.Kr=new km,this.targetCount=0,this.Ur=Bs.Kn()}forEachTarget(e,n){return this.Qr.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),k.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.zn(n),k.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Qr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Qr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return k.resolve(i)}addMatchingKeys(e,n,i){return this.Kr.yr(n,i),k.resolve()}removeMatchingKeys(e,n,i){this.Kr.br(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),k.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Kr.vr(n);return k.resolve(i)}containsKey(e,n){return k.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Sc(0),this.zr=!1,this.zr=!0,this.jr=new eN,this.referenceDelegate=e(this),this.Hr=new rN(this),this.indexManager=new q2,this.remoteDocumentCache=function(r){return new nN(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new z2(n),this.Yr=new Z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new tN(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){H("MemoryPersistence","Starting transaction:",e);const r=new sN(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(s=>this.referenceDelegate.Xr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}ei(e,n){return k.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class sN extends MC{constructor(e){super(),this.currentSequenceNumber=e}}class Pm{constructor(e){this.persistence=e,this.ti=new km,this.ni=null}static ri(e){return new Pm(e)}get ii(){if(this.ni)return this.ni;throw X()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),k.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),k.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.ii.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.ii,i=>{const r=Q.fromPath(i);return this.si(e,r).next(s=>{s||n.removeEntry(r,Z.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return k.or([()=>k.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Yu{constructor(e,n){this.persistence=e,this.oi=new jr(i=>PC(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Y2(this,n)}static ri(e,n){return new Yu(e,n)}Zr(){}Xr(e){return k.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return k.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(s=>s?k.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.qr(e,a=>this.ar(e,a,n).next(l=>{l||(i++,s.removeEntry(a,Z.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),k.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),k.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),k.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tu(e.data.value)),n}ar(e,n,i){return k.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.oi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=r}static Yi(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Lm(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return tI()?8:VC(gt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.rs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ss(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new aN;return this._s(e,n,a).next(l=>{if(s.result=l,this.Xi)return this.us(e,n,a,l.size)})}).next(()=>s.result)}us(e,n,i,r){return i.documentReadCount<this.es?(es()<=se.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),k.resolve()):(es()<=se.DEBUG&&H("QueryEngine","Query:",ts(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(es()<=se.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(n))):k.resolve())}rs(e,n){if(f_(n))return k.resolve(null);let i=yn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ld(n,null,"F"),i=yn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=ae(...s);return this.ns.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const h=this.cs(n,l);return this.ls(n,h,a,u.readTime)?this.rs(e,ld(n,null,"F")):this.hs(e,h,n,u)}))})))}ss(e,n,i,r){return f_(n)||r.isEqual(Z.min())?k.resolve(null):this.ns.getDocuments(e,i).next(s=>{const a=this.cs(n,s);return this.ls(n,a,i,r)?k.resolve(null):(es()<=se.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ts(n)),this.hs(e,a,n,NC(r,Ao)).next(l=>l))})}cs(e,n){let i=new Ge(XT(e));return n.forEach((r,s)=>{Ic(e,s)&&(i=i.add(s))}),i}ls(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}_s(e,n,i){return es()<=se.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ts(n)),this.ns.getDocumentsMatchingQuery(e,n,Hi.min(),i)}hs(e,n,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="LocalStore",lN=3e8;class uN{constructor(e,n,i,r){this.persistence=e,this.Ps=n,this.serializer=r,this.Ts=new xe(ue),this.Is=new jr(s=>Im(s),Cm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function cN(t,e,n,i){return new uN(t,e,n,i)}async function vb(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=ae();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Rs:h,removedBatchIds:a,addedBatchIds:l}))})})}function hN(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let _=k.resolve();return m.forEach(C=>{_=_.next(()=>d.getEntry(u,C)).next(O=>{const M=h.docVersions.get(C);me(M!==null),O.version.compareTo(M)<0&&(g.applyToRemoteDocument(O,h),O.isValidDocument()&&(O.setReadTime(h.commitVersion),d.addEntry(O)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ae();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function Eb(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function fN(t,e){const n=J(t),i=e.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const l=[];e.targetChanges.forEach((d,g)=>{const m=r.get(g);if(!m)return;l.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,g)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(at.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(g,_),function(O,M,S){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=lN?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,_,d)&&l.push(n.Hr.updateTargetData(s,_))});let u=Wn(),h=ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(dN(s,a,e.documentUpdates).next(d=>{u=d.Vs,h=d.fs})),!i.isEqual(Z.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(g=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return k.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Ts=r,s))}function dN(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=Wn();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):H(Um,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Vs:a,fs:r}})}function mN(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Am),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function gN(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Hr.getTargetData(i,e).next(s=>s?(r=s,k.resolve(r)):n.Hr.allocateTargetId(i).next(a=>(r=new wi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function dd(t,e,n){const i=J(t),r=i.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ta(a))throw a;H(Um,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function w_(t,e,n){const i=J(t);let r=Z.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=J(u),m=g.Is.get(d);return m!==void 0?k.resolve(g.Ts.get(m)):g.Hr.getTargetData(h,d)}(i,a,yn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Ps.getDocumentsMatchingQuery(a,e,n?r:Z.min(),n?s:ae())).next(l=>(pN(i,t2(e),l),{documents:l,gs:s})))}function pN(t,e,n){let i=t.Es.get(e)||Z.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Es.set(e,i)}class R_{constructor(){this.activeTargetIds=o2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yN{constructor(){this.ho=new R_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new R_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="ConnectivityMonitor";class C_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){H(I_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){H(I_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl=null;function md(){return zl===null?zl=function(){return 268435456+Math.round(2147483648*Math.random())}():zl++,"0x"+zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="RestConnection",vN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===Bu?`project_id=${i}`:`project_id=${i}&database_id=${r}`}bo(e,n,i,r,s){const a=md(),l=this.So(e,n.toUriEncodedString());H(Zh,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,r,s),this.vo(e,l,u,i).then(h=>(H(Zh,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Ls(Zh,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Co(e,n,i,r,s,a){return this.bo(e,n,i,r,s)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}So(e,n){const i=vN[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="WebChannelConnection";class bN extends EN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,r){const s=md();return new Promise((a,l)=>{const u=new wT;u.setWithCredentials(!0),u.listenOnce(RT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case eu.NO_ERROR:const d=u.getResponseJson();H(ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case eu.TIMEOUT:H(ct,`RPC '${e}' ${s} timed out`),l(new F(L.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:const g=u.getStatus();if(H(ct,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const C=function(M){const S=M.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(S)>=0?S:L.UNKNOWN}(_.status);l(new F(C,_.message))}else l(new F(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new F(L.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{H(ct,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(r);H(ct,`RPC '${e}' ${s} sending request:`,r),u.send(n,"POST",h,i,15)})}Wo(e,n,i){const r=md(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=NT(),l=CT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");H(ct,`Creating RPC '${e}' stream ${r}: ${d}`,u);const g=a.createWebChannel(d,u);let m=!1,_=!1;const C=new TN({Fo:M=>{_?H(ct,`Not sending because RPC '${e}' stream ${r} is closed:`,M):(m||(H(ct,`Opening RPC '${e}' stream ${r} transport.`),g.open(),m=!0),H(ct,`RPC '${e}' stream ${r} sending:`,M),g.send(M))},Mo:()=>g.close()}),O=(M,S,E)=>{M.listen(S,A=>{try{E(A)}catch(N){setTimeout(()=>{throw N},0)}})};return O(g,Pa.EventType.OPEN,()=>{_||(H(ct,`RPC '${e}' stream ${r} transport opened.`),C.Qo())}),O(g,Pa.EventType.CLOSE,()=>{_||(_=!0,H(ct,`RPC '${e}' stream ${r} transport closed`),C.Ko())}),O(g,Pa.EventType.ERROR,M=>{_||(_=!0,Ls(ct,`RPC '${e}' stream ${r} transport errored:`,M),C.Ko(new F(L.UNAVAILABLE,"The operation could not be completed")))}),O(g,Pa.EventType.MESSAGE,M=>{var S;if(!_){const E=M.data[0];me(!!E);const A=E,N=(A==null?void 0:A.error)||((S=A[0])===null||S===void 0?void 0:S.error);if(N){H(ct,`RPC '${e}' stream ${r} received error:`,N);const U=N.status;let j=function(b){const w=Le[b];if(w!==void 0)return ob(w)}(U),T=N.message;j===void 0&&(j=L.INTERNAL,T="Unknown error status: "+U+" with message "+N.message),_=!0,C.Ko(new F(j,T)),g.close()}else H(ct,`RPC '${e}' stream ${r} received:`,E),C.Uo(E)}}),O(l,IT.STAT_EVENT,M=>{M.stat===nd.PROXY?H(ct,`RPC '${e}' stream ${r} detected buffering proxy`):M.stat===nd.NOPROXY&&H(ct,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function Jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){return new R2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=r,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-i);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="PersistentStream";class bb{constructor(e,n,i,r,s,a,l,u){this.Ti=e,this.n_=i,this.r_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Tb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===n&&this.V_(i,r)},i=>{e(()=>{const r=new F(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return H(N_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(H(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SN extends bb{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=N2(this.serializer,e),i=function(s){if(!("targetChange"in s))return Z.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Z.min():a.readTime?_n(a.readTime):Z.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=fd(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=ad(u)?{documents:O2(s,u)}:{query:M2(s,u).ht},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=cb(s,a.resumeToken);const h=ud(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(Z.min())>0){l.readTime=Qu(s,a.snapshotVersion.toTimestamp());const h=ud(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=k2(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=fd(this.serializer),n.removeTarget=e,this.I_(n)}}class AN extends bb{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return me(!!e.streamToken),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=D2(e.writeResults,e.commitTime),i=_n(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=fd(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>x2(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{}class RN extends wN{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new F(L.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.bo(e,cd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(L.UNKNOWN,s.toString())})}Co(e,n,i,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Co(e,cd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(L.UNKNOWN,a.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class IN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xn(n),this.N_=!1):H("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="RemoteStore";class CN{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(a=>{i.enqueueAndForget(async()=>{zr(this)&&(H(xr,"Restarting streams for network reachability change."),await async function(u){const h=J(u);h.W_.add(4),await Wo(h),h.j_.set("Unknown"),h.W_.delete(4),await Oc(h)}(this))})}),this.j_=new IN(i,r)}}async function Oc(t){if(zr(t))for(const e of t.G_)await e(!0)}async function Wo(t){for(const e of t.G_)await e(!1)}function Sb(t,e){const n=J(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),qm(n)?Bm(n):na(n).c_()&&zm(n,e))}function jm(t,e){const n=J(t),i=na(n);n.U_.delete(e),i.c_()&&Ab(n,e),n.U_.size===0&&(i.c_()?i.P_():zr(n)&&n.j_.set("Unknown"))}function zm(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}na(t).y_(e)}function Ab(t,e){t.H_.Ne(e),na(t).w_(e)}function Bm(t){t.H_=new b2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),na(t).start(),t.j_.B_()}function qm(t){return zr(t)&&!na(t).u_()&&t.U_.size>0}function zr(t){return J(t).W_.size===0}function wb(t){t.H_=void 0}async function NN(t){t.j_.set("Online")}async function xN(t){t.U_.forEach((e,n)=>{zm(t,e)})}async function DN(t,e){wb(t),qm(t)?(t.j_.q_(e),Bm(t)):t.j_.set("Unknown")}async function ON(t,e,n){if(t.j_.set("Online"),e instanceof ub&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.U_.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.U_.delete(l),r.H_.removeTarget(l))}(t,e)}catch(i){H(xr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await $u(t,i)}else if(e instanceof ru?t.H_.We(e):e instanceof lb?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Z.min()))try{const i=await Eb(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.H_.ot(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.U_.get(h);d&&s.U_.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.U_.get(u);if(!d)return;s.U_.set(u,d.withResumeToken(at.EMPTY_BYTE_STRING,d.snapshotVersion)),Ab(s,u);const g=new wi(d.target,u,h,d.sequenceNumber);zm(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){H(xr,"Failed to raise snapshot:",i),await $u(t,i)}}async function $u(t,e,n){if(!ta(e))throw e;t.W_.add(1),await Wo(t),t.j_.set("Offline"),n||(n=()=>Eb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(xr,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Oc(t)})}function Rb(t,e){return e().catch(n=>$u(t,n,e))}async function Mc(t){const e=J(t),n=Qi(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Am;for(;MN(e);)try{const r=await mN(e.localStore,i);if(r===null){e.K_.length===0&&n.P_();break}i=r.batchId,VN(e,r)}catch(r){await $u(e,r)}Ib(e)&&Cb(e)}function MN(t){return zr(t)&&t.K_.length<10}function VN(t,e){t.K_.push(e);const n=Qi(t);n.c_()&&n.b_&&n.S_(e.mutations)}function Ib(t){return zr(t)&&!Qi(t).u_()&&t.K_.length>0}function Cb(t){Qi(t).start()}async function kN(t){Qi(t).C_()}async function PN(t){const e=Qi(t);for(const n of t.K_)e.S_(n.mutations)}async function LN(t,e,n){const i=t.K_.shift(),r=Om.from(i,e,n);await Rb(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Mc(t)}async function UN(t,e){e&&Qi(t).b_&&await async function(i,r){if(function(a){return v2(a)&&a!==L.ABORTED}(r.code)){const s=i.K_.shift();Qi(i).h_(),await Rb(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Mc(i)}}(t,e),Ib(t)&&Cb(t)}async function x_(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),H(xr,"RemoteStore received new credentials");const i=zr(n);n.W_.add(3),await Wo(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Oc(n)}async function jN(t,e){const n=J(t);e?(n.W_.delete(2),await Oc(n)):e||(n.W_.add(2),await Wo(n),n.j_.set("Unknown"))}function na(t){return t.J_||(t.J_=function(n,i,r){const s=J(n);return s.M_(),new SN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{xo:NN.bind(null,t),No:xN.bind(null,t),Lo:DN.bind(null,t),p_:ON.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),qm(t)?Bm(t):t.j_.set("Unknown")):(await t.J_.stop(),wb(t))})),t.J_}function Qi(t){return t.Y_||(t.Y_=function(n,i,r){const s=J(n);return s.M_(),new AN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:kN.bind(null,t),Lo:UN.bind(null,t),D_:PN.bind(null,t),v_:LN.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Mc(t)):(await t.Y_.stop(),t.K_.length>0&&(H(xr,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new Hm(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),ta(t))return new F(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{static emptySet(e){return new Ss(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=La(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ss)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ss;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.Z_=new xe(Q.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):X():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class qs{constructor(e,n,i,r,s,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new qs(e,n,Ss.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class BN{constructor(){this.queries=O_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const r=J(n),s=r.queries;r.queries=O_(),s.forEach((a,l)=>{for(const u of l.ta)u.onError(i)})})(this,new F(L.ABORTED,"Firestore shutting down"))}}function O_(){return new jr(t=>$T(t),Rc)}async function Nb(t,e){const n=J(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.na()&&e.ra()&&(i=2):(s=new zN,i=e.ra()?0:1);try{switch(i){case 0:s.ea=await n.onListen(r,!0);break;case 1:s.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Fm(a,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&Gm(n)}async function xb(t,e){const n=J(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.ta.indexOf(e);a>=0&&(s.ta.splice(a,1),s.ta.length===0?r=e.ra()?0:1:!s.na()&&e.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function qN(t,e){const n=J(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.ta)l.oa(r)&&(i=!0);a.ea=r}}i&&Gm(n)}function HN(t,e,n){const i=J(t),r=i.queries.get(e);if(r)for(const s of r.ta)s.onError(n);i.queries.delete(e)}function Gm(t){t.ia.forEach(e=>{e.next()})}var gd,M_;(M_=gd||(gd={}))._a="default",M_.Cache="cache";class Db{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new qs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.key=e}}class Mb{constructor(e){this.key=e}}class FN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ae(),this.mutatedKeys=ae(),this.ya=XT(e),this.wa=new Ss(this.ya)}get ba(){return this.fa}Sa(e,n){const i=n?n.Da:new D_,r=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,g)=>{const m=r.get(d),_=Ic(this.query,g)?g:null,C=!!m&&this.mutatedKeys.has(m.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let M=!1;m&&_?m.data.isEqual(_.data)?C!==O&&(i.track({type:3,doc:_}),M=!0):this.va(m,_)||(i.track({type:2,doc:_}),M=!0,(u&&this.ya(_,u)>0||h&&this.ya(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),M=!0):m&&!_&&(i.track({type:1,doc:m}),M=!0,(u||h)&&(l=!0)),M&&(_?(a=a.add(_),s=O?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{wa:a,Da:i,ls:l,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort((d,g)=>function(_,C){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return O(_)-O(C)}(d.type,g.type)||this.ya(d.doc,g.doc)),this.Ca(i),r=r!=null&&r;const l=n&&!r?this.Fa():[],u=this.pa.size===0&&this.current&&!r?1:0,h=u!==this.ga;return this.ga=u,a.length!==0||h?{snapshot:new qs(this.query,e.wa,s,a,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new D_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ae(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new Mb(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new Ob(i))}),n}Oa(e){this.fa=e.gs,this.pa=ae();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return qs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Km="SyncEngine";class GN{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class KN{constructor(e){this.key=e,this.Ba=!1}}class QN{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new jr(l=>$T(l),Rc),this.qa=new Map,this.Qa=new Set,this.$a=new xe(Q.comparator),this.Ka=new Map,this.Ua=new km,this.Wa={},this.Ga=new Map,this.za=Bs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function YN(t,e,n=!0){const i=jb(t);let r;const s=i.ka.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Na()):r=await Vb(i,e,n,!0),r}async function $N(t,e){const n=jb(t);await Vb(n,e,!0,!1)}async function Vb(t,e,n,i){const r=await gN(t.localStore,yn(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await XN(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&Sb(t.remoteStore,r),l}async function XN(t,e,n,i,r){t.Ha=(g,m,_)=>async function(O,M,S,E){let A=M.view.Sa(S);A.ls&&(A=await w_(O.localStore,M.query,!1).then(({documents:T})=>M.view.Sa(T,A)));const N=E&&E.targetChanges.get(M.targetId),U=E&&E.targetMismatches.get(M.targetId)!=null,j=M.view.applyChanges(A,O.isPrimaryClient,N,U);return k_(O,M.targetId,j.Ma),j.snapshot}(t,g,m,_);const s=await w_(t.localStore,e,!0),a=new FN(e,s.gs),l=a.Sa(s.documents),u=Xo.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),h=a.applyChanges(l,t.isPrimaryClient,u);k_(t,n,h.Ma);const d=new GN(e,n,a);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),h.snapshot}async function WN(t,e,n){const i=J(t),r=i.ka.get(e),s=i.qa.get(r.targetId);if(s.length>1)return i.qa.set(r.targetId,s.filter(a=>!Rc(a,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await dd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&jm(i.remoteStore,r.targetId),pd(i,r.targetId)}).catch(ea)):(pd(i,r.targetId),await dd(i.localStore,r.targetId,!0))}async function ZN(t,e){const n=J(t),i=n.ka.get(e),r=n.qa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),jm(n.remoteStore,i.targetId))}async function JN(t,e,n){const i=ax(t);try{const r=await function(a,l){const u=J(a),h=Fe.now(),d=l.reduce((_,C)=>_.add(C.key),ae());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=Wn(),O=ae();return u.ds.getEntries(_,d).next(M=>{C=M,C.forEach((S,E)=>{E.isValidDocument()||(O=O.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,C)).next(M=>{g=M;const S=[];for(const E of l){const A=m2(E,g.get(E.key).overlayedDocument);A!=null&&S.push(new Zi(E.key,A,BT(A.value.mapValue),on.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,S,l)}).next(M=>{m=M;const S=M.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(_,M.batchId,S)})}).then(()=>({batchId:m.batchId,changes:ZT(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Wa[a.currentUser.toKey()];h||(h=new xe(ue)),h=h.insert(l,u),a.Wa[a.currentUser.toKey()]=h}(i,r.batchId,n),await Zo(i,r.changes),await Mc(i.remoteStore)}catch(r){const s=Fm(r,"Failed to persist write");n.reject(s)}}async function kb(t,e){const n=J(t);try{const i=await fN(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Ka.get(s);a&&(me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.Ba=!0:r.modifiedDocuments.size>0?me(a.Ba):r.removedDocuments.size>0&&(me(a.Ba),a.Ba=!1))}),await Zo(n,i,e)}catch(i){await ea(i)}}function V_(t,e,n){const i=J(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ka.forEach((s,a)=>{const l=a.view.sa(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=J(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.ta)m.sa(l)&&(h=!0)}),h&&Gm(u)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ex(t,e,n){const i=J(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Ka.get(e),s=r&&r.key;if(s){let a=new xe(Q.comparator);a=a.insert(s,ft.newNoDocument(s,Z.min()));const l=ae().add(s),u=new xc(Z.min(),new Map,new xe(ue),a,l);await kb(i,u),i.$a=i.$a.remove(s),i.Ka.delete(e),Qm(i)}else await dd(i.localStore,e,!1).then(()=>pd(i,e,n)).catch(ea)}async function tx(t,e){const n=J(t),i=e.batch.batchId;try{const r=await hN(n.localStore,e);Lb(n,i,null),Pb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Zo(n,r)}catch(r){await ea(r)}}async function nx(t,e,n){const i=J(t);try{const r=await function(a,l){const u=J(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(me(g!==null),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,e);Lb(i,e,n),Pb(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Zo(i,r)}catch(r){await ea(r)}}function Pb(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function Lb(t,e,n){const i=J(t);let r=i.Wa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function pd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(i=>{t.Ua.containsKey(i)||Ub(t,i)})}function Ub(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(jm(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Qm(t))}function k_(t,e,n){for(const i of n)i instanceof Ob?(t.Ua.addReference(i.key,e),ix(t,i)):i instanceof Mb?(H(Km,"Document no longer in limbo: "+i.key),t.Ua.removeReference(i.key,e),t.Ua.containsKey(i.key)||Ub(t,i.key)):X()}function ix(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(H(Km,"New document in limbo: "+n),t.Qa.add(i),Qm(t))}function Qm(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Q(Se.fromString(e)),i=t.za.next();t.Ka.set(i,new KN(n)),t.$a=t.$a.insert(n,i),Sb(t.remoteStore,new wi(yn(Nm(n.path)),i,"TargetPurposeLimboResolution",Sc.ae))}}async function Zo(t,e,n){const i=J(t),r=[],s=[],a=[];i.ka.isEmpty()||(i.ka.forEach((l,u)=>{a.push(i.Ha(u,e,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){r.push(h);const g=Lm.Yi(u.targetId,h);s.push(g)}}))}),await Promise.all(a),i.La.p_(r),await async function(u,h){const d=J(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>k.forEach(h,m=>k.forEach(m.Hi,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>k.forEach(m.Ji,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!ta(g))throw g;H(Um,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.Ts.get(m),C=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(C);d.Ts=d.Ts.insert(m,O)}}}(i.localStore,s))}async function rx(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){H(Km,"User change. New user:",e.toKey());const i=await vb(n.localStore,e);n.currentUser=e,function(s,a){s.Ga.forEach(l=>{l.forEach(u=>{u.reject(new F(L.CANCELLED,a))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Zo(n,i.Rs)}}function sx(t,e){const n=J(t),i=n.Ka.get(e);if(i&&i.Ba)return ae().add(i.key);{let r=ae();const s=n.qa.get(e);if(!s)return r;for(const a of s){const l=n.ka.get(a);r=r.unionWith(l.view.ba)}return r}}function jb(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ex.bind(null,e),e.La.p_=qN.bind(null,e.eventManager),e.La.Ja=HN.bind(null,e.eventManager),e}function ax(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nx.bind(null,e),e}class Xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return cN(this.persistence,new oN,e.initialUser,this.serializer)}Xa(e){return new _b(Pm.ri,this.serializer)}Za(e){return new yN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xu.provider={build:()=>new Xu};class ox extends Xu{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){me(this.persistence.referenceDelegate instanceof Yu);const i=this.persistence.referenceDelegate.garbageCollector;return new K2(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Rt.withCacheSize(this.cacheSizeBytes):Rt.DEFAULT;return new _b(i=>Yu.ri(i,n),this.serializer)}}class yd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>V_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rx.bind(null,this.syncEngine),await jN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BN}()}createDatastore(e){const n=Dc(e.databaseInfo.databaseId),i=function(s){return new bN(s)}(e.databaseInfo);return function(s,a,l,u){return new RN(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new CN(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>V_(this.syncEngine,n,0),function(){return C_.D()?new C_:new _N}())}createSyncEngine(e,n){return function(r,s,a,l,u,h,d){const g=new QN(r,s,a,l,u,h);return d&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=J(r);H(xr,"RemoteStore shutting down."),s.W_.add(5),await Wo(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yd.provider={build:()=>new yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="FirestoreClient";class lx{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ht.UNAUTHENTICATED,this.clientId=DT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{H(Yi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(Yi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Fm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ef(t,e){t.asyncQueue.verifyOperationInProgress(),H(Yi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await vb(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ux(t);H(Yi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>x_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>x_(e.remoteStore,r)),t._onlineComponents=e}async function ux(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Yi,"Using user provided OfflineComponentProvider");try{await ef(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===L.FAILED_PRECONDITION||r.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await ef(t,new Xu)}}else H(Yi,"Using default OfflineComponentProvider"),await ef(t,new ox(void 0));return t._offlineComponents}async function Bb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Yi,"Using user provided OnlineComponentProvider"),await P_(t,t._uninitializedComponentsProvider._online)):(H(Yi,"Using default OnlineComponentProvider"),await P_(t,new yd))),t._onlineComponents}function cx(t){return Bb(t).then(e=>e.syncEngine)}async function qb(t){const e=await Bb(t),n=e.eventManager;return n.onListen=YN.bind(null,e.syncEngine),n.onUnlisten=WN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$N.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZN.bind(null,e.syncEngine),n}function hx(t,e,n={}){const i=new Hn;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new zb({next:m=>{d.su(),a.enqueueAndForget(()=>xb(s,g));const _=m.docs.has(l);!_&&m.fromCache?h.reject(new F(L.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?h.reject(new F(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new Db(Nm(l.path),d,{includeMetadataChanges:!0,Ta:!0});return Nb(s,g)}(await qb(t),t.asyncQueue,e,n,i)),i.promise}function fx(t,e,n={}){const i=new Hn;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new zb({next:m=>{d.su(),a.enqueueAndForget(()=>xb(s,g)),m.fromCache&&u.source==="server"?h.reject(new F(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new Db(l,d,{includeMetadataChanges:!0,Ta:!0});return Nb(s,g)}(await qb(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e,n){if(!n)throw new F(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dx(t,e,n,i){if(e===!0&&i===!0)throw new F(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U_(t){if(!Q.isDocumentKey(t))throw new F(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j_(t){if(Q.isDocumentKey(t))throw new F(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vc(t);throw new F(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firestore.googleapis.com",z_=!0;class B_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new F(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gb,this.ssl=z_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:z_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F2)throw new F(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kc{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new TC;switch(i.type){case"firstParty":return new wC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=L_.get(n);i&&(H("ComponentProvider","Removing Datastore"),L_.delete(n),i.terminate())}(this),Promise.resolve()}}function mx(t,e,n,i={}){var r;const s=(t=Zn(t,kc))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s.host!==Gb&&s.host!==l&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:!1,emulatorOptions:i});if(!Ir(u,a)&&(t._setSettings(u),i.mockUserToken)){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=ht.MOCK_USER;else{h=YR(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new F(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ht(g)}t._authCredentials=new bC(new xT(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ia(this.firestore,e,this._query)}}class Ct{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}}class Ui extends ia{constructor(e,n,i){super(e,n,Nm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new Q(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function Er(t,e,...n){if(t=Ze(t),Fb("collection","path",e),t instanceof kc){const i=Se.fromString(e,...n);return j_(i),new Ui(t,null,i)}{if(!(t instanceof Ct||t instanceof Ui))throw new F(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Se.fromString(e,...n));return j_(i),new Ui(t.firestore,null,i)}}function Hs(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=DT.newId()),Fb("doc","path",e),t instanceof kc){const i=Se.fromString(e,...n);return U_(i),new Ct(t,null,new Q(i))}{if(!(t instanceof Ct||t instanceof Ui))throw new F(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Se.fromString(e,...n));return U_(i),new Ct(t.firestore,t instanceof Ui?t.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Tb(this,"async_queue_retry"),this.bu=()=>{const i=Jh();i&&H(q_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const n=Jh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Jh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Hn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ta(e))throw e;H(q_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw Xn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.Su=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const r=Hm.createAndSchedule(this,e,n,i,s=>this.Fu(s));return this.fu.push(r),r}Du(){this.gu&&X()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ra extends kc{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new H_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function gx(t,e){const n=typeof t=="object"?t:TT(),i=typeof t=="string"?t:Bu,r=bm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=KR("firestore");s&&mx(r,...s)}return r}function Ym(t){if(t._terminated)throw new F(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||px(t),t._firestoreClient}function px(t){var e,n,i;const r=t._freezeSettings(),s=function(l,u,h,d){return new jC(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Hb(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new lx(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fs(at.fromBase64String(e))}catch(n){throw new F(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fs(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=/^__.*__$/;class _x{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new $o(e,this.data,n,this.fieldTransforms)}}class Kb{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Zm{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Ku(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Wu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Qb(this.Lu)&&yx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class vx{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Dc(e)}ju(e,n,i,r=!1){return new Zm({Lu:e,methodName:n,zu:i,path:rt.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(t){const e=t._freezeSettings(),n=Dc(t._databaseId);return new vx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ex(t,e,n,i,r,s={}){const a=t.ju(s.merge||s.mergeFields?2:0,e,n,r);eg("Data must be an object, but it was:",a,i);const l=Yb(i,a);let u,h;if(s.merge)u=new Pt(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=_d(e,g,n);if(!a.contains(m))throw new F(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Xb(d,m)||d.push(m)}u=new Pt(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new _x(new It(l),u,h)}class Lc extends $m{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lc}}function Tx(t,e,n,i){const r=t.ju(1,e,n);eg("Data must be an object, but it was:",r,i);const s=[],a=It.empty();Wi(i,(u,h)=>{const d=tg(e,u,n);h=Ze(h);const g=r.Ku(d);if(h instanceof Lc)s.push(d);else{const m=Jo(h,g);m!=null&&(s.push(d),a.set(d,m))}});const l=new Pt(s);return new Kb(a,l,r.fieldTransforms)}function bx(t,e,n,i,r,s){const a=t.ju(1,e,n),l=[_d(e,i,n)],u=[r];if(s.length%2!=0)throw new F(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(_d(e,s[m])),u.push(s[m+1]);const h=[],d=It.empty();for(let m=l.length-1;m>=0;--m)if(!Xb(h,l[m])){const _=l[m];let C=u[m];C=Ze(C);const O=a.Ku(_);if(C instanceof Lc)h.push(_);else{const M=Jo(C,O);M!=null&&(h.push(_),d.set(_,M))}}const g=new Pt(h);return new Kb(d,g,a.fieldTransforms)}function Sx(t,e,n,i=!1){return Jo(n,t.ju(i?4:3,e))}function Jo(t,e){if($b(t=Ze(t)))return eg("Unsupported field value:",e,t),Yb(t,e);if(t instanceof $m)return function(i,r){if(!Qb(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Jo(l,r.Uu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Ze(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return l2(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Fe.fromDate(i);return{timestampValue:Qu(r.serializer,s)}}if(i instanceof Fe){const s=new Fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qu(r.serializer,s)}}if(i instanceof Xm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fs)return{bytesValue:cb(r.serializer,i._byteString)};if(i instanceof Ct){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Wu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Wm)return function(a,l){return{mapValue:{fields:{[jT]:{stringValue:zT},[qu]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.Wu("VectorValues must only contain numeric values.");return xm(l.serializer,h)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${Vc(i)}`)}(t,e)}function Yb(t,e){const n={};return MT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(t,(i,r)=>{const s=Jo(r,e.qu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function $b(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof Xm||t instanceof Fs||t instanceof Ct||t instanceof $m||t instanceof Wm)}function eg(t,e,n){if(!$b(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Vc(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function _d(t,e,n){if((e=Ze(e))instanceof Pc)return e._internalPath;if(typeof e=="string")return tg(t,e);throw Wu("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ax=new RegExp("[~\\*/\\[\\]]");function tg(t,e,n){if(e.search(Ax)>=0)throw Wu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pc(...e.split("."))._internalPath}catch{throw Wu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wu(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new F(L.INVALID_ARGUMENT,l+t+u)}function Xb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ng("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wx extends Wb{data(){return super.data()}}function ng(t,e){return typeof e=="string"?tg(t,e):e instanceof Pc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class Ix extends ig{}function xo(t,e,...n){let i=[];e instanceof ig&&i.push(e),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof rg).length,l=s.filter(u=>u instanceof Uc).length;if(a>1||a>0&&l>0)throw new F(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Uc extends Ix{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Uc(e,n,i)}_apply(e){const n=this._parse(e);return Zb(e._query,n),new ia(e.firestore,e.converter,od(e._query,n))}_parse(e){const n=Jm(e.firestore);return function(s,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new F(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){G_(g,d);const C=[];for(const O of g)C.push(F_(u,s,O));m={arrayValue:{values:C}}}else m=F_(u,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||G_(g,d),m=Sx(l,a,g,d==="in"||d==="not-in");return ze.create(h,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tr(t,e,n){const i=e,r=ng("where",t);return Uc._create(r,i,n)}class rg extends ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)Zb(a,u),a=od(a,u)}(e._query,n),new ia(e.firestore,e.converter,od(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function F_(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new F(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YT(e)&&n.indexOf("/")!==-1)throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Se.fromString(n));if(!Q.isDocumentKey(i))throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return a_(t,new Q(i))}if(n instanceof Ct)return a_(t,n._key);throw new F(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vc(n)}.`)}function G_(t,e){if(!Array.isArray(t)||t.length===0)throw new F(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zb(t,e){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Cx{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Wi(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[qu].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>Pe(a.doubleValue));return new Wm(s)}convertGeoPoint(e){return new Xm(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=wc(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(wo(e));default:return null}}convertTimestamp(e){const n=Fi(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Se.fromString(e);me(pb(i));const r=new Ro(i.get(1),i.get(3)),s=new Q(i.popFirst(5));return r.isEqual(n)||Xn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jb extends Wb{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ng("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class su extends Jb{data(e={}){return super.data(e)}}class xx{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ja(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new su(this._firestore,this._userDataWriter,i.key,i,new ja(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new su(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ja(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new su(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ja(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:Dx(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Dx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){t=Zn(t,Ct);const e=Zn(t.firestore,ra);return hx(Ym(e),t._key).then(n=>Mx(e,t,n))}class eS extends Cx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function Do(t){t=Zn(t,ia);const e=Zn(t.firestore,ra),n=Ym(e),i=new eS(e);return Rx(t._query),fx(n,t._query).then(r=>new xx(e,i,t,r))}function tS(t,e,n,...i){t=Zn(t,Ct);const r=Zn(t.firestore,ra),s=Jm(r);let a;return a=typeof(e=Ze(e))=="string"||e instanceof Pc?bx(s,"updateDoc",t._key,e,n,i):Tx(s,"updateDoc",t._key,e),sg(r,[a.toMutation(t._key,on.exists(!0))])}function Ox(t){return sg(Zn(t.firestore,ra),[new Dm(t._key,on.none())])}function nS(t,e){const n=Zn(t.firestore,ra),i=Hs(t),r=Nx(t.converter,e);return sg(n,[Ex(Jm(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,on.exists(!1))]).then(()=>i)}function sg(t,e){return function(i,r){const s=new Hn;return i.asyncQueue.enqueueAndForget(async()=>JN(await cx(i),r,s)),s.promise}(Ym(t),e)}function Mx(t,e,n){const i=n.docs.get(e._key),r=new eS(t);return new Jb(t,r,e._key,i,new ja(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Js=r})(Zs),Ps(new Cr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new ra(new SC(i.getProvider("auth-internal")),new RC(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new F(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(h.options.projectId,d)}(a,r),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Pi($y,Xy,e),Pi($y,Xy,"esm2017")})();function ag(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vx=iS,rS=new Ko("auth","Firebase",iS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Em("@firebase/auth");function kx(t,...e){Zu.logLevel<=se.WARN&&Zu.warn(`Auth (${Zs}): ${t}`,...e)}function au(t,...e){Zu.logLevel<=se.ERROR&&Zu.error(`Auth (${Zs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,...e){throw lg(t,...e)}function ln(t,...e){return lg(t,...e)}function og(t,e,n){const i=Object.assign(Object.assign({},Vx()),{[e]:n});return new Ko("auth","Firebase",i).create(e,{appName:t.name})}function Fn(t){return og(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Px(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&en(t,"argument-error"),og(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return rS.create(t,...e)}function $(t,e,...n){if(!t)throw lg(e,...n)}function jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw au(e),new Error(e)}function Jn(t,e){t||jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Lx(){return Q_()==="http:"||Q_()==="https:"}function Q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lx()||ZR()||"connection"in navigator)?navigator.onLine:!0}function jx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jn(n>e,"Short delay should be less than long delay!"),this.isMobile=$R()||JR()}get(){return Ux()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e){Jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new el(3e4,6e4);function ni(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ii(t,e,n,i,r={}){return aS(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=Qo(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},s);return WR()||(h.referrerPolicy="no-referrer"),sS.fetch()(oS(t,t.config.apiHost,n,l),h)})}async function aS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},zx),e);try{const r=new Hx(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Bl(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bl(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Bl(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Bl(t,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw og(t,d,h);en(t,d)}}catch(r){if(r instanceof ti)throw r;en(t,"network-request-failed",{message:String(r)})}}async function tl(t,e,n,i,r={}){const s=await ii(t,e,n,i,r);return"mfaPendingCredential"in s&&en(t,"multi-factor-auth-required",{_serverResponse:s}),s}function oS(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?ug(t.config,r):`${t.config.apiScheme}://${r}`}function qx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ln(this.auth,"network-request-failed")),Bx.get())})}}function Bl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ln(t,e,i);return r.customData._tokenResponse=n,r}function Y_(t){return t!==void 0&&t.enterprise!==void 0}class Fx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gx(t,e){return ii(t,"GET","/v2/recaptchaConfig",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(t,e){return ii(t,"POST","/v1/accounts:delete",e)}async function lS(t,e){return ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qx(t,e=!1){const n=Ze(t),i=await n.getIdToken(e),r=cg(i);$(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ao(tf(r.auth_time)),issuedAtTime:ao(tf(r.iat)),expirationTime:ao(tf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tf(t){return Number(t)*1e3}function cg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return au("JWT malformed, contained fewer than 3 sections"),null;try{const r=mT(n);return r?JSON.parse(r):(au("Failed to decode base64 JWT payload"),null)}catch(r){return au("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function $_(t){const e=cg(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ti&&Yx(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Yx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ao(this.lastLoginAt),this.creationTime=ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Oo(t,lS(n,{idToken:i}));$(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uS(s.providerUserInfo):[],l=Wx(t.providerData,a),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ed(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,g)}async function Xx(t){const e=Ze(t);await Ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Wx(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function uS(t){return t.map(e=>{var{providerId:n}=e,i=ag(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e){const n=await aS(t,{},async()=>{const i=Qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=oS(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",sS.fetch()(a,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Jx(t,e){return ii(t,"POST","/v2/accounts:revokeToken",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");const n=$_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await Zx(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new As;return i&&($(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&($(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&($(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new As,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zn{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $x(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ed(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Qx(this,e)}reload(){return Xx(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ju(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kt(this.auth.app))return Promise.reject(Fn(this.auth));const e=await this.getIdToken();return await Oo(this,Kx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,O=(l=n.tenantId)!==null&&l!==void 0?l:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:N,isAnonymous:U,providerData:j,stsTokenManager:T}=n;$(A&&T,e,"internal-error");const v=As.fromJSON(this.name,T);$(typeof A=="string",e,"internal-error"),hi(g,e.name),hi(m,e.name),$(typeof N=="boolean",e,"internal-error"),$(typeof U=="boolean",e,"internal-error"),hi(_,e.name),hi(C,e.name),hi(O,e.name),hi(M,e.name),hi(S,e.name),hi(E,e.name);const b=new zn({uid:A,auth:e,email:m,emailVerified:N,displayName:g,isAnonymous:U,photoURL:C,phoneNumber:_,tenantId:O,stsTokenManager:v,createdAt:S,lastLoginAt:E});return j&&Array.isArray(j)&&(b.providerData=j.map(w=>Object.assign({},w))),M&&(b._redirectEventId=M),b}static async _fromIdTokenResponse(e,n,i=!1){const r=new As;r.updateFromServerResponse(n);const s=new zn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Ju(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];$(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?uS(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new As;l.updateFromIdToken(i);const u=new zn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ed(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;function Bn(t){Jn(t instanceof Function,"Expected a class definition");let e=X_.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,X_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cS.type="NONE";const W_=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e,n){return`firebase:${t}:${e}:${n}`}class ws{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=ou(this.userKey,r.apiKey,s),this.fullPersistenceKey=ou("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ws(Bn(W_),e,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Bn(W_);const a=ou(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){const g=zn._fromJSON(e,d);h!==s&&(l=g),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new ws(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new ws(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pS(e))return"Blackberry";if(yS(e))return"Webos";if(fS(e))return"Safari";if((e.includes("chrome/")||dS(e))&&!e.includes("edge/"))return"Chrome";if(gS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hS(t=gt()){return/firefox\//i.test(t)}function fS(t=gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dS(t=gt()){return/crios\//i.test(t)}function mS(t=gt()){return/iemobile/i.test(t)}function gS(t=gt()){return/android/i.test(t)}function pS(t=gt()){return/blackberry/i.test(t)}function yS(t=gt()){return/webos/i.test(t)}function hg(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eD(t=gt()){var e;return hg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tD(){return eI()&&document.documentMode===10}function _S(t=gt()){return hg(t)||gS(t)||yS(t)||pS(t)||/windows phone/i.test(t)||mS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e=[]){let n;switch(t){case"Browser":n=Z_(gt());break;case"Worker":n=`${Z_(gt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e={}){return ii(t,"GET","/v2/passwordPolicy",ni(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=6;class sD{constructor(e){var n,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:rD,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new nD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await ws.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lS(this,{idToken:e}),i=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ju(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kt(this.app))return Promise.reject(Fn(this));const n=e?Ze(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kt(this.app)?Promise.reject(Fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kt(this.app)?Promise.reject(Fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iD(this),n=new sD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ko("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Jx(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bn(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=await ws.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if($(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ri(t){return Ze(t)}class J_{constructor(e){this.auth=e,this.observer=null,this.addObserver=lI(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oD(t){jc=t}function ES(t){return jc.loadJS(t)}function lD(){return jc.recaptchaEnterpriseScript}function uD(){return jc.gapiScript}function cD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hD{constructor(){this.enterprise=new fD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dD="recaptcha-enterprise",TS="NO_RECAPTCHA";class mD{constructor(e){this.type=dD,this.auth=ri(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{Gx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new Fx(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;Y_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(TS)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hD().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&Y_(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=lD();u.length!==0&&(u+=l),ES(u).then(()=>{r(l,s,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function ev(t,e,n,i=!1,r=!1){const s=new mD(t);let a;if(r)a=TS;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ec(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ev(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ev(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e){const n=bm(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ir(s,e??{}))return r;en(r,"already-initialized")}return n.initialize({options:e})}function pD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function yD(t,e,n){const i=ri(t);$(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=bS(e),{host:a,port:l}=_D(e),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){$(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$(Ir(h,i.config.emulator)&&Ir(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,vD()}function bS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _D(t){const e=bS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:tv(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:tv(a)}}}function tv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,n){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}}async function ED(t,e){return ii(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e){return tl(t,"POST","/v1/accounts:signInWithPassword",ni(t,e))}async function bD(t,e){return ii(t,"POST","/v1/accounts:sendOobCode",ni(t,e))}async function SD(t,e){return bD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}async function wD(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends fg{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Mo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Mo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ec(e,n,"signInWithPassword",TD);case"emailLink":return AD(e,{email:this._email,oobCode:this._password});default:en(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ec(e,i,"signUpPassword",ED);case"emailLink":return wD(e,{idToken:n,email:this._email,oobCode:this._password});default:en(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(t,e){return tl(t,"POST","/v1/accounts:signInWithIdp",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="http://localhost";class Dr extends fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):en("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=ag(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Dr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Rs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Rs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rs(e,n)}buildRequest(){const e={requestUri:RD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CD(t){const e=Va(ka(t)).link,n=e?Va(ka(e)).deep_link_id:null,i=Va(ka(t)).deep_link_id;return(i?Va(ka(i)).link:null)||i||n||e||t}class dg{constructor(e){var n,i,r,s,a,l;const u=Va(ka(e)),h=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(i=u.oobCode)!==null&&i!==void 0?i:null,g=ID((r=u.mode)!==null&&r!==void 0?r:null);$(h&&d&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=CD(e);try{return new dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.providerId=sa.PROVIDER_ID}static credential(e,n){return Mo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=dg.parseLink(n);return $(i,"argument-error"),Mo._fromEmailAndCode(e,i.code,i.tenantId)}}sa.PROVIDER_ID="password";sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends mg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends nl{constructor(){super("facebook.com")}static credential(e){return Dr._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dr._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Mn.credential(n,i)}catch{return null}}}Mn.GOOGLE_SIGN_IN_METHOD="google.com";Mn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends nl{constructor(){super("github.com")}static credential(e){return Dr._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends nl{constructor(){super("twitter.com")}static credential(e,n){return Dr._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return bi.credential(n,i)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return tl(t,"POST","/v1/accounts:signUp",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await zn._fromIdTokenResponse(e,i,r),a=nv(i);return new Or({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=nv(i);return new Or({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function nv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends ti{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,tc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new tc(e,n,i,r)}}function SS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tc._fromErrorAndOperation(t,s,e,i):s})}async function xD(t,e,n=!1){const i=await Oo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Or._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e,n=!1){const{auth:i}=t;if(kt(i.app))return Promise.reject(Fn(i));const r="reauthenticate";try{const s=await Oo(t,SS(i,r,e,t),n);$(s.idToken,i,"internal-error");const a=cg(s.idToken);$(a,i,"internal-error");const{sub:l}=a;return $(t.uid===l,i,"user-mismatch"),Or._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&en(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(t,e,n=!1){if(kt(t.app))return Promise.reject(Fn(t));const i="signIn",r=await SS(t,i,e),s=await Or._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function OD(t,e){return AS(ri(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(t){const e=ri(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MD(t,e,n){const i=ri(t);await ec(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",SD)}async function VD(t,e,n){if(kt(t.app))return Promise.reject(Fn(t));const i=ri(t),a=await ec(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ND).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&wS(t),u}),l=await Or._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function kD(t,e,n){return kt(t.app)?Promise.reject(Fn(t)):OD(Ze(t),sa.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&wS(t),i})}function PD(t,e,n,i){return Ze(t).onIdTokenChanged(e,n,i)}function LD(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function UD(t,e,n,i){return Ze(t).onAuthStateChanged(e,n,i)}function jD(t){return Ze(t).signOut()}const nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nc,"1"),this.storage.removeItem(nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1e3,BD=10;class IS extends RS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);tD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,BD):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},zD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IS.type="LOCAL";const qD=IS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS extends RS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CS.type="SESSION";const NS=CS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new zc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await HD(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=gg("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function GD(t){vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function KD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YD(){return xS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebaseLocalStorageDb",$D=1,ic="firebaseLocalStorage",OS="fbase_key";class il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bc(t,e){return t.transaction([ic],e?"readwrite":"readonly").objectStore(ic)}function XD(){const t=indexedDB.deleteDatabase(DS);return new il(t).toPromise()}function Td(){const t=indexedDB.open(DS,$D);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ic,{keyPath:OS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ic)?e(i):(i.close(),await XD(),e(await Td()))})})}async function iv(t,e,n){const i=Bc(t,!0).put({[OS]:e,value:n});return new il(i).toPromise()}async function WD(t,e){const n=Bc(t,!1).get(e),i=await new il(n).toPromise();return i===void 0?null:i.value}function rv(t,e){const n=Bc(t,!0).delete(e);return new il(n).toPromise()}const ZD=800,JD=3;class MS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Td(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>JD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(YD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KD(),!this.activeServiceWorker)return;this.sender=new FD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Td();return await iv(e,nc,"1"),await rv(e,nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>iv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>WD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Bc(r,!1).getAll();return new il(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MS.type="LOCAL";const eO=MS;new el(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e){return e?Bn(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tO(t){return AS(t.auth,new pg(t),t.bypassAuthState)}function nO(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),DD(n,new pg(t),t.bypassAuthState)}async function iO(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),xD(n,new pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tO;case"linkViaPopup":case"linkViaRedirect":return iO;case"reauthViaPopup":case"reauthViaRedirect":return nO;default:en(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new el(2e3,1e4);async function sO(t,e,n){if(kt(t.app))return Promise.reject(ln(t,"operation-not-supported-in-this-environment"));const i=ri(t);Px(t,e,mg);const r=VS(i,n);return new dr(i,"signInViaPopup",e,r).executeNotNull()}class dr extends kS{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,dr.currentPopupAction&&dr.currentPopupAction.cancel(),dr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $(e,this.auth,"internal-error"),e}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const e=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rO.get())};e()}}dr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="pendingRedirect",lu=new Map;class oO extends kS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=lu.get(this.auth._key());if(!e){try{const i=await lO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}lu.set(this.auth._key(),e)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lO(t,e){const n=hO(e),i=cO(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function uO(t,e){lu.set(t._key(),e)}function cO(t){return Bn(t._redirectPersistence)}function hO(t){return ou(aO,t.config.apiKey,t.name)}async function fO(t,e,n=!1){if(kt(t.app))return Promise.reject(Fn(t));const i=ri(t),r=VS(i,e),a=await new oO(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=10*60*1e3;class mO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!PS(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dO&&this.cachedEventUids.clear(),this.cachedEventUids.has(sv(e))}saveEventToCache(e){this.cachedEventUids.add(sv(e)),this.lastProcessedEventTime=Date.now()}}function sv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e={}){return ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_O=/^https?/;async function vO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pO(t);for(const n of e)try{if(EO(n))return}catch{}en(t,"unauthorized-domain")}function EO(t){const e=vd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!_O.test(n))return!1;if(yO.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new el(3e4,6e4);function av(){const t=vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bO(t){return new Promise((e,n)=>{var i,r,s;function a(){av(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{av(),n(ln(t,"network-request-failed"))},timeout:TO.get()})}if(!((r=(i=vn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=vn().gapi)===null||s===void 0)&&s.load)a();else{const l=cD("iframefcb");return vn()[l]=()=>{gapi.load?a():n(ln(t,"network-request-failed"))},ES(`${uD()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw uu=null,e})}let uu=null;function SO(t){return uu=uu||bO(t),uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new el(5e3,15e3),wO="__/auth/iframe",RO="emulator/auth/iframe",IO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NO(t){const e=t.config;$(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ug(e,RO):`https://${t.config.authDomain}/${wO}`,i={apiKey:e.apiKey,appName:t.name,v:Zs},r=CO.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Qo(i).slice(1)}`}async function xO(t){const e=await SO(t),n=vn().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:NO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IO,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=ln(t,"network-request-failed"),l=vn().setTimeout(()=>{s(a)},AO.get());function u(){vn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OO=500,MO=600,VO="_blank",kO="http://localhost";class ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PO(t,e,n,i=OO,r=MO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},DO),{width:i.toString(),height:r.toString(),top:s,left:a}),h=gt().toLowerCase();n&&(l=dS(h)?VO:n),hS(h)&&(e=e||kO,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,C])=>`${m}${_}=${C},`,"");if(eD(h)&&l!=="_self")return LO(e||"",l),new ov(null);const g=window.open(e||"",l,d);$(g,t,"popup-blocked");try{g.focus()}catch{}return new ov(g)}function LO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="__/auth/handler",jO="emulator/auth/handler",zO=encodeURIComponent("fac");async function lv(t,e,n,i,r,s){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Zs,eventId:r};if(e instanceof mg){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",oI(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(e instanceof nl){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),h=u?`#${zO}=${encodeURIComponent(u)}`:"";return`${BO(t)}?${Qo(l).slice(1)}${h}`}function BO({config:t}){return t.emulator?ug(t,jO):`https://${t.authDomain}/${UO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="webStorageSupport";class qO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NS,this._completeRedirectFn=fO,this._overrideRedirectResult=uO}async _openPopup(e,n,i,r){var s;Jn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await lv(e,n,i,vd(),r);return PO(e,a,gg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await lv(e,n,i,vd(),r);return GD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Jn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await xO(e),i=new mO(e);return n.register("authEvent",r=>($(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nf,{type:nf},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[nf];a!==void 0&&n(!!a),en(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _S()||fS()||hg()}}const HO=qO;var uv="@firebase/auth",cv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KO(t){Ps(new Cr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;$(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vS(t)},h=new aD(i,r,s,u);return pD(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ps(new Cr("auth-internal",e=>{const n=ri(e.getProvider("auth").getImmediate());return(i=>new FO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(uv,cv,GO(t)),Pi(uv,cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=5*60,YO=yT("authIdTokenMaxAge")||QO;let hv=null;const $O=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>YO)return;const r=n==null?void 0:n.token;hv!==r&&(hv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function XO(t=TT()){const e=bm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gD(t,{popupRedirectResolver:HO,persistence:[eO,qD,NS]}),i=yT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=$O(s.toString());LD(n,a,()=>a(n.currentUser)),PD(n,l=>a(l))}}const r=gT("auth");return r&&yD(n,`http://${r}`),n}function WO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=ln("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",WO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KO("Browser");const di={apiKey:"AIzaSyAWqY7GcAk8HrraCcz1K0X5BH2nF6J_Np0",authDomain:"bisonsports-3662c.firebaseapp.com",projectId:"bisonsports-3662c",storageBucket:"bisonsports-3662c.firebasestorage.app",messagingSenderId:"911932271804",appId:"1:911932271804:web:8c13b569ba42377828b4b9",measurementId:"G-1EB7YRKGYT"};console.log("Firebase Config:",{apiKey:di.apiKey?"Present":"Missing",authDomain:di.authDomain?"Present":"Missing",projectId:di.projectId?"Present":"Missing",storageBucket:di.storageBucket?"Present":"Missing",messagingSenderId:di.messagingSenderId?"Present":"Missing",appId:di.appId?"Present":"Missing",measurementId:di.measurementId?"Present":"Missing"});const LS=ET(di),Wt=gx(LS),$r=XO(LS),ZO=new Mn,US=G.createContext(),Ca={data:{managers:new Map,stadiums:new Map},maxAge:5*60*1e3,set(t,e,n){this.data[t].set(e,{data:n,timestamp:Date.now()})},get(t,e){const n=this.data[t].get(e);return n?Date.now()-n.timestamp>this.maxAge?(this.data[t].delete(e),null):n.data:null},clear(){this.data.managers.clear(),this.data.stadiums.clear()}},Br=()=>G.useContext(US),JO=({children:t})=>{const[e,n]=G.useState(null),[i,r]=G.useState(!0),[s,a]=G.useState(""),[l,u]=G.useState(null),[h,d]=G.useState(null),g=async A=>{try{const N=Ca.get("stadiums",A);if(N){d(N);return}const U=Hs(Wt,"stadiums",A),j=await K_(U);if(j.exists()){const T=j.data();Ca.set("stadiums",A,T),d(T)}else console.error("Stadium not found"),d(null)}catch(N){console.error("Error fetching stadium data:",N),d(null)}},m=async A=>{try{const N=Ca.get("managers",A);if(N){u({...N,id:A}),N.stadiumID&&await g(N.stadiumID);return}const U=Hs(Wt,"managers",A),j=await K_(U);if(j.exists()){const T={...j.data(),id:A};Ca.set("managers",A,T),u(T),T.stadiumID?await g(T.stadiumID):d(null)}else a("Manager profile not found"),u(null),d(null)}catch(N){console.error("Error fetching manager data:",N),a("Failed to fetch manager data"),u(null),d(null)}},_=async()=>{try{const A=await sO($r,ZO);return await m(A.user.uid),A.user}catch(A){throw a(A.message),A}},C=async(A,N)=>{try{const U=await kD($r,A,N);return await m(U.user.uid),U.user}catch(U){throw a(U.message),U}},O=async(A,N)=>{try{const U=await VD($r,A,N);return await m(U.user.uid),U.user}catch(U){throw a(U.message),U}},M=async A=>{try{await MD($r,A)}catch(N){throw a(N.message),N}},S=async()=>{try{await jD($r),n(null),u(null),d(null),Ca.clear()}catch(A){throw a(A.message),A}};G.useEffect(()=>UD($r,async N=>{n(N),N&&await m(N.uid),r(!1)}),[]);const E={user:e,error:s,managerData:l,stadiumData:h,setStadiumData:d,signInWithGoogle:_,signInWithEmail:C,signUpWithEmail:O,resetPassword:M,logOut:S,loading:i};return y.jsx(US.Provider,{value:E,children:!i&&t})};function jS({isOpen:t,onClose:e,onSave:n,court:i}){const{managerData:r}=Br(),[s,a]=G.useState({courtId:"",date:"",duration:0,coachId:"",status:"confirmed"}),[l,u]=G.useState(!1),[h,d]=G.useState(""),[g,m]=G.useState([]),[_,C]=G.useState(null),[O,M]=G.useState([]),[S,E]=G.useState([]),[A,N]=G.useState(null);G.useEffect(()=>{if(t){const z=new Date().toISOString().split("T")[0];a({courtId:"",date:z,duration:0,coachId:"",status:"confirmed"}),d(""),i?(C(i),a(K=>({...K,courtId:i.id,date:z,duration:i.minimumBookingDuration||60}))):U()}},[t,i]);const U=async()=>{try{const z=Er(Wt,"courts"),K=xo(z,Tr("stadiumId","==",r.stadiumID)),oe=(await Do(K)).docs.map(ie=>({id:ie.id,...ie.data()}));m(oe)}catch(z){console.error("Error fetching courts:",z),d("Failed to fetch courts. Please try again.")}},j=async()=>{if(!(!s.date||!s.courtId))try{const z=Er(Wt,"bookings"),K=xo(z,Tr("courtId","==",s.courtId),Tr("date","==",s.date)),oe=(await Do(K)).docs.map(ie=>({...ie.data()}));M(oe)}catch(z){console.error("Error fetching booked slots:",z)}};G.useEffect(()=>{s.date&&s.courtId&&j()},[s.date,s.courtId]);const T=z=>{const[K,Y]=z.split(" ");let[oe,ie]=K.split(":").map(Number);return oe=oe%12,Y==="PM"&&(oe+=12),oe*60+ie},v=(z,K)=>{const Y=T(z),oe=T(K);return console.log("Checking availability for:",{startTime:z,endTime:K,startMinutes:Y,endMinutes:oe,bookedSlots:O.map(ie=>({start:ie.timeSlot.startTime,end:ie.timeSlot.endTime}))}),!O.some(ie=>{const ye=T(ie.timeSlot.startTime),Je=T(ie.timeSlot.endTime),De=Y<Je&&oe>ye;return console.log("Checking overlap:",{bookingStart:ye,bookingEnd:Je,isOverlapping:De}),De})},b=()=>{const z=new Date,K=5.5*60*60*1e3;return new Date(z.getTime()+K)},w=z=>{const K=b(),[Y,oe]=z.split(" ");let[ie,ye]=Y.split(":").map(Number);ie=ie%12,oe==="PM"&&(ie+=12);const Je=new Date(s.date);Je.setHours(ie,ye,0);const De=new Date(K.getTime()),Ji=new Date(Je.getTime());if(Ji.toDateString()===De.toDateString()){const _t=new Date(De.getTime()-18e5);return Ji<_t}return Ji<De},I=()=>{if(!_||!s.date||!s.duration){console.log("Missing required data:",{selectedCourt:_==null?void 0:_.id,date:s.date,duration:s.duration});return}try{const z=[],[K,Y]=_.openingTime.split(" ");let[oe,ie]=K.split(":").map(Number);oe=oe%12,Y==="PM"&&(oe+=12);const[ye,Je]=_.closingTime.split(" ");let[De,Ji]=ye.split(":").map(Number);De=De%12,Je==="PM"&&(De+=12);let _t=new Date(s.date);_t.setHours(oe,ie,0);const qr=new Date(s.date);for(qr.setHours(De,Ji,0),console.log("Generating slots between:",{opening:_t.toLocaleTimeString(),closing:qr.toLocaleTimeString(),duration:s.duration,courtHours:`${_.openingTime} - ${_.closingTime}`,currentIST:b().toLocaleString(),selectedDate:s.date});_t<qr;){const aa=_t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),si=new Date(_t);if(si.setMinutes(_t.getMinutes()+s.duration),si<=qr){const er=si.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});v(aa,er)&&!w(aa)&&z.push({startTime:aa,endTime:er})}_t.setMinutes(_t.getMinutes()+30)}console.log("Available slots:",z),E(z)}catch(z){console.error("Error generating slots:",z),d("Error generating time slots. Please try again.")}};G.useEffect(()=>{console.log("Effect triggered with:",{date:s.date,duration:s.duration,selectedCourt:_==null?void 0:_.id,bookedSlots:O.length,courtHours:_?`${_.openingTime} - ${_.closingTime}`:null}),I()},[s.date,s.duration,_,O]);const D=()=>{if(!_||!s.duration)return 0;const z=s.duration/60;return Math.round(z*_.pricePerHour)},R=z=>{const{name:K,value:Y}=z.target;if(console.log("Input changed:",{name:K,value:Y}),K==="date"&&!Y){const oe=new Date().toISOString().split("T")[0];a(ie=>({...ie,[K]:oe}))}else a(oe=>({...oe,[K]:K==="duration"?Number(Y):Y}))},yt=z=>{const K=z.target.value,Y=g.find(oe=>oe.id===K);console.log("Court changed:",{courtId:K,court:Y,openingTime:Y==null?void 0:Y.openingTime,closingTime:Y==null?void 0:Y.closingTime}),C(Y),a(oe=>({...oe,courtId:K,duration:Y.minimumBookingDuration||60}))},tn=()=>{a(z=>({...z,duration:z.duration+(_.minimumBookingDuration||60)}))},q=z=>{N(z)},W=async z=>{z.preventDefault(),u(!0),d("");try{if(!(r!=null&&r.id))throw new Error("Manager data not available");if(!A)throw new Error("Please select a time slot");const K=s.duration/60,Y=Math.round(K*_.pricePerHour),oe={userId:r.id,stadiumId:r.stadiumID,courtId:s.courtId,coachId:s.coachId||null,date:s.date,timeSlot:{startTime:A.startTime,endTime:A.endTime},status:s.status,amount:Y},ie=Er(Wt,"bookings");await nS(ie,oe),n()}catch(K){console.error("Error creating booking:",K),d(K.message||"Failed to create booking. Please try again.")}finally{u(!1)}};return t?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Booking"}),h&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:h}),y.jsxs("form",{onSubmit:W,className:"space-y-6",children:[!i&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Court"}),y.jsxs("select",{name:"courtId",value:s.courtId,onChange:yt,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[y.jsx("option",{value:"",children:"Select a court"}),g.map(z=>y.jsxs("option",{value:z.id,children:["Court ",z.courtNumber," - ",z.sport]},z.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),y.jsx("input",{type:"date",name:"date",value:s.date,onChange:R,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,min:new Date().toISOString().split("T")[0]}),y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select a date to view available time slots"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Duration (minutes)"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"number",name:"duration",value:s.duration,onChange:R,className:"mt-1 block w-full px-2 py-1 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,min:(_==null?void 0:_.minimumBookingDuration)||60,step:(_==null?void 0:_.minimumBookingDuration)||60,disabled:!_}),y.jsxs("button",{type:"button",onClick:tn,className:"mt-1 px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:!_,children:["Add ",(_==null?void 0:_.minimumBookingDuration)||60," min"]})]}),_&&y.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[y.jsxs("p",{children:["Court hours: ",_.openingTime," - ",_.closingTime]}),y.jsxs("p",{children:["Minimum duration: ",_.minimumBookingDuration||60," minutes"]}),y.jsxs("p",{children:["Price: ",D()]})]})]}),S.length===0&&s.date&&s.duration&&y.jsxs("div",{className:"text-sm text-gray-500",children:[y.jsx("p",{children:"No available slots found for the selected duration."}),y.jsx("p",{children:"Please check:"}),y.jsxs("ul",{className:"list-disc pl-5",children:[y.jsx("li",{children:"Selected date is valid"}),y.jsx("li",{children:"Duration is within court hours"}),y.jsxs("li",{children:["Duration is a multiple of ",(_==null?void 0:_.minimumBookingDuration)||60," minutes"]}),y.jsx("li",{children:"No overlapping bookings exist"}),y.jsxs("li",{children:["Slots are not in the past (current time: ",b().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),")"]})]})]}),S.length>0&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Time Slots"}),y.jsx("div",{className:"h-16 overflow-x-auto",children:y.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((z,K)=>y.jsxs("button",{type:"button",onClick:()=>q(z),className:`p-1.5 border rounded-md text-xs whitespace-nowrap ${(A==null?void 0:A.startTime)===z.startTime?"bg-blue-100 border-blue-500":"border-gray-300 hover:bg-gray-50"}`,children:[z.startTime," - ",z.endTime]},K))})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Coach ID (Optional)"}),y.jsx("input",{type:"text",name:"coachId",value:s.coachId,onChange:R,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter coach ID"})]}),y.jsxs("div",{className:"flex justify-end gap-4",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:l||!A,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 ${l||!A?"opacity-50 cursor-not-allowed":""}`,children:l?"Creating...":"Create Booking"})]})]})]})}):null}const eM=({isOpen:t,toggleSidebar:e})=>{const{managerData:n}=Br(),[i,r]=G.useState(!1),s=[{title:"Users List",icon:hT},{title:"Payment History",icon:lT},{title:"Coaches",icon:cT},{title:"Court Details",icon:Tc},{title:"Add Booking",icon:vm,onClick:()=>r(!0)},{title:"Revenue",icon:sT}];return y.jsxs("div",{className:`bg-white h-full shadow-lg transition-all duration-300 ${t?"w-64":"w-20"} relative`,children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[y.jsx("h1",{className:`font-bold text-xl ${!t&&"hidden"}`,children:"SportsDash"}),y.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-gray-200",children:t?y.jsx(aT,{size:20}):y.jsx(oT,{size:20})})]}),y.jsx("nav",{className:"mt-6",children:y.jsx("ul",{children:s.map((a,l)=>y.jsx("li",{children:y.jsxs("button",{onClick:a.onClick,className:"w-full flex items-center p-4 text-gray-700 hover:bg-gray-100 transition-colors",children:[y.jsx(a.icon,{size:20,className:"min-w-[20px]"}),y.jsx("span",{className:`ml-4 ${!t&&"hidden"}`,children:a.title})]})},l))})}),y.jsx(jS,{isOpen:i,onClose:()=>r(!1),onSave:()=>r(!1),court:null})]})},tM=({toggleSidebar:t})=>{const{logOut:e,managerData:n,stadiumData:i}=Br(),[r,s]=G.useState(!1),[a,l]=G.useState(""),u=async()=>{try{s(!0),l(""),await e()}catch(h){l("Failed to log out. Please try again."),console.error("Failed to log out:",h)}finally{s(!1)}};return y.jsxs("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-4",children:[y.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 lg:hidden",children:y.jsx(NR,{size:20})}),y.jsx("div",{className:"flex-1 lg:ml-4",children:y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:(i==null?void 0:i.name)||"Loading Stadium..."})}),y.jsxs("div",{className:"flex items-center gap-4",children:[a&&y.jsx("span",{className:"text-sm text-red-600",children:a}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(PR,{size:18,className:"text-gray-600"}),y.jsxs("span",{className:"text-gray-700 font-medium",children:["Welcome, ",(n==null?void 0:n.name)||"Loading..."]})]}),y.jsxs("button",{onClick:u,disabled:r,className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${r?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-red-50 text-red-600 hover:bg-red-100"}`,children:[y.jsx(wR,{size:18}),y.jsx("span",{children:r?"Logging out...":"Logout"})]})]})]})};function nM({isOpen:t,onClose:e}){const{stadiumData:n,managerData:i,setStadiumData:r}=Br(),[s,a]=G.useState({name:"",address:"",addressLink:"",amenities:[]}),[l,u]=G.useState(""),[h,d]=G.useState(!1),[g,m]=G.useState("");G.useEffect(()=>{n&&a({name:n.name||"",address:n.address||"",addressLink:n.addressLink||"",amenities:n.amenities||[]})},[n]);const _=S=>{const{name:E,value:A}=S.target;a(N=>({...N,[E]:A}))},C=()=>{l.trim()&&(a(S=>({...S,amenities:[...S.amenities,l.trim()]})),u(""))},O=S=>{a(E=>({...E,amenities:E.amenities.filter((A,N)=>N!==S)}))},M=async S=>{S.preventDefault(),d(!0),m("");try{const E=Hs(Wt,"stadiums",i.stadiumID);await tS(E,s),r(s),e()}catch(E){console.error("Error updating stadium:",E),m("Failed to update stadium details. Please try again.")}finally{d(!1)}};return t?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full mx-4",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Edit Stadium Details"}),g&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:g}),y.jsxs("form",{onSubmit:M,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Stadium Name"}),y.jsx("input",{type:"text",name:"name",value:s.name,onChange:_,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),y.jsx("input",{type:"text",name:"address",value:s.address,onChange:_,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address Link"}),y.jsx("input",{type:"url",name:"addressLink",value:s.addressLink,onChange:_,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amenities"}),y.jsxs("div",{className:"mt-2 flex gap-2",children:[y.jsx("input",{type:"text",value:l,onChange:S=>u(S.target.value),placeholder:"Add new amenity",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),y.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add"})]}),y.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:s.amenities.map((S,E)=>y.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[S,y.jsx("button",{type:"button",onClick:()=>O(E),className:"ml-2 text-blue-600 hover:text-blue-800",children:""})]},E))})]}),y.jsxs("div",{className:"flex justify-end gap-4",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:h,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 ${h?"opacity-50 cursor-not-allowed":""}`,children:h?"Saving...":"Save Changes"})]})]})]})}):null}function iM({isOpen:t,onClose:e,onSave:n,stadiumId:i,court:r}){const[s,a]=G.useState({courtNumber:"",courtType:"",pricePerHour:"",sport:"",openingTime:"",closingTime:"",minimumBookingDuration:60}),[l,u]=G.useState(!1),[h,d]=G.useState("");G.useEffect(()=>{a(r?{courtNumber:r.courtNumber||"",courtType:r.courtType||"",pricePerHour:r.pricePerHour||"",sport:r.sport||"",openingTime:r.openingTime||"",closingTime:r.closingTime||"",minimumBookingDuration:r.minimumBookingDuration||60}:{courtNumber:"",courtType:"",pricePerHour:"",sport:"",openingTime:"",closingTime:"",minimumBookingDuration:60})},[r]);const g=C=>{const{name:O,value:M}=C.target;a(S=>({...S,[O]:O==="minimumBookingDuration"?Number(M):M}))},m=async C=>{C.preventDefault(),u(!0),d("");try{if(r){const O=Hs(Wt,"courts",r.id);await tS(O,{...s,stadiumId:i})}else{const O=Er(Wt,"courts");await nS(O,{...s,stadiumId:i})}n()}catch(O){console.error("Error saving court:",O),d("Failed to save court. Please try again.")}finally{u(!1)}},_=()=>{const C=[];for(let O=0;O<24;O++)for(let M=0;M<60;M+=30){const S=new Date;S.setHours(O,M,0);const E=S.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});C.push(E)}return C};return t?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:r?"Edit Court":"Add New Court"}),h&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:h}),y.jsxs("form",{onSubmit:m,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Court Number"}),y.jsx("input",{type:"text",name:"courtNumber",value:s.courtNumber,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sport"}),y.jsxs("select",{name:"sport",value:s.sport,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[y.jsx("option",{value:"",children:"Select sport"}),y.jsx("option",{value:"Badminton",children:"Badminton"}),y.jsx("option",{value:"Cricket",children:"Cricket"}),y.jsx("option",{value:"Basketball",children:"Basketball"}),y.jsx("option",{value:"Tennis",children:"Tennis"}),y.jsx("option",{value:"Football",children:"Football"}),y.jsx("option",{value:"Volleyball",children:"Volleyball"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Court Type"}),y.jsxs("select",{name:"courtType",value:s.courtType,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[y.jsx("option",{value:"",children:"Select court type"}),y.jsx("option",{value:"Turf",children:"Turf"}),y.jsx("option",{value:"Clay",children:"Clay"}),y.jsx("option",{value:"Grass",children:"Grass"}),y.jsx("option",{value:"Hard",children:"Hard"}),y.jsx("option",{value:"Synthetic",children:"Synthetic"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price per Hour ()"}),y.jsx("input",{type:"number",name:"pricePerHour",value:s.pricePerHour,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Opening Time"}),y.jsxs("select",{name:"openingTime",value:s.openingTime,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[y.jsx("option",{value:"",children:"Select opening time"}),_().map((C,O)=>y.jsx("option",{value:C,children:C},O))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Closing Time"}),y.jsxs("select",{name:"closingTime",value:s.closingTime,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,children:[y.jsx("option",{value:"",children:"Select closing time"}),_().map((C,O)=>y.jsx("option",{value:C,children:C},O))]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Booking Duration"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"radio",name:"minimumBookingDuration",value:"30",checked:s.minimumBookingDuration===30,onChange:g,className:"mr-2"}),"30 minutes"]}),y.jsxs("label",{className:"flex items-center",children:[y.jsx("input",{type:"radio",name:"minimumBookingDuration",value:"60",checked:s.minimumBookingDuration===60,onChange:g,className:"mr-2"}),"1 hour"]})]})]}),y.jsxs("div",{className:"flex justify-end gap-4",children:[y.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:l,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 ${l?"opacity-50 cursor-not-allowed":""}`,children:l?"Saving...":"Save"})]})]})]})}):null}function rM({isOpen:t,onClose:e,court:n}){const[i,r]=G.useState(new Date),[s,a]=G.useState([]),[l,u]=G.useState(!0),[h,d]=G.useState(""),[g,m]=G.useState(!1);G.useEffect(()=>{t&&n&&_()},[t,n,i]);const _=async()=>{try{u(!0);const M=i.toISOString().split("T")[0],S=Er(Wt,"bookings"),E=xo(S,Tr("courtId","==",n.id),Tr("date","==",M)),N=(await Do(E)).docs.map(U=>({id:U.id,...U.data()}));a(N),d("")}catch(M){console.error("Error fetching bookings:",M),d("Failed to fetch bookings. Please try again.")}finally{u(!1)}},C=M=>{const S=new Date(i);S.setDate(S.getDate()+M),r(S)},O=M=>new Date(`2000-01-01T${M}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return t?y.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[y.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("h2",{className:"text-2xl font-bold",children:"Court Bookings"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>C(-1),className:"p-1 hover:bg-gray-100 rounded-full",children:y.jsx(aT,{size:24})}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Tc,{size:20}),y.jsx("span",{className:"font-medium",children:i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),y.jsx("button",{onClick:()=>C(1),className:"p-1 hover:bg-gray-100 rounded-full",children:y.jsx(oT,{size:24})})]})]}),y.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Close"})]}),h&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:h}),l?y.jsx("div",{className:"text-center py-8",children:"Loading bookings..."}):s.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500",children:"No bookings for this date"}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Slot"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coach"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(M=>y.jsxs("tr",{children:[y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[O(M.timeSlot.startTime)," - ",O(M.timeSlot.endTime)]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.coachId||"No coach assigned"}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",M.amount]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:y.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${M.status==="confirmed"?"bg-green-100 text-green-800":M.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:M.status.charAt(0).toUpperCase()+M.status.slice(1)})})]},M.id))})]})})]}),y.jsx("button",{onClick:()=>m(!0),className:"fixed bottom-8 right-8 flex items-center justify-center w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors duration-200 z-50",children:y.jsx(vm,{size:24})}),y.jsx(jS,{isOpen:g,onClose:()=>m(!1),onSave:()=>{m(!1),_()},court:n})]}):null}function sM({isOpen:t,onClose:e,stadiumId:n}){const[i,r]=G.useState([]),[s,a]=G.useState(!0),[l,u]=G.useState(""),[h,d]=G.useState(!1),[g,m]=G.useState(!1),[_,C]=G.useState(null),[O,M]=G.useState(null);G.useEffect(()=>{t&&n&&S()},[t,n]);const S=async()=>{try{a(!0);const j=Er(Wt,"courts"),T=xo(j,Tr("stadiumId","==",n)),b=(await Do(T)).docs.map(w=>({id:w.id,...w.data()}));r(b),u("")}catch(j){console.error("Error fetching courts:",j),u("Failed to fetch courts. Please try again.")}finally{a(!1)}},E=j=>{C(j),d(!0)},A=j=>{C(j),m(!0)},N=()=>{C(null),d(!0)},U=async j=>{try{a(!0);const T=Hs(Wt,"courts",j.id);await Ox(T),r(v=>v.filter(b=>b.id!==j.id)),M(null),u("")}catch(T){console.error("Error deleting court:",T),u("Failed to delete court. Please try again.")}finally{a(!1)}};return t?y.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[y.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold",children:"Court Management"}),y.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[y.jsx(vm,{size:20}),"Add New Court"]})]}),l&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:l}),s?y.jsx("div",{className:"text-center py-8",children:"Loading courts..."}):i.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500",children:"No courts found"}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Court Number"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sport"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Court Type"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price/Hour"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timing"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(j=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.courtNumber}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.sport}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.courtType}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",j.pricePerHour]}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[j.openingTime," - ",j.closingTime]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>A(j),className:"text-blue-600 hover:text-blue-900",title:"View Bookings",children:y.jsx(Tc,{size:18})}),y.jsx("button",{onClick:()=>E(j),className:"text-blue-600 hover:text-blue-900",title:"Edit Court",children:y.jsx(uT,{size:18})}),y.jsx("button",{onClick:()=>M(j),className:"text-red-600 hover:text-red-900",title:"Delete Court",children:y.jsx(MR,{size:18})})]})})]},j.id))})]})}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Close"})})]}),O&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Delete Court"}),y.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete Court ",O.courtNumber,"? This action cannot be undone."]}),y.jsxs("div",{className:"flex justify-end gap-4",children:[y.jsx("button",{onClick:()=>M(null),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),y.jsx("button",{onClick:()=>U(O),disabled:s,className:`px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 ${s?"opacity-50 cursor-not-allowed":""}`,children:s?"Deleting...":"Delete"})]})]})}),y.jsx(iM,{isOpen:h,onClose:()=>{d(!1),C(null)},onSave:()=>{d(!1),C(null),S()},stadiumId:n,court:_}),y.jsx(rM,{isOpen:g,onClose:()=>{m(!1),C(null)},court:_})]}):null}const aM=()=>{const{stadiumData:t,managerData:e}=Br(),[n,i]=G.useState(!1),[r,s]=G.useState(!1),[a,l]=G.useState(0);G.useEffect(()=>{e!=null&&e.stadiumID&&u()},[e==null?void 0:e.stadiumID]);const u=async()=>{try{const d=Er(Wt,"courts"),g=xo(d,Tr("stadiumId","==",e.stadiumID)),m=await Do(g);l(m.size)}catch(d){console.error("Error fetching court count:",d)}},h=[{title:"Profile",icon:uT,color:"bg-blue-500",customContent:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(IR,{className:"text-gray-600",size:18}),y.jsx("span",{className:"text-sm text-gray-600",children:(t==null?void 0:t.address)||"No address"})]}),(t==null?void 0:t.addressLink)&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(TR,{className:"text-gray-600",size:18}),y.jsx("a",{href:t.addressLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View on Map"})]}),(t==null?void 0:t.amenities)&&t.amenities.length>0&&y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx(SR,{className:"text-gray-600 mt-1",size:18}),y.jsx("div",{className:"flex flex-wrap gap-2",children:t.amenities.map((d,g)=>y.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-800",children:d},g))})]})]})},{title:"Users List",icon:hT,count:"1,234",description:"Total registered users",color:"bg-blue-500"},{title:"Payment History",icon:lT,count:"$12,345",description:"Total transactions",color:"bg-green-500"},{title:"Coaches",icon:cT,count:"42",description:"Active coaches",color:"bg-purple-500"},{title:"Court Details",icon:Tc,count:a.toString(),description:"Available courts",color:"bg-yellow-500",onClick:()=>s(!0)},{title:"Revenue",icon:sT,count:"$45,678",description:"Total revenue",color:"bg-red-500"}];return y.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((d,g)=>y.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow ${d.onClick?"cursor-pointer":""}`,onClick:d.onClick,children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:d.title}),y.jsx("div",{className:`p-3 rounded-full ${d.color} text-white ${d.onClick?"cursor-pointer hover:opacity-90 transition-opacity":""}`,onClick:m=>{m.stopPropagation(),d.title==="Profile"&&i(!0)},children:y.jsx(d.icon,{size:24})})]}),d.customContent?d.customContent:y.jsxs("div",{children:[y.jsx("p",{className:"text-2xl font-bold",children:d.count}),y.jsx("p",{className:"text-gray-500 text-sm",children:d.description})]})]}),y.jsx("div",{className:`h-1 ${d.color}`})]},g))}),y.jsx(nM,{isOpen:n,onClose:()=>i(!1)}),y.jsx(sM,{isOpen:r,onClose:()=>s(!1),stadiumId:e==null?void 0:e.stadiumID})]})};function oM(){const{signInWithGoogle:t,signInWithEmail:e,signUpWithEmail:n,resetPassword:i,error:r}=Br(),[s,a]=G.useState(""),[l,u]=G.useState(""),[h,d]=G.useState(!1),[g,m]=G.useState(!1),[_,C]=G.useState(""),O=async()=>{try{await t()}catch(E){C(E.message)}},M=async E=>{E.preventDefault();try{h?await n(s,l):await e(s,l)}catch(A){C(A.message)}},S=async E=>{E.preventDefault();try{await i(s),C("Password reset email sent! Check your inbox."),m(!1)}catch(A){C(A.message)}};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:g?"Reset Password":h?"Create Account":"Welcome Back"}),_&&y.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:_}),g?y.jsxs("form",{onSubmit:S,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),y.jsx("input",{type:"email",value:s,onChange:E=>a(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),y.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200",children:"Send Reset Link"}),y.jsx("button",{type:"button",onClick:()=>m(!1),className:"w-full text-gray-600 py-2 px-4 rounded-lg hover:bg-gray-100 transition duration-200",children:"Back to Login"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("form",{onSubmit:M,className:"space-y-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),y.jsx("input",{type:"email",value:s,onChange:E=>a(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),y.jsx("input",{type:"password",value:l,onChange:E=>u(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),!h&&y.jsx("button",{type:"button",onClick:()=>m(!0),className:"text-sm text-blue-600 hover:text-blue-800",children:"Forgot Password?"}),y.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200",children:h?"Sign Up":"Sign In"})]}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-300"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),y.jsxs("button",{onClick:O,className:"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition duration-200 flex items-center justify-center gap-2",children:[y.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:y.jsx("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1Z"})}),"Continue with Google"]}),y.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:[h?"Already have an account?":"Don't have an account?"," ",y.jsx("button",{onClick:()=>d(!h),className:"text-blue-600 hover:text-blue-800 font-medium",children:h?"Sign In":"Sign Up"})]})]})]})})}function lM(){const[t,e]=G.useState(!0),{user:n}=Br(),i=()=>{e(!t)};return n?y.jsxs("div",{className:"flex h-screen bg-gray-100",children:[y.jsx(eM,{isOpen:t,toggleSidebar:i}),y.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[y.jsx(tM,{toggleSidebar:i}),y.jsx(aM,{})]})]}):y.jsx(oM,{})}function uM(){return y.jsx(JO,{children:y.jsx(lM,{})})}hR.createRoot(document.getElementById("root")).render(y.jsx(G.StrictMode,{children:y.jsx(uM,{})}));
